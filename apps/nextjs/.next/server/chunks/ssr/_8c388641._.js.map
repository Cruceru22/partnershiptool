{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/ui/src/avatar.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\n\nimport { cn } from \".\";\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className,\n    )}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className,\n    )}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarImage, AvatarFallback };\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,kKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,kKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/ui/src/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { Cross2Icon } from \"@radix-ui/react-icons\";\n\nimport { cn } from \".\";\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className,\n    )}\n    {...props}\n  />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className,\n    )}\n    {...props}\n  />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,kKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,kKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,gLAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;0CACtB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,kKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/ui/src/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \".\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center bg-primary/10 p-1 text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,gKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,uFACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,gKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,uXACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/%5Bworkspace%5D/_components/members-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport {\n  CheckCircle2,\n  Mail,\n  MoreHorizontal,\n  Plus,\n  Trash,\n  UserCheck,\n  UserCog,\n  UserPlus,\n  Users,\n  X,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nimport { Avatar, AvatarFallback, AvatarImage } from \"@acme/ui/avatar\";\nimport { Button } from \"@acme/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@acme/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@acme/ui/dialog\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@acme/ui/dropdown-menu\";\nimport { Input } from \"@acme/ui/input\";\nimport { Skeleton } from \"@acme/ui/skeleton\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@acme/ui/tabs\";\n\nimport { useTRPC } from \"~/trpc/react\";\n\n// Define a type for the user\ntype UserData = {\n  id?: string;\n  name?: string | null;\n  email?: string | null;\n  image?: string | null;\n};\n\n// Define types for organization members and invitations\ntype OrganizationMember = {\n  id: string;\n  user: UserData;\n  role: string;\n  joinedAt: string;\n};\n\ntype Invitation = {\n  id: string;\n  email: string;\n  role: string;\n  status: \"pending\" | \"accepted\" | \"rejected\" | \"canceled\";\n  createdAt: string;\n  expiresAt: string;\n};\n\ntype Organization = {\n  id: string;\n  name: string;\n  slug: string;\n  logo?: string | null;\n};\n\nexport function MembersSection() {\n  const [activeTab, setActiveTab] = useState(\"members\");\n  const [isInviteDialogOpen, setIsInviteDialogOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [inviteEmail, setInviteEmail] = useState(\"\");\n  const [inviteRole, setInviteRole] = useState(\"member\");\n  const [isSendingInvite, setIsSendingInvite] = useState(false);\n\n  // Mock data - in a real app, these would come from API calls\n  const [organization, setOrganization] = useState<Organization>({\n    id: \"org-1\",\n    name: \"Your Organization\",\n    slug: \"your-org\",\n  });\n  const [members, setMembers] = useState<OrganizationMember[]>([]);\n  const [invitations, setInvitations] = useState<Invitation[]>([]);\n\n  // Use tRPC to get the session\n  const trpc = useTRPC();\n  const { data: sessionData, isLoading: isSessionLoading } = useQuery(\n    trpc.auth.getSession.queryOptions(),\n  );\n\n  // Populate initial data\n  useEffect(() => {\n    if (!isSessionLoading && sessionData?.user) {\n      // Mock: Add the current user as a member with owner role\n      const currentUserMember = {\n        id: \"member-1\",\n        user: {\n          id: sessionData.user.id,\n          name: sessionData.user.name,\n          email: sessionData.user.email,\n          image: sessionData.user.image,\n        },\n        role: \"owner\",\n        joinedAt: new Date().toISOString(),\n      };\n\n      setMembers([currentUserMember]);\n      setIsLoading(false);\n    }\n  }, [sessionData, isSessionLoading]);\n\n  // Role options for the dropdown\n  const roleOptions = [\n    {\n      value: \"admin\",\n      label: \"Admin\",\n      description: \"Admins can manage members, settings, and all resources.\",\n    },\n    {\n      value: \"member\",\n      label: \"Member\",\n      description:\n        \"Members can view and create resources but cannot modify organization settings.\",\n    },\n    {\n      value: \"guest\",\n      label: \"Guest\",\n      description:\n        \"Guests have limited access to specific resources they're assigned to.\",\n    },\n  ];\n\n  // Handle sending invitations\n  const handleSendInvite = async () => {\n    if (!inviteEmail) {\n      toast(\"Please enter an email address\", {\n        description: \"An email address is required to send an invitation\",\n      });\n      return;\n    }\n\n    setIsSendingInvite(true);\n\n    try {\n      // Mock: Add to invitations list\n      const newInvitation: Invitation = {\n        id: `invite-${Date.now()}`,\n        email: inviteEmail,\n        role: inviteRole,\n        status: \"pending\",\n        createdAt: new Date().toISOString(),\n        expiresAt: new Date(Date.now() + 48 * 60 * 60 * 1000).toISOString(), // 48 hours\n      };\n\n      setInvitations([...invitations, newInvitation]);\n\n      toast(\"Invitation sent\", {\n        description: `Invitation sent to ${inviteEmail}`,\n      });\n\n      setInviteEmail(\"\");\n      setIsInviteDialogOpen(false);\n    } catch (error) {\n      toast(\"Error sending invitation\", {\n        description: \"Failed to send invitation. Please try again.\",\n      });\n    } finally {\n      setIsSendingInvite(false);\n    }\n  };\n\n  // Handle canceling an invitation\n  const handleCancelInvitation = (invitationId: string) => {\n    // Mock: Update invitation status\n    setInvitations(\n      invitations.map((inv) =>\n        inv.id === invitationId ? { ...inv, status: \"canceled\" } : inv,\n      ),\n    );\n\n    toast(\"Invitation canceled\", {\n      description: \"The invitation has been canceled\",\n    });\n  };\n\n  // Handle resending an invitation\n  const handleResendInvitation = (invitation: Invitation) => {\n    toast(\"Invitation resent\", {\n      description: `Invitation resent to ${invitation.email}`,\n    });\n  };\n\n  // Handle removing a member\n  const handleRemoveMember = (memberId: string) => {\n    // Don't remove the current user (owner)\n    if (members.find((m) => m.id === memberId)?.role === \"owner\") {\n      toast(\"Cannot remove owner\", {\n        description: \"You cannot remove the organization owner\",\n      });\n      return;\n    }\n\n    // Mock: Remove from members list\n    setMembers(members.filter((member) => member.id !== memberId));\n\n    toast(\"Member removed\", {\n      description: \"The member has been removed from your organization\",\n    });\n  };\n\n  if (isLoading || isSessionLoading) {\n    return <MembersSectionSkeleton />;\n  }\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"mb-6 flex flex-col md:flex-row md:items-center md:justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold\">Team Members</h2>\n          <p className=\"text-muted-foreground\">\n            Manage your team members and their access\n          </p>\n        </div>\n\n        <div className=\"mt-4 flex items-center gap-4 md:mt-0\">\n          <Dialog\n            open={isInviteDialogOpen}\n            onOpenChange={setIsInviteDialogOpen}\n          >\n            <DialogTrigger asChild>\n              <Button className=\"gap-1\">\n                <UserPlus className=\"h-4 w-4\" />\n                <span>Invite Member</span>\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>Invite new member</DialogTitle>\n                <DialogDescription>\n                  Send an invitation to join your team. They'll receive an email\n                  with instructions.\n                </DialogDescription>\n              </DialogHeader>\n              <div className=\"space-y-4 py-4\">\n                <div className=\"space-y-2\">\n                  <label htmlFor=\"email\" className=\"text-sm font-medium\">\n                    Email address\n                  </label>\n                  <Input\n                    id=\"email\"\n                    placeholder=\"colleague@example.com\"\n                    type=\"email\"\n                    value={inviteEmail}\n                    onChange={(e) => setInviteEmail(e.target.value)}\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <label htmlFor=\"role\" className=\"text-sm font-medium\">\n                    Role\n                  </label>\n                  <div>\n                    <select\n                      id=\"role\"\n                      className=\"w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm\"\n                      value={inviteRole}\n                      onChange={(e) => setInviteRole(e.target.value)}\n                    >\n                      {roleOptions.map((option) => (\n                        <option key={option.value} value={option.value}>\n                          {option.label}\n                        </option>\n                      ))}\n                    </select>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {roleOptions.find((o) => o.value === inviteRole)\n                        ?.description || \"\"}\n                    </p>\n                  </div>\n                </div>\n              </div>\n              <DialogFooter>\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setIsInviteDialogOpen(false)}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={handleSendInvite}\n                  disabled={isSendingInvite || !inviteEmail}\n                >\n                  {isSendingInvite ? (\n                    <>\n                      <span className=\"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-white\"></span>\n                      Sending...\n                    </>\n                  ) : (\n                    \"Send Invitation\"\n                  )}\n                </Button>\n              </DialogFooter>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList className=\"mb-4\">\n          <TabsTrigger value=\"members\" className=\"flex items-center gap-2\">\n            <Users className=\"h-4 w-4\" />\n            <span>Members</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"invitations\" className=\"flex items-center gap-2\">\n            <Mail className=\"h-4 w-4\" />\n            <span>Invitations</span>\n            {invitations.filter((inv) => inv.status === \"pending\").length >\n              0 && (\n              <span className=\"ml-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground\">\n                {invitations.filter((inv) => inv.status === \"pending\").length}\n              </span>\n            )}\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"members\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Team Members</CardTitle>\n              <CardDescription>\n                Manage your team members and their roles.\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {members.length === 0 ? (\n                  <div className=\"flex flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center\">\n                    <Users className=\"h-12 w-12 text-muted-foreground/80\" />\n                    <h3 className=\"mt-4 text-lg font-semibold\">\n                      No members yet\n                    </h3>\n                    <p className=\"mt-2 text-sm text-muted-foreground\">\n                      You don't have any team members yet.\n                      <br />\n                      Start by inviting colleagues or team members.\n                    </p>\n                    <Button\n                      className=\"mt-4 gap-1\"\n                      onClick={() => setIsInviteDialogOpen(true)}\n                    >\n                      <UserPlus className=\"h-4 w-4\" />\n                      <span>Invite Members</span>\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"divide-y\">\n                    {members.map((member) => (\n                      <div\n                        key={member.id}\n                        className=\"flex items-center justify-between py-4\"\n                      >\n                        <div className=\"flex items-center space-x-4\">\n                          <Avatar>\n                            <AvatarImage\n                              src={member.user.image ?? \"\"}\n                              alt={member.user.name ?? \"\"}\n                            />\n                            <AvatarFallback>\n                              {member.user.name?.charAt(0).toUpperCase() ?? \"?\"}\n                            </AvatarFallback>\n                          </Avatar>\n                          <div>\n                            <p className=\"font-medium\">\n                              {member.user.name || \"Unknown User\"}\n                            </p>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {member.user.email}\n                            </p>\n                            <div className=\"mt-1 flex items-center\">\n                              <span className=\"rounded-full bg-muted px-2 py-0.5 text-xs font-medium capitalize\">\n                                {member.role}\n                              </span>\n                              {member.role === \"owner\" && (\n                                <span className=\"ml-2 text-xs text-muted-foreground\">\n                                  (You)\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\">\n                              <MoreHorizontal className=\"h-4 w-4\" />\n                              <span className=\"sr-only\">More options</span>\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                            <DropdownMenuSeparator />\n                            {member.role !== \"owner\" && (\n                              <>\n                                <DropdownMenuItem\n                                  disabled={member.role === \"owner\"}\n                                >\n                                  <UserCog className=\"mr-2 h-4 w-4\" />\n                                  <span>Change role</span>\n                                </DropdownMenuItem>\n                                <DropdownMenuItem\n                                  className=\"text-destructive focus:text-destructive\"\n                                  onClick={() => handleRemoveMember(member.id)}\n                                >\n                                  <Trash className=\"mr-2 h-4 w-4\" />\n                                  <span>Remove</span>\n                                </DropdownMenuItem>\n                              </>\n                            )}\n                            {member.role === \"owner\" && (\n                              <DropdownMenuItem disabled>\n                                <span className=\"text-muted-foreground\">\n                                  Team owner\n                                </span>\n                              </DropdownMenuItem>\n                            )}\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </CardContent>\n            <CardFooter className=\"flex justify-between border-t bg-muted/50 px-6 py-3\">\n              <p className=\"text-sm text-muted-foreground\">\n                {members.length} member{members.length !== 1 ? \"s\" : \"\"} in team\n              </p>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"gap-1\"\n                onClick={() => setIsInviteDialogOpen(true)}\n              >\n                <UserPlus className=\"h-3 w-3\" />\n                <span>Invite</span>\n              </Button>\n            </CardFooter>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"invitations\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Pending Invitations</CardTitle>\n              <CardDescription>\n                Manage sent invitations and their status.\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {invitations.filter((inv) => inv.status === \"pending\")\n                  .length === 0 ? (\n                  <div className=\"flex flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center\">\n                    <Mail className=\"h-12 w-12 text-muted-foreground/80\" />\n                    <h3 className=\"mt-4 text-lg font-semibold\">\n                      No pending invitations\n                    </h3>\n                    <p className=\"mt-2 text-sm text-muted-foreground\">\n                      You don't have any pending invitations.\n                      <br />\n                      Invite new team members to collaborate.\n                    </p>\n                    <Button\n                      className=\"mt-4 gap-1\"\n                      onClick={() => setIsInviteDialogOpen(true)}\n                    >\n                      <UserPlus className=\"h-4 w-4\" />\n                      <span>Invite Members</span>\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"divide-y\">\n                    {invitations\n                      .filter((inv) => inv.status === \"pending\")\n                      .map((invitation) => (\n                        <div\n                          key={invitation.id}\n                          className=\"flex items-center justify-between py-4\"\n                        >\n                          <div className=\"flex items-center space-x-4\">\n                            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-muted\">\n                              <Mail className=\"h-5 w-5 text-muted-foreground\" />\n                            </div>\n                            <div>\n                              <p className=\"font-medium\">{invitation.email}</p>\n                              <div className=\"mt-1 flex items-center\">\n                                <span className=\"rounded-full bg-muted px-2 py-0.5 text-xs font-medium capitalize\">\n                                  {invitation.role}\n                                </span>\n                                <span className=\"ml-2 rounded-full bg-yellow-100 px-2 py-0.5 text-xs font-medium text-yellow-800\">\n                                  Pending\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleResendInvitation(invitation)}\n                            >\n                              Resend\n                            </Button>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() =>\n                                handleCancelInvitation(invitation.id)\n                              }\n                            >\n                              <X className=\"h-4 w-4\" />\n                              <span className=\"sr-only\">Cancel invitation</span>\n                            </Button>\n                          </div>\n                        </div>\n                      ))}\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n\nfunction MembersSectionSkeleton() {\n  return (\n    <div className=\"w-full\">\n      <div className=\"mb-6\">\n        <Skeleton className=\"h-8 w-40\" />\n        <Skeleton className=\"mt-2 h-4 w-60\" />\n      </div>\n\n      <Skeleton className=\"mb-4 h-10 w-48\" />\n      <Skeleton className=\"h-[400px] w-full\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1410, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1416, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/hooks/useMultipartUpload.tsx"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport mimeDb from \"mime-db\";\n\nimport { toast } from \"@acme/ui/toast\";\n\nimport { useTRPC } from \"~/trpc/react\";\n\n// import * as Sentry from \"@sentry/nextjs\";\n\nconst CHUNK_SIZE = 5 * 1024 * 1024;\n\n/**\n * Gets the file extension from a MIME type using mime-db\n * @param mimeType The MIME type of the file\n * @returns The extension without the leading dot, or 'bin' as fallback\n */\nconst getExtensionFromMimeType = (mimeType: string): string => {\n  const mime = mimeDb[mimeType];\n  if (mime?.extensions && mime.extensions.length > 0) {\n    // This ensures we don't get undefined\n    return mime.extensions[0]!;\n  }\n\n  // Fallback extensions for common video types if mime-db doesn't have them\n  const fallbackMap: Record<string, string> = {\n    \"video/mp4\": \"mp4\",\n    \"video/webm\": \"webm\",\n    \"video/quicktime\": \"mov\",\n    \"video/x-msvideo\": \"avi\",\n    \"video/x-matroska\": \"mkv\",\n  };\n\n  const fallbackExt = fallbackMap[mimeType];\n  return fallbackExt ?? \"bin\"; // Default to .bin if no extension found\n};\n\nexport interface UploadState {\n  uploaded: number;\n  total: number;\n  percentage: number;\n  error: string | null;\n}\n\nexport interface CompletedPart {\n  ETag: string;\n  PartNumber: number;\n}\n\ninterface MultipartConfig {\n  videoId: string;\n  onError?: (error: Error) => void;\n  onProgress?: (state: UploadState) => void;\n  createdAt?: string;\n  fileExtension?: string;\n}\n\nexport const useMultipartUpload = () => {\n  const trpc = useTRPC();\n\n  const queryClient = useQueryClient();\n  const { mutateAsync: initiateUpload } = useMutation(\n    trpc.aws.initiateMultipartUpload.mutationOptions({\n      onSuccess: async () => {\n        // form.reset();\n        // await queryClient.invalidateQueries(trpc.post.pathFilter());\n      },\n      onError: (err) => {\n        toast.error(\n          err.data?.code === \"UNAUTHORIZED\"\n            ? \"You must be logged in to post\"\n            : \"Failed to create post\",\n        );\n      },\n    }),\n  );\n  const { mutateAsync: completeUpload } = useMutation(\n    trpc.aws.completeMultipartUpload.mutationOptions({\n      onSuccess: async () => {\n        await queryClient.invalidateQueries(trpc.video.pathFilter());\n      },\n    }),\n  );\n\n  const uploadPart = async (\n    chunk: Blob,\n    url: string,\n    partNumber: number,\n    retries = 3,\n  ): Promise<CompletedPart> => {\n    try {\n      const response = await fetch(url, {\n        method: \"PUT\",\n        body: chunk,\n      });\n\n      if (!response.ok) {\n        throw new Error(`Upload failed with status ${response.status}`);\n      }\n\n      const eTag = response.headers.get(\"etag\") ?? response.headers.get(\"ETag\");\n      if (!eTag) {\n        throw new Error(\"No ETag received\");\n      }\n\n      return {\n        ETag: eTag.replace(/^\"(.*)\"$/, \"$1\"),\n        PartNumber: partNumber,\n      };\n    } catch (err) {\n      if (retries > 0) {\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n        return uploadPart(chunk, url, partNumber, retries - 1);\n      }\n      throw err;\n    }\n  };\n\n  const uploadFile = async (\n    file: File,\n    config: MultipartConfig,\n  ): Promise<string> => {\n    try {\n      const initialState: UploadState = {\n        uploaded: 0,\n        total: file.size,\n        percentage: 0,\n        error: null,\n      };\n\n      config.onProgress?.(initialState);\n\n      // Get file extension with multiple fallbacks\n      let fileExtension = config.fileExtension;\n\n      // If not provided in config, try to extract from filename\n      if (!fileExtension) {\n        fileExtension = file.name.split(\".\").pop();\n      }\n\n      // If still not available, use MIME type to determine\n      if (!fileExtension) {\n        fileExtension = getExtensionFromMimeType(file.type);\n      }\n\n      // If we still don't have a valid extension, show error\n      if (!fileExtension || fileExtension.trim() === \"\") {\n        const error = new Error(\"Cannot determine file extension\");\n        toast.error(\"Failed to upload: Cannot determine file type\");\n\n        if (config.onError) {\n          config.onError(error);\n        }\n\n        throw error;\n      }\n\n      const chunks = Math.ceil(file.size / CHUNK_SIZE);\n      const { uploadId: multipartUploadId, signedUrls } = await initiateUpload({\n        videoId: config.videoId,\n        contentLength: file.size,\n        parts: chunks,\n        fileExtension,\n      });\n\n      const uploads = signedUrls.map(({ url, partNumber }) => {\n        const start = (partNumber - 1) * CHUNK_SIZE;\n        const end = Math.min(start + CHUNK_SIZE, file.size);\n        const chunk = file.slice(start, end);\n        return uploadPart(chunk, url, partNumber);\n      });\n\n      // Track progress of all uploads\n      let completedSize = 0;\n      const progressPromises = uploads.map(async (promise, index) => {\n        await promise;\n        completedSize += Math.min(CHUNK_SIZE, file.size - index * CHUNK_SIZE);\n        config.onProgress?.({\n          uploaded: completedSize,\n          total: file.size,\n          percentage: Math.round((completedSize / file.size) * 100),\n          error: null,\n        });\n      });\n\n      // Wait for all uploads and progress updates\n      const [parts] = await Promise.all([\n        Promise.all(uploads),\n        Promise.all(progressPromises),\n      ]);\n\n      await completeUpload({\n        videoId: config.videoId,\n        uploadId: multipartUploadId,\n        parts,\n        fileExtension,\n      });\n\n      return config.videoId;\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error(\"Upload failed\");\n      const errorMessage = error.message;\n\n      config.onProgress?.({\n        uploaded: 0,\n        total: file.size,\n        percentage: 0,\n        error: errorMessage,\n      });\n\n      if (config.onError) {\n        config.onError(error);\n      }\n\n      //   Sentry.captureException(err);\n      throw error;\n    }\n  };\n\n  return {\n    uploadFile,\n  };\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1579, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1585, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/%5Bworkspace%5D/_components/video-dropzone.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useState } from \"react\";\nimport Image from \"next/image\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useDropzone } from \"react-dropzone\";\n\nimport { cn } from \"@acme/ui\";\nimport { Button } from \"@acme/ui/button\";\nimport { Progress } from \"@acme/ui/progress\";\nimport { toast } from \"@acme/ui/toast\";\n\nimport type { UploadState } from \"~/hooks/useMultipartUpload\";\nimport { useMultipartUpload } from \"~/hooks/useMultipartUpload\";\nimport { useTRPC } from \"~/trpc/react\";\n\ninterface VideoDropzoneProps {\n  onUploadComplete?: (videoId: string) => void;\n  className?: string;\n}\n\nexport function VideoDropzone({\n  onUploadComplete,\n  className,\n}: VideoDropzoneProps) {\n  const trpc = useTRPC();\n  const { mutateAsync: createVideo } = useMutation(\n    trpc.video.create.mutationOptions(),\n  );\n\n  const [uploadState, setUploadState] = useState<UploadState>({\n    uploaded: 0,\n    total: 0,\n    percentage: 0,\n    error: null,\n  });\n  const [isUploading, setIsUploading] = useState(false);\n  const { uploadFile } = useMultipartUpload();\n\n  const onDrop = useCallback(\n    async (acceptedFiles: File[]) => {\n      const file = acceptedFiles[0];\n\n      if (!file) return;\n\n      // Validate file type\n      if (!file.type.startsWith(\"video/\")) {\n        toast.error(\"Please upload a video file\");\n        return;\n      }\n\n      try {\n        setIsUploading(true);\n        // Generate a unique ID for this video\n\n        const newVideoId = await createVideo({\n          title: file.name,\n        });\n\n        const id = newVideoId[0]?.id;\n\n        if (!id) {\n          throw new Error(\"Failed to create video\");\n        }\n\n        // Start upload\n        const uploadedVideoId = await uploadFile(file, {\n          videoId: id,\n          onProgress: (state) => {\n            setUploadState(state);\n            if (state.error) {\n              toast.error(`Upload failed: ${state.error}`);\n              setIsUploading(false);\n            }\n          },\n          onError: (error) => {\n            toast.error(`Upload error: ${error.message}`);\n            setIsUploading(false);\n          },\n        });\n\n        toast.success(\"Video uploaded successfully!\");\n        onUploadComplete?.(uploadedVideoId);\n        setIsUploading(false);\n      } catch (error) {\n        // Error is already handled by onError callback\n        setIsUploading(false);\n      }\n    },\n    [uploadFile, onUploadComplete],\n  );\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      \"video/*\": [],\n    },\n    multiple: false,\n    disabled: isUploading,\n  });\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <div\n        {...getRootProps()}\n        className={cn(\n          \"relative flex w-full cursor-pointer flex-col items-center justify-center overflow-hidden rounded-lg border-2 border-dashed p-6\",\n          isDragActive ? \"border-primary bg-primary/10\" : \"border-border\",\n          isUploading && \"pointer-events-none opacity-60\",\n        )}\n      >\n        <input {...getInputProps()} />\n\n        {isUploading && (\n          <div className=\"absolute inset-0 z-30 flex w-full flex-col items-center justify-center bg-background\">\n            <div className=\"mx-auto flex w-full max-w-sm flex-col gap-2\">\n              <div className=\"mb-1 flex items-center justify-between\">\n                <p className=\"text-sm font-medium\">Uploading video...</p>\n                <span className=\"text-sm\">\n                  {uploadState.percentage.toFixed(0)}%\n                </span>\n              </div>\n              <Progress value={uploadState.percentage} className=\"h-2 w-full\" />\n              <p className=\"text-xs text-muted-foreground\">\n                {(uploadState.uploaded / (1024 * 1024)).toFixed(2)} MB of{\" \"}\n                {(uploadState.total / (1024 * 1024)).toFixed(2)} MB\n              </p>\n            </div>\n          </div>\n        )}\n        <>\n          <div className=\"pointer-events-none absolute inset-0 opacity-20\">\n            <Image\n              fill\n              src=\"/video-placeholder.png\"\n              className=\"object-cover\"\n              alt=\"Video placeholder\"\n            />\n          </div>\n          <div className=\"flex flex-col items-center justify-center\">\n            <p className=\"mb-2 text-sm font-medium\">\n              {isDragActive\n                ? \"drop the video here\"\n                : \"drag and drop a video file, or click to browse\"}\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              supports most video formats (MP4, MOV, AVI, etc.)\n            </p>\n            <Button variant=\"outline\" className=\"mt-4\">\n              add your video\n            </Button>\n          </div>\n        </>\n      </div>\n\n      {uploadState.error && (\n        <div className=\"mt-4 rounded border border-destructive bg-destructive/10 p-3 text-sm text-destructive\">\n          {uploadState.error}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1832, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1838, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/%5Bworkspace%5D/_components/video-list/video-actions-dropdown.tsx"],"sourcesContent":["import React from \"react\";\nimport { MoreVertical, Pencil, Trash2 } from \"lucide-react\";\n\nimport { Button } from \"@acme/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@acme/ui/dropdown-menu\";\n\ninterface VideoActionsDropdownProps {\n  videoId: string;\n  onRename: () => void;\n  onDelete: (videoId: string) => void;\n}\n\nexport const VideoActionsDropdown: React.FC<VideoActionsDropdownProps> = ({\n  videoId,\n  onRename,\n  onDelete,\n}) => {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n          <MoreVertical className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Open menu</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={onRename}>\n          <Pencil className=\"mr-2 h-4 w-4\" />\n          <span>Rename</span>\n        </DropdownMenuItem>\n        <DropdownMenuSeparator />\n        <DropdownMenuItem\n          className=\"text-red-600 focus:text-red-600\"\n          onClick={() => onDelete(videoId)}\n        >\n          <Trash2 className=\"mr-2 h-4 w-4\" />\n          <span>Delete</span>\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAEA;AACA;;;;;AAcO,MAAM,uBAA4D,CAAC,EACxE,OAAO,EACP,QAAQ,EACR,QAAQ,EACT;IACC,qBACE,8OAAC,0IAAA,CAAA,eAAY;;0BACX,8OAAC,0IAAA,CAAA,sBAAmB;gBAAC,OAAO;0BAC1B,cAAA,8OAAC,gIAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAK,WAAU;;sCAC1C,8OAAC,0NAAA,CAAA,eAAY;4BAAC,WAAU;;;;;;sCACxB,8OAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,8OAAC,0IAAA,CAAA,sBAAmB;gBAAC,OAAM;;kCACzB,8OAAC,0IAAA,CAAA,mBAAgB;wBAAC,SAAS;;0CACzB,8OAAC,sMAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;0CAClB,8OAAC;0CAAK;;;;;;;;;;;;kCAER,8OAAC,0IAAA,CAAA,wBAAqB;;;;;kCACtB,8OAAC,0IAAA,CAAA,mBAAgB;wBACf,WAAU;wBACV,SAAS,IAAM,SAAS;;0CAExB,8OAAC,0MAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;0CAClB,8OAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;AAKhB","debugId":null}},
    {"offset": {"line": 1955, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1961, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/ui/src/label.tsx"],"sourcesContent":["import type { VariantProps } from \"class-variance-authority\";\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@acme/ui\";\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,8HAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1986, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1992, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/ui/src/form.tsx"],"sourcesContent":["\"use client\";\n\nimport type * as LabelPrimitive from \"@radix-ui/react-label\";\nimport type {\n  ControllerProps,\n  FieldPath,\n  FieldValues,\n  UseFormProps,\n} from \"react-hook-form\";\nimport type { ZodType, ZodTypeDef } from \"zod\";\nimport * as React from \"react\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport {\n  useForm as __useForm,\n  Controller,\n  FormProvider,\n  useFormContext,\n} from \"react-hook-form\";\n\nimport { cn } from \"@acme/ui\";\n\nimport { Label } from \"./label\";\n\nconst useForm = <\n  TOut extends FieldValues,\n  TDef extends ZodTypeDef,\n  TIn extends FieldValues,\n>(\n  props: Omit<UseFormProps<TIn>, \"resolver\"> & {\n    schema: ZodType<TOut, TDef, TIn>;\n  },\n) => {\n  const form = __useForm<TIn, unknown, TOut>({\n    ...props,\n    resolver: zodResolver(props.schema, undefined),\n  });\n\n  return form;\n};\n\nconst Form = FormProvider;\n\ninterface FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> {\n  name: TName;\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(\n  null,\n);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\");\n  }\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ninterface FormItemContextValue {\n  id: string;\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue,\n);\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId();\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  );\n});\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  );\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } =\n    useFormField();\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  );\n});\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField();\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  );\n});\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField();\n  const body = error ? String(error.message) : children;\n\n  if (!body) {\n    return null;\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  );\n});\nFormMessage.displayName = \"FormMessage\";\n\nexport {\n  useForm,\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n};\n\nexport { useFieldArray } from \"react-hook-form\";\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2150, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2169, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/%5Bworkspace%5D/_components/video-list/video-rename-dialog.tsx"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\n\nimport type { RouterOutputs } from \"@acme/api\";\nimport { Button } from \"@acme/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@acme/ui/dialog\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  useForm,\n} from \"@acme/ui/form\";\nimport { Input } from \"@acme/ui/input\";\nimport { toast } from \"@acme/ui/toast\";\n\nimport { useTRPC } from \"~/trpc/react\";\n\ninterface RenameDialogProps {\n  video: RouterOutputs[\"video\"][\"all\"][number];\n  isOpen: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nconst RenameDialog = ({ video, isOpen, onOpenChange }: RenameDialogProps) => {\n  const trpc = useTRPC();\n  const queryClient = useQueryClient();\n\n  const form = useForm({\n    defaultValues: {\n      title: video.title,\n    },\n    schema: z.object({\n      title: z.string().min(1, \"Title cannot be empty\"),\n    }),\n  });\n\n  const renameVideo = useMutation(\n    trpc.video.rename.mutationOptions({\n      onSuccess: async () => {\n        await queryClient.invalidateQueries(trpc.video.pathFilter());\n        toast.success(\"Video renamed successfully\");\n        onOpenChange(false);\n      },\n      onError: (err) => {\n        toast.error(\n          err.data?.code === \"UNAUTHORIZED\"\n            ? \"You must be logged in to rename a video\"\n            : \"Failed to rename video\",\n        );\n      },\n    }),\n  );\n\n  const onSubmit = (data: { title: string }) => {\n    console.log(\"onSubmit\", data, video);\n    renameVideo.mutate({ id: video.id, title: data.title.trim() });\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Rename Video</DialogTitle>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)}>\n            <div className=\"grid gap-4 py-4\">\n              <FormField\n                control={form.control}\n                name=\"title\"\n                render={({ field }) => (\n                  <FormItem className=\"grid grid-cols-4 items-center gap-4\">\n                    <FormLabel className=\"col-span-1\">Title</FormLabel>\n                    <FormControl>\n                      <Input {...field} className=\"col-span-3\" autoFocus />\n                    </FormControl>\n                  </FormItem>\n                )}\n              />\n            </div>\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={renameVideo.isPending}>\n                {renameVideo.isPending ? \"Saving...\" : \"Save Changes\"}\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  );\n};\nexport default RenameDialog;\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAGA;AACA;AAOA;AAAA;AAQA;AACA;AAAA;AAEA;;;;;;;;;;AAQA,MAAM,eAAe,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAqB;IACtE,MAAM,OAAO,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACnB,MAAM,cAAc,CAAA,GAAA,sLAAA,CAAA,iBAAc,AAAD;IAEjC,MAAM,OAAO,CAAA,GAAA,8IAAA,CAAA,UAAO,AAAD,EAAE;QACnB,eAAe;YACb,OAAO,MAAM,KAAK;QACpB;QACA,QAAQ,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YACf,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAC3B;IACF;IAEA,MAAM,cAAc,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EAC5B,KAAK,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC;QAChC,WAAW;YACT,MAAM,YAAY,iBAAiB,CAAC,KAAK,KAAK,CAAC,UAAU;YACzD,wIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YACd,aAAa;QACf;QACA,SAAS,CAAC;YACR,wIAAA,CAAA,QAAK,CAAC,KAAK,CACT,IAAI,IAAI,EAAE,SAAS,iBACf,4CACA;QAER;IACF;IAGF,MAAM,WAAW,CAAC;QAChB,QAAQ,GAAG,CAAC,YAAY,MAAM;QAC9B,YAAY,MAAM,CAAC;YAAE,IAAI,MAAM,EAAE;YAAE,OAAO,KAAK,KAAK,CAAC,IAAI;QAAG;IAC9D;IAEA,qBACE,8OAAC,gIAAA,CAAA,SAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,8OAAC,gIAAA,CAAA,gBAAa;;8BACZ,8OAAC,gIAAA,CAAA,eAAY;8BACX,cAAA,8OAAC,gIAAA,CAAA,cAAW;kCAAC;;;;;;;;;;;8BAEf,8OAAC,8IAAA,CAAA,OAAI;oBAAE,GAAG,IAAI;8BACZ,cAAA,8OAAC;wBAAK,UAAU,KAAK,YAAY,CAAC;;0CAChC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,8IAAA,CAAA,YAAS;oCACR,SAAS,KAAK,OAAO;oCACrB,MAAK;oCACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,8IAAA,CAAA,WAAQ;4CAAC,WAAU;;8DAClB,8OAAC,8IAAA,CAAA,YAAS;oDAAC,WAAU;8DAAa;;;;;;8DAClC,8OAAC,8IAAA,CAAA,cAAW;8DACV,cAAA,8OAAC,+HAAA,CAAA,QAAK;wDAAE,GAAG,KAAK;wDAAE,WAAU;wDAAa,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAM5D,8OAAC,gIAAA,CAAA,eAAY;;kDACX,8OAAC,gIAAA,CAAA,SAAM;wCACL,MAAK;wCACL,SAAQ;wCACR,SAAS,IAAM,aAAa;kDAC7B;;;;;;kDAGD,8OAAC,gIAAA,CAAA,SAAM;wCAAC,MAAK;wCAAS,UAAU,YAAY,SAAS;kDAClD,YAAY,SAAS,GAAG,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvD;uCACe","debugId":null}},
    {"offset": {"line": 2342, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2348, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/%5Bworkspace%5D/_components/video-list/video-card.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useParams } from \"next/navigation\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { formatRelative } from \"date-fns\";\n\nimport type { RouterOutputs } from \"@acme/api\";\nimport { toast } from \"@acme/ui/toast\";\n\nimport { useTRPC } from \"~/trpc/react\";\nimport { getCDNUrlFromBucketPath } from \"~/utils/cdn\";\nimport { VideoActionsDropdown } from \"./video-actions-dropdown\";\nimport RenameDialog from \"./video-rename-dialog\";\n\nexport const VideoCard = (props: {\n  video: RouterOutputs[\"video\"][\"all\"][number];\n}) => {\n  const { video } = props;\n  const [isRenameDialogOpen, setIsRenameDialogOpen] = useState(false);\n  const params = useParams();\n\n  const trpc = useTRPC();\n  const queryClient = useQueryClient();\n\n  const deletePost = useMutation(\n    trpc.video.delete.mutationOptions({\n      onSuccess: async () => {\n        await queryClient.invalidateQueries(trpc.video.pathFilter());\n        toast.success(\"Video deleted successfully\");\n      },\n      onError: (err) => {\n        toast.error(\n          err.data?.code === \"UNAUTHORIZED\"\n            ? \"You must be logged in to delete a post\"\n            : \"Failed to delete post\",\n        );\n      },\n    }),\n  );\n\n  const handleRename = () => {\n    setIsRenameDialogOpen(true);\n  };\n\n  return (\n    <>\n      <Link href={`/${params.workspace}/video/${video.id}`}>\n        <div className=\"flex gap-2 rounded-md border hover:bg-accent\">\n          {video.url && (\n            <video\n              className=\"h-24 w-32 rounded-md object-cover\"\n              src={getCDNUrlFromBucketPath(video.url)}\n            />\n          )}\n\n          <div className=\"p-2\">\n            <p className=\"text-lg font-semibold tracking-tighter\">\n              {video.title}\n            </p>\n            <p className=\"text-sm text-muted-foreground\">\n              {formatRelative(video.createdAt, new Date())}\n            </p>\n          </div>\n\n          <div className=\"ml-auto p-2\">\n            <VideoActionsDropdown\n              videoId={video.id}\n              onRename={handleRename}\n              onDelete={() => deletePost.mutate(video.id)}\n            />\n          </div>\n        </div>\n      </Link>\n\n      <RenameDialog\n        video={video}\n        isOpen={isRenameDialogOpen}\n        onOpenChange={setIsRenameDialogOpen}\n      />\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AAGA;AAAA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AAEO,MAAM,YAAY,CAAC;IAGxB,MAAM,EAAE,KAAK,EAAE,GAAG;IAClB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,OAAO,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACnB,MAAM,cAAc,CAAA,GAAA,sLAAA,CAAA,iBAAc,AAAD;IAEjC,MAAM,aAAa,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EAC3B,KAAK,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC;QAChC,WAAW;YACT,MAAM,YAAY,iBAAiB,CAAC,KAAK,KAAK,CAAC,UAAU;YACzD,wIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QAChB;QACA,SAAS,CAAC;YACR,wIAAA,CAAA,QAAK,CAAC,KAAK,CACT,IAAI,IAAI,EAAE,SAAS,iBACf,2CACA;QAER;IACF;IAGF,MAAM,eAAe;QACnB,sBAAsB;IACxB;IAEA,qBACE;;0BACE,8OAAC,4JAAA,CAAA,UAAI;gBAAC,MAAM,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;0BAClD,cAAA,8OAAC;oBAAI,WAAU;;wBACZ,MAAM,GAAG,kBACR,8OAAC;4BACC,WAAU;4BACV,KAAK,CAAA,GAAA,qIAAA,CAAA,0BAAuB,AAAD,EAAE,MAAM,GAAG;;;;;;sCAI1C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CACV,MAAM,KAAK;;;;;;8CAEd,8OAAC;oCAAE,WAAU;8CACV,CAAA,GAAA,6IAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,SAAS,EAAE,IAAI;;;;;;;;;;;;sCAIzC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,+NAAA,CAAA,uBAAoB;gCACnB,SAAS,MAAM,EAAE;gCACjB,UAAU;gCACV,UAAU,IAAM,WAAW,MAAM,CAAC,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;0BAMlD,8OAAC,4NAAA,CAAA,UAAY;gBACX,OAAO;gBACP,QAAQ;gBACR,cAAc;;;;;;;;AAItB","debugId":null}},
    {"offset": {"line": 2472, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2478, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/%5Bworkspace%5D/_components/video-list/video-list.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useSuspenseQuery } from \"@tanstack/react-query\";\n\nimport { useTRPC } from \"~/trpc/react\";\nimport { VideoCard } from \"./video-card\";\n\nexport const VideoList = () => {\n  const trpc = useTRPC();\n  const { data: videos } = useSuspenseQuery(trpc.video.all.queryOptions());\n\n  if (videos.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\n      {videos.map((video) => {\n        return <VideoCard key={video.id} video={video} />;\n      })}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAGA;AAEA;AACA;AANA;;;;;AAQO,MAAM,YAAY;IACvB,MAAM,OAAO,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IACnB,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,CAAA,GAAA,mLAAA,CAAA,mBAAgB,AAAD,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,YAAY;IAErE,IAAI,OAAO,MAAM,KAAK,GAAG;QACvB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC;YACX,qBAAO,8OAAC,gNAAA,CAAA,YAAS;gBAAgB,OAAO;eAAjB,MAAM,EAAE;;;;;QACjC;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 2513, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}