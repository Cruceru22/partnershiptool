{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/next/dist/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/next/dist/src/build/templates/app-page.ts"],"sourcesContent":["import type { LoaderTree } from '../../server/lib/app-dir-module'\nimport { AppPageRouteModule } from '../../server/route-modules/app-page/module.compiled' with { 'turbopack-transition': 'next-ssr' }\nimport { RouteKind } from '../../server/route-kind' with { 'turbopack-transition': 'next-server-utility' }\n\n// These are injected by the loader afterwards.\n\n/**\n * The tree created in next-app-loader that holds component segments and modules\n * and I've updated it.\n */\ndeclare const tree: LoaderTree\ndeclare const pages: any\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\n// INJECT:tree\n// INJECT:pages\n\nexport { tree, pages }\n\nexport { default as GlobalError } from 'VAR_MODULE_GLOBAL_ERROR' with { 'turbopack-transition': 'next-server-utility' }\n\n// These are injected by the loader afterwards.\ndeclare const __next_app_require__: any\ndeclare const __next_app_load_chunk__: any\n\n// INJECT:__next_app_require__\n// INJECT:__next_app_load_chunk__\n\nexport const __next_app__ = {\n  require: __next_app_require__,\n  loadChunk: __next_app_load_chunk__,\n}\n\nexport * from '../../server/app-render/entry-base' with { 'turbopack-transition': 'next-server-utility' }\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n  definition: {\n    kind: RouteKind.APP_PAGE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n    appPaths: [],\n  },\n  userland: {\n    loaderTree: tree,\n  },\n})\n"],"names":["AppPageRouteModule","RouteKind","tree","pages","default","GlobalError","__next_app__","require","__next_app_require__","loadChunk","__next_app_load_chunk__","routeModule","definition","kind","APP_PAGE","page","pathname","bundlePath","filename","appPaths","userland","loaderTree"],"mappings":";;;;;;AACA,SAASA,kBAAkB,QAAQ,2DAA2D;AAAqC,EAAC;IACzE,wBAAwB;AAWnF,yEAAyE;AAEzE,cAAc;AAcd,OAAO,MAAMM,eAAe;IAE1BG,WAAWC;IAG6C,wBAAwB;;;;;;;;;;;;AAGlF,OAAO,MAAMC,cAAc,IAAIX,mBAAmB,uBAAA;IAChDY,MAAAA,MAAY;QACVC,KAAAA;IAAMZ;IAAAA,MAAUa,QAAQ;gBACxBC,IAAAA;YAAAA,CAAM;YAAA;wBACNC,IAAAA;oBAAAA,KAAU;oBAAA;gCACV,IAAA;4BAAA;4BAAA,0BAA2C;iCAC3CC,YAAY;sCACZC,IAAAA,CAAAA,GAAU;gCAAA,QAAA;oCAAA,IAAA;oCAAA;iCAAA;;+BACVC,UAAU,EAAE;;qBACd;0BACAC,QAAAA,CAAU,CAAA;oBAAA;iBAAA;;iBACRC,YAAYnB;kBACd,QAAA,CAAA;gBAAA,UAAA;oBAAA,IAAA;oBAAA;iBAAA;gBACF,CAAE,YAAA;oBAAA,IAAA;oBAAA;iBAAA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/hydration.ts"],"sourcesContent":["import type {\n  DefaultError,\n  MutationKey,\n  MutationMeta,\n  MutationOptions,\n  MutationScope,\n  QueryKey,\n  QueryMeta,\n  QueryOptions,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { Query, QueryState } from './query'\nimport type { Mutation, MutationState } from './mutation'\n\n// TYPES\ntype TransformerFn = (data: any) => any\nfunction defaultTransformerFn(data: any): any {\n  return data\n}\n\nexport interface DehydrateOptions {\n  serializeData?: TransformerFn\n  shouldDehydrateMutation?: (mutation: Mutation) => boolean\n  shouldDehydrateQuery?: (query: Query) => boolean\n  shouldRedactErrors?: (error: unknown) => boolean\n}\n\nexport interface HydrateOptions {\n  defaultOptions?: {\n    deserializeData?: TransformerFn\n    queries?: QueryOptions\n    mutations?: MutationOptions<unknown, DefaultError, unknown, unknown>\n  }\n}\n\ninterface DehydratedMutation {\n  mutationKey?: MutationKey\n  state: MutationState\n  meta?: MutationMeta\n  scope?: MutationScope\n}\n\ninterface DehydratedQuery {\n  queryHash: string\n  queryKey: QueryKey\n  state: QueryState\n  promise?: Promise<unknown>\n  meta?: QueryMeta\n}\n\nexport interface DehydratedState {\n  mutations: Array<DehydratedMutation>\n  queries: Array<DehydratedQuery>\n}\n\n// FUNCTIONS\n\nfunction dehydrateMutation(mutation: Mutation): DehydratedMutation {\n  return {\n    mutationKey: mutation.options.mutationKey,\n    state: mutation.state,\n    ...(mutation.options.scope && { scope: mutation.options.scope }),\n    ...(mutation.meta && { meta: mutation.meta }),\n  }\n}\n\n// Most config is not dehydrated but instead meant to configure again when\n// consuming the de/rehydrated data, typically with useQuery on the client.\n// Sometimes it might make sense to prefetch data on the server and include\n// in the html-payload, but not consume it on the initial render.\nfunction dehydrateQuery(\n  query: Query,\n  serializeData: TransformerFn,\n  shouldRedactErrors: (error: unknown) => boolean,\n): DehydratedQuery {\n  return {\n    state: {\n      ...query.state,\n      ...(query.state.data !== undefined && {\n        data: serializeData(query.state.data),\n      }),\n    },\n    queryKey: query.queryKey,\n    queryHash: query.queryHash,\n    ...(query.state.status === 'pending' && {\n      promise: query.promise?.then(serializeData).catch((error) => {\n        if (!shouldRedactErrors(error)) {\n          // Reject original error if it should not be redacted\n          return Promise.reject(error)\n        }\n        // If not in production, log original error before rejecting redacted error\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(\n            `A query that was dehydrated as pending ended up rejecting. [${query.queryHash}]: ${error}; The error will be redacted in production builds`,\n          )\n        }\n        return Promise.reject(new Error('redacted'))\n      }),\n    }),\n    ...(query.meta && { meta: query.meta }),\n  }\n}\n\nexport function defaultShouldDehydrateMutation(mutation: Mutation) {\n  return mutation.state.isPaused\n}\n\nexport function defaultShouldDehydrateQuery(query: Query) {\n  return query.state.status === 'success'\n}\n\nexport function defaultshouldRedactErrors(_: unknown) {\n  return true\n}\n\nexport function dehydrate(\n  client: QueryClient,\n  options: DehydrateOptions = {},\n): DehydratedState {\n  const filterMutation =\n    options.shouldDehydrateMutation ??\n    client.getDefaultOptions().dehydrate?.shouldDehydrateMutation ??\n    defaultShouldDehydrateMutation\n\n  const mutations = client\n    .getMutationCache()\n    .getAll()\n    .flatMap((mutation) =>\n      filterMutation(mutation) ? [dehydrateMutation(mutation)] : [],\n    )\n\n  const filterQuery =\n    options.shouldDehydrateQuery ??\n    client.getDefaultOptions().dehydrate?.shouldDehydrateQuery ??\n    defaultShouldDehydrateQuery\n\n  const shouldRedactErrors =\n    options.shouldRedactErrors ??\n    client.getDefaultOptions().dehydrate?.shouldRedactErrors ??\n    defaultshouldRedactErrors\n\n  const serializeData =\n    options.serializeData ??\n    client.getDefaultOptions().dehydrate?.serializeData ??\n    defaultTransformerFn\n\n  const queries = client\n    .getQueryCache()\n    .getAll()\n    .flatMap((query) =>\n      filterQuery(query)\n        ? [dehydrateQuery(query, serializeData, shouldRedactErrors)]\n        : [],\n    )\n\n  return { mutations, queries }\n}\n\nexport function hydrate(\n  client: QueryClient,\n  dehydratedState: unknown,\n  options?: HydrateOptions,\n): void {\n  if (typeof dehydratedState !== 'object' || dehydratedState === null) {\n    return\n  }\n\n  const mutationCache = client.getMutationCache()\n  const queryCache = client.getQueryCache()\n  const deserializeData =\n    options?.defaultOptions?.deserializeData ??\n    client.getDefaultOptions().hydrate?.deserializeData ??\n    defaultTransformerFn\n\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  const mutations = (dehydratedState as DehydratedState).mutations || []\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  const queries = (dehydratedState as DehydratedState).queries || []\n\n  mutations.forEach(({ state, ...mutationOptions }) => {\n    mutationCache.build(\n      client,\n      {\n        ...client.getDefaultOptions().hydrate?.mutations,\n        ...options?.defaultOptions?.mutations,\n        ...mutationOptions,\n      },\n      state,\n    )\n  })\n\n  queries.forEach(({ queryKey, state, queryHash, meta, promise }) => {\n    let query = queryCache.get(queryHash)\n\n    const data =\n      state.data === undefined ? state.data : deserializeData(state.data)\n\n    // Do not hydrate if an existing query exists with newer data\n    if (query) {\n      if (query.state.dataUpdatedAt < state.dataUpdatedAt) {\n        // omit fetchStatus from dehydrated state\n        // so that query stays in its current fetchStatus\n        const { fetchStatus: _ignored, ...serializedState } = state\n        query.setState({\n          ...serializedState,\n          data,\n        })\n      }\n    } else {\n      // Restore query\n      query = queryCache.build(\n        client,\n        {\n          ...client.getDefaultOptions().hydrate?.queries,\n          ...options?.defaultOptions?.queries,\n          queryKey,\n          queryHash,\n          meta,\n        },\n        // Reset fetch status to idle to avoid\n        // query being stuck in fetching state upon hydration\n        {\n          ...state,\n          data,\n          fetchStatus: 'idle',\n        },\n      )\n    }\n\n    if (promise) {\n      // Note: `Promise.resolve` required cause\n      // RSC transformed promises are not thenable\n      const initialPromise = Promise.resolve(promise).then(deserializeData)\n\n      // this doesn't actually fetch - it just creates a retryer\n      // which will re-use the passed `initialPromise`\n      void query.fetch(undefined, { initialPromise })\n    }\n  })\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/utils.ts"],"sourcesContent":["import type {\n  DefaultError,\n  Enabled,\n  FetchStatus,\n  MutationKey,\n  MutationStatus,\n  QueryFunction,\n  QueryKey,\n  QueryOptions,\n  StaleTime,\n} from './types'\nimport type { Mutation } from './mutation'\nimport type { FetchOptions, Query } from './query'\n\n// TYPES\n\nexport interface QueryFilters<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  /**\n   * Filter to active queries, inactive queries or all queries\n   */\n  type?: QueryTypeFilter\n  /**\n   * Match query key exactly\n   */\n  exact?: boolean\n  /**\n   * Include queries matching this predicate function\n   */\n  predicate?: (query: Query<TQueryFnData, TError, TData, TQueryKey>) => boolean\n  /**\n   * Include queries matching this query key\n   */\n  queryKey?: TQueryKey\n  /**\n   * Include or exclude stale queries\n   */\n  stale?: boolean\n  /**\n   * Include queries matching their fetchStatus\n   */\n  fetchStatus?: FetchStatus\n}\n\nexport interface MutationFilters<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TContext = unknown,\n> {\n  /**\n   * Match mutation key exactly\n   */\n  exact?: boolean\n  /**\n   * Include mutations matching this predicate function\n   */\n  predicate?: (\n    mutation: Mutation<TData, TError, TVariables, TContext>,\n  ) => boolean\n  /**\n   * Include mutations matching this mutation key\n   */\n  mutationKey?: MutationKey\n  /**\n   * Filter by mutation status\n   */\n  status?: MutationStatus\n}\n\nexport type Updater<TInput, TOutput> = TOutput | ((input: TInput) => TOutput)\n\nexport type QueryTypeFilter = 'all' | 'active' | 'inactive'\n\n// UTILS\n\nexport const isServer = typeof window === 'undefined' || 'Deno' in globalThis\n\nexport function noop(): void\nexport function noop(): undefined\nexport function noop() {}\n\nexport function functionalUpdate<TInput, TOutput>(\n  updater: Updater<TInput, TOutput>,\n  input: TInput,\n): TOutput {\n  return typeof updater === 'function'\n    ? (updater as (_: TInput) => TOutput)(input)\n    : updater\n}\n\nexport function isValidTimeout(value: unknown): value is number {\n  return typeof value === 'number' && value >= 0 && value !== Infinity\n}\n\nexport function timeUntilStale(updatedAt: number, staleTime?: number): number {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0)\n}\n\nexport function resolveStaleTime<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  staleTime: undefined | StaleTime<TQueryFnData, TError, TData, TQueryKey>,\n  query: Query<TQueryFnData, TError, TData, TQueryKey>,\n): number | undefined {\n  return typeof staleTime === 'function' ? staleTime(query) : staleTime\n}\n\nexport function resolveEnabled<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  enabled: undefined | Enabled<TQueryFnData, TError, TData, TQueryKey>,\n  query: Query<TQueryFnData, TError, TData, TQueryKey>,\n): boolean | undefined {\n  return typeof enabled === 'function' ? enabled(query) : enabled\n}\n\nexport function matchQuery(\n  filters: QueryFilters,\n  query: Query<any, any, any, any>,\n): boolean {\n  const {\n    type = 'all',\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale,\n  } = filters\n\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false\n    }\n  }\n\n  if (type !== 'all') {\n    const isActive = query.isActive()\n    if (type === 'active' && !isActive) {\n      return false\n    }\n    if (type === 'inactive' && isActive) {\n      return false\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false\n  }\n\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false\n  }\n\n  if (predicate && !predicate(query)) {\n    return false\n  }\n\n  return true\n}\n\nexport function matchMutation(\n  filters: MutationFilters,\n  mutation: Mutation<any, any>,\n): boolean {\n  const { exact, status, predicate, mutationKey } = filters\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false\n    }\n  }\n\n  if (status && mutation.state.status !== status) {\n    return false\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false\n  }\n\n  return true\n}\n\nexport function hashQueryKeyByOptions<TQueryKey extends QueryKey = QueryKey>(\n  queryKey: TQueryKey,\n  options?: Pick<QueryOptions<any, any, any, any>, 'queryKeyHashFn'>,\n): string {\n  const hashFn = options?.queryKeyHashFn || hashKey\n  return hashFn(queryKey)\n}\n\n/**\n * Default query & mutation keys hash function.\n * Hashes the value into a stable hash.\n */\nexport function hashKey(queryKey: QueryKey | MutationKey): string {\n  return JSON.stringify(queryKey, (_, val) =>\n    isPlainObject(val)\n      ? Object.keys(val)\n          .sort()\n          .reduce((result, key) => {\n            result[key] = val[key]\n            return result\n          }, {} as any)\n      : val,\n  )\n}\n\n/**\n * Checks if key `b` partially matches with key `a`.\n */\nexport function partialMatchKey(a: QueryKey, b: QueryKey): boolean\nexport function partialMatchKey(a: any, b: any): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some((key) => !partialMatchKey(a[key], b[key]))\n  }\n\n  return false\n}\n\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\nexport function replaceEqualDeep<T>(a: unknown, b: T): T\nexport function replaceEqualDeep(a: any, b: any): any {\n  if (a === b) {\n    return a\n  }\n\n  const array = isPlainArray(a) && isPlainArray(b)\n\n  if (array || (isPlainObject(a) && isPlainObject(b))) {\n    const aItems = array ? a : Object.keys(a)\n    const aSize = aItems.length\n    const bItems = array ? b : Object.keys(b)\n    const bSize = bItems.length\n    const copy: any = array ? [] : {}\n\n    let equalItems = 0\n\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i]\n      if (\n        ((!array && aItems.includes(key)) || array) &&\n        a[key] === undefined &&\n        b[key] === undefined\n      ) {\n        copy[key] = undefined\n        equalItems++\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key])\n        if (copy[key] === a[key] && a[key] !== undefined) {\n          equalItems++\n        }\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy\n  }\n\n  return b\n}\n\n/**\n * Shallow compare objects.\n */\nexport function shallowEqualObjects<T extends Record<string, any>>(\n  a: T,\n  b: T | undefined,\n): boolean {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function isPlainArray(value: unknown) {\n  return Array.isArray(value) && value.length === Object.keys(value).length\n}\n\n// Copied from: https://github.com/jonschlinkert/is-plain-object\n// eslint-disable-next-line @typescript-eslint/no-wrapper-object-types\nexport function isPlainObject(o: any): o is Object {\n  if (!hasObjectPrototype(o)) {\n    return false\n  }\n\n  // If has no constructor\n  const ctor = o.constructor\n  if (ctor === undefined) {\n    return true\n  }\n\n  // If has modified prototype\n  const prot = ctor.prototype\n  if (!hasObjectPrototype(prot)) {\n    return false\n  }\n\n  // If constructor does not have an Object-specific method\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false\n  }\n\n  // Handles Objects created by Object.create(<arbitrary prototype>)\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false\n  }\n\n  // Most likely a plain Object\n  return true\n}\n\nfunction hasObjectPrototype(o: any): boolean {\n  return Object.prototype.toString.call(o) === '[object Object]'\n}\n\nexport function sleep(timeout: number): Promise<void> {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout)\n  })\n}\n\nexport function replaceData<\n  TData,\n  TOptions extends QueryOptions<any, any, any, any>,\n>(prevData: TData | undefined, data: TData, options: TOptions): TData {\n  if (typeof options.structuralSharing === 'function') {\n    return options.structuralSharing(prevData, data) as TData\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== 'production') {\n      try {\n        return replaceEqualDeep(prevData, data)\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`,\n        )\n      }\n    }\n    // Structurally share data between prev and new data if needed\n    return replaceEqualDeep(prevData, data)\n  }\n  return data\n}\n\nexport function keepPreviousData<T>(\n  previousData: T | undefined,\n): T | undefined {\n  return previousData\n}\n\nexport function addToEnd<T>(items: Array<T>, item: T, max = 0): Array<T> {\n  const newItems = [...items, item]\n  return max && newItems.length > max ? newItems.slice(1) : newItems\n}\n\nexport function addToStart<T>(items: Array<T>, item: T, max = 0): Array<T> {\n  const newItems = [item, ...items]\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems\n}\n\nexport const skipToken = Symbol()\nexport type SkipToken = typeof skipToken\n\nexport function ensureQueryFn<\n  TQueryFnData = unknown,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: {\n    queryFn?: QueryFunction<TQueryFnData, TQueryKey> | SkipToken\n    queryHash?: string\n  },\n  fetchOptions?: FetchOptions<TQueryFnData>,\n): QueryFunction<TQueryFnData, TQueryKey> {\n  if (process.env.NODE_ENV !== 'production') {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`,\n      )\n    }\n  }\n\n  // if we attempt to retry a fetch that was triggered from an initialPromise\n  // when we don't have a queryFn yet, we can't retry, so we just return the already rejected initialPromise\n  // if an observer has already mounted, we will be able to retry with that queryFn\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise!\n  }\n\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () =>\n      Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`))\n  }\n\n  return options.queryFn\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/notifyManager.ts"],"sourcesContent":["// TYPES\n\ntype NotifyCallback = () => void\n\ntype NotifyFunction = (callback: () => void) => void\n\ntype BatchNotifyFunction = (callback: () => void) => void\n\ntype BatchCallsCallback<T extends Array<unknown>> = (...args: T) => void\n\ntype ScheduleFunction = (callback: () => void) => void\n\nexport function createNotifyManager() {\n  let queue: Array<NotifyCallback> = []\n  let transactions = 0\n  let notifyFn: NotifyFunction = (callback) => {\n    callback()\n  }\n  let batchNotifyFn: BatchNotifyFunction = (callback: () => void) => {\n    callback()\n  }\n  let scheduleFn: ScheduleFunction = (cb) => setTimeout(cb, 0)\n\n  const schedule = (callback: NotifyCallback): void => {\n    if (transactions) {\n      queue.push(callback)\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback)\n      })\n    }\n  }\n  const flush = (): void => {\n    const originalQueue = queue\n    queue = []\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback)\n          })\n        })\n      })\n    }\n  }\n\n  return {\n    batch: <T>(callback: () => T): T => {\n      let result\n      transactions++\n      try {\n        result = callback()\n      } finally {\n        transactions--\n        if (!transactions) {\n          flush()\n        }\n      }\n      return result\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: <T extends Array<unknown>>(\n      callback: BatchCallsCallback<T>,\n    ): BatchCallsCallback<T> => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args)\n        })\n      }\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn: NotifyFunction) => {\n      notifyFn = fn\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn: BatchNotifyFunction) => {\n      batchNotifyFn = fn\n    },\n    setScheduler: (fn: ScheduleFunction) => {\n      scheduleFn = fn\n    },\n  } as const\n}\n\n// SINGLETON\nexport const notifyManager = createNotifyManager()\n"],"names":[],"mappings":";;;;;AAYO,SAAS,sBAAsB;IACpC,IAAI,QAA+B,CAAC,CAAA;IACpC,IAAI,eAAe;IACnB,IAAI,WAA2B,CAAC,aAAa;QAC3C,SAAS;IACX;IACA,IAAI,gBAAqC,CAAC,aAAyB;QACjE,SAAS;IACX;IACA,IAAI,aAA+B,CAAC,KAAO,WAAW,IAAI,CAAC;IAE3D,MAAM,WAAW,CAAC,aAAmC;QACnD,IAAI,cAAc;YAChB,MAAM,IAAA,CAAK,QAAQ;QACrB,OAAO;YACL,WAAW,MAAM;gBACf,SAAS,QAAQ;YACnB,CAAC;QACH;IACF;IACA,MAAM,QAAQ,MAAY;QACxB,MAAM,gBAAgB;QACtB,QAAQ,CAAC,CAAA;QACT,IAAI,cAAc,MAAA,EAAQ;YACxB,WAAW,MAAM;gBACf,cAAc,MAAM;oBAClB,cAAc,OAAA,CAAQ,CAAC,aAAa;wBAClC,SAAS,QAAQ;oBACnB,CAAC;gBACH,CAAC;YACH,CAAC;QACH;IACF;IAEA,OAAO;QACL,OAAO,CAAI,aAAyB;YAClC,IAAI;YACJ;YACA,IAAI;gBACF,SAAS,SAAS;YACpB,SAAE;gBACA;gBACA,IAAI,CAAC,cAAc;oBACjB,MAAM;gBACR;YACF;YACA,OAAO;QACT;QAAA;;KAAA,GAIA,YAAY,CACV,aAC0B;YAC1B,OAAO,CAAA,GAAI,SAAS;gBAClB,SAAS,MAAM;oBACb,SAAS,GAAG,IAAI;gBAClB,CAAC;YACH;QACF;QACA;QAAA;;;KAAA,GAKA,mBAAmB,CAAC,OAAuB;YACzC,WAAW;QACb;QAAA;;;KAAA,GAKA,wBAAwB,CAAC,OAA4B;YACnD,gBAAgB;QAClB;QACA,cAAc,CAAC,OAAyB;YACtC,aAAa;QACf;IACF;AACF;AAGO,IAAM,gBAAgB,oBAAoB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 763, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/subscribable.ts"],"sourcesContent":["export class Subscribable<TListener extends Function> {\n  protected listeners = new Set<TListener>()\n\n  constructor() {\n    this.subscribe = this.subscribe.bind(this)\n  }\n\n  subscribe(listener: TListener): () => void {\n    this.listeners.add(listener)\n\n    this.onSubscribe()\n\n    return () => {\n      this.listeners.delete(listener)\n      this.onUnsubscribe()\n    }\n  }\n\n  hasListeners(): boolean {\n    return this.listeners.size > 0\n  }\n\n  protected onSubscribe(): void {\n    // Do nothing\n  }\n\n  protected onUnsubscribe(): void {\n    // Do nothing\n  }\n}\n"],"names":[],"mappings":";;;;AAAO,IAAM,eAAN,MAA+C;IAGpD,aAAc;QAFd,IAAA,CAAU,SAAA,GAAY,aAAA,GAAA,IAAI,IAAe;QAGvC,IAAA,CAAK,SAAA,GAAY,IAAA,CAAK,SAAA,CAAU,IAAA,CAAK,IAAI;IAC3C;IAEA,UAAU,QAAA,EAAiC;QACzC,IAAA,CAAK,SAAA,CAAU,GAAA,CAAI,QAAQ;QAE3B,IAAA,CAAK,WAAA,CAAY;QAEjB,OAAO,MAAM;YACX,IAAA,CAAK,SAAA,CAAU,MAAA,CAAO,QAAQ;YAC9B,IAAA,CAAK,aAAA,CAAc;QACrB;IACF;IAEA,eAAwB;QACtB,OAAO,IAAA,CAAK,SAAA,CAAU,IAAA,GAAO;IAC/B;IAEU,cAAoB,CAE9B;IAEU,gBAAsB,CAEhC;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/focusManager.ts"],"sourcesContent":["import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype Listener = (focused: boolean) => void\n\ntype SetupFn = (\n  setFocused: (focused?: boolean) => void,\n) => (() => void) | undefined\n\nexport class FocusManager extends Subscribable<Listener> {\n  #focused?: boolean\n  #cleanup?: () => void\n\n  #setup: SetupFn\n\n  constructor() {\n    super()\n    this.#setup = (onFocus) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus()\n        // Listen to visibilitychange\n        window.addEventListener('visibilitychange', listener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener)\n        }\n      }\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.()\n      this.#cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.#setup = setup\n    this.#cleanup?.()\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === 'boolean') {\n        this.setFocused(focused)\n      } else {\n        this.onFocus()\n      }\n    })\n  }\n\n  setFocused(focused?: boolean): void {\n    const changed = this.#focused !== focused\n    if (changed) {\n      this.#focused = focused\n      this.onFocus()\n    }\n  }\n\n  onFocus(): void {\n    const isFocused = this.isFocused()\n    this.listeners.forEach((listener) => {\n      listener(isFocused)\n    })\n  }\n\n  isFocused(): boolean {\n    if (typeof this.#focused === 'boolean') {\n      return this.#focused\n    }\n\n    // document global can be unavailable in react native\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    return globalThis.document?.visibilityState !== 'hidden'\n  }\n}\n\nexport const focusManager = new FocusManager()\n"],"names":[],"mappings":";;;;;AAAA,SAAS,oBAAoB;AAC7B,SAAS,gBAAgB;;;AAQlB,IAAM,eAAN,6LAA2B,eAAA,CAAuB;KACvD,OAAA,CAAA;KACA,OAAA,CAAA;KAEA,KAAA,CAAA;IAEA,aAAc;QACZ,KAAA,CAAM;QACN,IAAA,EAAK,KAAA,GAAS,CAAC,YAAY;YAGzB,IAAI,yKAAC,WAAA,IAAY,OAAO,gBAAA,EAAkB;gBACxC,MAAM,WAAW,IAAM,QAAQ;gBAE/B,OAAO,gBAAA,CAAiB,oBAAoB,UAAU,KAAK;gBAE3D,OAAO,MAAM;oBAEX,OAAO,mBAAA,CAAoB,oBAAoB,QAAQ;gBACzD;YACF;YACA;QACF;IACF;IAEU,cAAoB;QAC5B,IAAI,CAAC,IAAA,EAAK,OAAA,EAAU;YAClB,IAAA,CAAK,gBAAA,CAAiB,IAAA,EAAK,KAAM;QACnC;IACF;IAEU,gBAAgB;QACxB,IAAI,CAAC,IAAA,CAAK,YAAA,CAAa,GAAG;YACxB,IAAA,EAAK,OAAA,GAAW;YAChB,IAAA,EAAK,OAAA,GAAW,KAAA;QAClB;IACF;IAEA,iBAAiB,KAAA,EAAsB;QACrC,IAAA,EAAK,KAAA,GAAS;QACd,IAAA,EAAK,OAAA,GAAW;QAChB,IAAA,EAAK,OAAA,GAAW,MAAM,CAAC,YAAY;YACjC,IAAI,OAAO,YAAY,WAAW;gBAChC,IAAA,CAAK,UAAA,CAAW,OAAO;YACzB,OAAO;gBACL,IAAA,CAAK,OAAA,CAAQ;YACf;QACF,CAAC;IACH;IAEA,WAAW,OAAA,EAAyB;QAClC,MAAM,UAAU,IAAA,EAAK,OAAA,KAAa;QAClC,IAAI,SAAS;YACX,IAAA,EAAK,OAAA,GAAW;YAChB,IAAA,CAAK,OAAA,CAAQ;QACf;IACF;IAEA,UAAgB;QACd,MAAM,YAAY,IAAA,CAAK,SAAA,CAAU;QACjC,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ,CAAC,aAAa;YACnC,SAAS,SAAS;QACpB,CAAC;IACH;IAEA,YAAqB;QACnB,IAAI,OAAO,IAAA,EAAK,OAAA,KAAa,WAAW;YACtC,OAAO,IAAA,EAAK,OAAA;QACd;QAIA,OAAO,WAAW,QAAA,EAAU,oBAAoB;IAClD;AACF;AAEO,IAAM,eAAe,IAAI,aAAa","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 871, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/onlineManager.ts"],"sourcesContent":["import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype Listener = (online: boolean) => void\ntype SetupFn = (setOnline: Listener) => (() => void) | undefined\n\nexport class OnlineManager extends Subscribable<Listener> {\n  #online = true\n  #cleanup?: () => void\n\n  #setup: SetupFn\n\n  constructor() {\n    super()\n    this.#setup = (onOnline) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true)\n        const offlineListener = () => onOnline(false)\n        // Listen to online\n        window.addEventListener('online', onlineListener, false)\n        window.addEventListener('offline', offlineListener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', onlineListener)\n          window.removeEventListener('offline', offlineListener)\n        }\n      }\n\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.()\n      this.#cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.#setup = setup\n    this.#cleanup?.()\n    this.#cleanup = setup(this.setOnline.bind(this))\n  }\n\n  setOnline(online: boolean): void {\n    const changed = this.#online !== online\n\n    if (changed) {\n      this.#online = online\n      this.listeners.forEach((listener) => {\n        listener(online)\n      })\n    }\n  }\n\n  isOnline(): boolean {\n    return this.#online\n  }\n}\n\nexport const onlineManager = new OnlineManager()\n"],"names":[],"mappings":";;;;;AAAA,SAAS,oBAAoB;AAC7B,SAAS,gBAAgB;;;AAKlB,IAAM,gBAAN,6LAA4B,eAAA,CAAuB;KACxD,MAAA,GAAU,KAAA;KACV,OAAA,CAAA;KAEA,KAAA,CAAA;IAEA,aAAc;QACZ,KAAA,CAAM;QACN,IAAA,EAAK,KAAA,GAAS,CAAC,aAAa;YAG1B,IAAI,yKAAC,WAAA,IAAY,OAAO,gBAAA,EAAkB;gBACxC,MAAM,iBAAiB,IAAM,SAAS,IAAI;gBAC1C,MAAM,kBAAkB,IAAM,SAAS,KAAK;gBAE5C,OAAO,gBAAA,CAAiB,UAAU,gBAAgB,KAAK;gBACvD,OAAO,gBAAA,CAAiB,WAAW,iBAAiB,KAAK;gBAEzD,OAAO,MAAM;oBAEX,OAAO,mBAAA,CAAoB,UAAU,cAAc;oBACnD,OAAO,mBAAA,CAAoB,WAAW,eAAe;gBACvD;YACF;YAEA;QACF;IACF;IAEU,cAAoB;QAC5B,IAAI,CAAC,IAAA,EAAK,OAAA,EAAU;YAClB,IAAA,CAAK,gBAAA,CAAiB,IAAA,EAAK,KAAM;QACnC;IACF;IAEU,gBAAgB;QACxB,IAAI,CAAC,IAAA,CAAK,YAAA,CAAa,GAAG;YACxB,IAAA,EAAK,OAAA,GAAW;YAChB,IAAA,EAAK,OAAA,GAAW,KAAA;QAClB;IACF;IAEA,iBAAiB,KAAA,EAAsB;QACrC,IAAA,EAAK,KAAA,GAAS;QACd,IAAA,EAAK,OAAA,GAAW;QAChB,IAAA,EAAK,OAAA,GAAW,MAAM,IAAA,CAAK,SAAA,CAAU,IAAA,CAAK,IAAI,CAAC;IACjD;IAEA,UAAU,MAAA,EAAuB;QAC/B,MAAM,UAAU,IAAA,EAAK,MAAA,KAAY;QAEjC,IAAI,SAAS;YACX,IAAA,EAAK,MAAA,GAAU;YACf,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ,CAAC,aAAa;gBACnC,SAAS,MAAM;YACjB,CAAC;QACH;IACF;IAEA,WAAoB;QAClB,OAAO,IAAA,EAAK,MAAA;IACd;AACF;AAEO,IAAM,gBAAgB,IAAI,cAAc","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 932, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 938, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/thenable.ts"],"sourcesContent":["/**\n * Thenable types which matches React's types for promises\n *\n * React seemingly uses `.status`, `.value` and `.reason` properties on a promises to optimistically unwrap data from promises\n *\n * @see https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L112-L138\n * @see https://github.com/facebook/react/blob/4f604941569d2e8947ce1460a0b2997e835f37b9/packages/react-debug-tools/src/ReactDebugHooks.js#L224-L227\n */\n\ninterface Fulfilled<T> {\n  status: 'fulfilled'\n  value: T\n}\ninterface Rejected {\n  status: 'rejected'\n  reason: unknown\n}\ninterface Pending<T> {\n  status: 'pending'\n\n  /**\n   * Resolve the promise with a value.\n   * Will remove the `resolve` and `reject` properties from the promise.\n   */\n  resolve: (value: T) => void\n  /**\n   * Reject the promise with a reason.\n   * Will remove the `resolve` and `reject` properties from the promise.\n   */\n  reject: (reason: unknown) => void\n}\n\nexport type FulfilledThenable<T> = Promise<T> & Fulfilled<T>\nexport type RejectedThenable<T> = Promise<T> & Rejected\nexport type PendingThenable<T> = Promise<T> & Pending<T>\n\nexport type Thenable<T> =\n  | FulfilledThenable<T>\n  | RejectedThenable<T>\n  | PendingThenable<T>\n\nexport function pendingThenable<T>(): PendingThenable<T> {\n  let resolve: Pending<T>['resolve']\n  let reject: Pending<T>['reject']\n  // this could use `Promise.withResolvers()` in the future\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve\n    reject = _reject\n  }) as PendingThenable<T>\n\n  thenable.status = 'pending'\n  thenable.catch(() => {\n    // prevent unhandled rejection errors\n  })\n\n  function finalize(data: Fulfilled<T> | Rejected) {\n    Object.assign(thenable, data)\n\n    // clear pending props props to avoid calling them twice\n    delete (thenable as Partial<PendingThenable<T>>).resolve\n    delete (thenable as Partial<PendingThenable<T>>).reject\n  }\n\n  thenable.resolve = (value) => {\n    finalize({\n      status: 'fulfilled',\n      value,\n    })\n\n    resolve(value)\n  }\n  thenable.reject = (reason) => {\n    finalize({\n      status: 'rejected',\n      reason,\n    })\n\n    reject(reason)\n  }\n\n  return thenable\n}\n"],"names":[],"mappings":";;;;AAyCO,SAAS,kBAAyC;IACvD,IAAI;IACJ,IAAI;IAEJ,MAAM,WAAW,IAAI,QAAQ,CAAC,UAAU,YAAY;QAClD,UAAU;QACV,SAAS;IACX,CAAC;IAED,SAAS,MAAA,GAAS;IAClB,SAAS,KAAA,CAAM,KAEf,CAFqB,AAEpB;IAED,SAAS,SAAS,IAAA,EAA+B;QAC/C,OAAO,MAAA,CAAO,UAAU,IAAI;QAG5B,OAAQ,SAAyC,OAAA;QACjD,OAAQ,SAAyC,MAAA;IACnD;IAEA,SAAS,OAAA,GAAU,CAAC,UAAU;QAC5B,SAAS;YACP,QAAQ;YACR;QACF,CAAC;QAED,QAAQ,KAAK;IACf;IACA,SAAS,MAAA,GAAS,CAAC,WAAW;QAC5B,SAAS;YACP,QAAQ;YACR;QACF,CAAC;QAED,OAAO,MAAM;IACf;IAEA,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 974, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 980, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/retryer.ts"],"sourcesContent":["import { focusManager } from './focusManager'\nimport { onlineManager } from './onlineManager'\nimport { pendingThenable } from './thenable'\nimport { isServer, sleep } from './utils'\nimport type { CancelOptions, DefaultError, NetworkMode } from './types'\n\n// TYPES\n\ninterface RetryerConfig<TData = unknown, TError = DefaultError> {\n  fn: () => TData | Promise<TData>\n  initialPromise?: Promise<TData>\n  abort?: () => void\n  onError?: (error: TError) => void\n  onSuccess?: (data: TData) => void\n  onFail?: (failureCount: number, error: TError) => void\n  onPause?: () => void\n  onContinue?: () => void\n  retry?: RetryValue<TError>\n  retryDelay?: RetryDelayValue<TError>\n  networkMode: NetworkMode | undefined\n  canRun: () => boolean\n}\n\nexport interface Retryer<TData = unknown> {\n  promise: Promise<TData>\n  cancel: (cancelOptions?: CancelOptions) => void\n  continue: () => Promise<unknown>\n  cancelRetry: () => void\n  continueRetry: () => void\n  canStart: () => boolean\n  start: () => Promise<TData>\n}\n\nexport type RetryValue<TError> = boolean | number | ShouldRetryFunction<TError>\n\ntype ShouldRetryFunction<TError = DefaultError> = (\n  failureCount: number,\n  error: TError,\n) => boolean\n\nexport type RetryDelayValue<TError> = number | RetryDelayFunction<TError>\n\ntype RetryDelayFunction<TError = DefaultError> = (\n  failureCount: number,\n  error: TError,\n) => number\n\nfunction defaultRetryDelay(failureCount: number) {\n  return Math.min(1000 * 2 ** failureCount, 30000)\n}\n\nexport function canFetch(networkMode: NetworkMode | undefined): boolean {\n  return (networkMode ?? 'online') === 'online'\n    ? onlineManager.isOnline()\n    : true\n}\n\nexport class CancelledError extends Error {\n  revert?: boolean\n  silent?: boolean\n  constructor(options?: CancelOptions) {\n    super('CancelledError')\n    this.revert = options?.revert\n    this.silent = options?.silent\n  }\n}\n\nexport function isCancelledError(value: any): value is CancelledError {\n  return value instanceof CancelledError\n}\n\nexport function createRetryer<TData = unknown, TError = DefaultError>(\n  config: RetryerConfig<TData, TError>,\n): Retryer<TData> {\n  let isRetryCancelled = false\n  let failureCount = 0\n  let isResolved = false\n  let continueFn: ((value?: unknown) => void) | undefined\n\n  const thenable = pendingThenable<TData>()\n\n  const cancel = (cancelOptions?: CancelOptions): void => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions))\n\n      config.abort?.()\n    }\n  }\n  const cancelRetry = () => {\n    isRetryCancelled = true\n  }\n\n  const continueRetry = () => {\n    isRetryCancelled = false\n  }\n\n  const canContinue = () =>\n    focusManager.isFocused() &&\n    (config.networkMode === 'always' || onlineManager.isOnline()) &&\n    config.canRun()\n\n  const canStart = () => canFetch(config.networkMode) && config.canRun()\n\n  const resolve = (value: any) => {\n    if (!isResolved) {\n      isResolved = true\n      config.onSuccess?.(value)\n      continueFn?.()\n      thenable.resolve(value)\n    }\n  }\n\n  const reject = (value: any) => {\n    if (!isResolved) {\n      isResolved = true\n      config.onError?.(value)\n      continueFn?.()\n      thenable.reject(value)\n    }\n  }\n\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved || canContinue()) {\n          continueResolve(value)\n        }\n      }\n      config.onPause?.()\n    }).then(() => {\n      continueFn = undefined\n      if (!isResolved) {\n        config.onContinue?.()\n      }\n    })\n  }\n\n  // Create loop function\n  const run = () => {\n    // Do nothing if already resolved\n    if (isResolved) {\n      return\n    }\n\n    let promiseOrValue: any\n\n    // we can re-use config.initialPromise on the first call of run()\n    const initialPromise =\n      failureCount === 0 ? config.initialPromise : undefined\n\n    // Execute query\n    try {\n      promiseOrValue = initialPromise ?? config.fn()\n    } catch (error) {\n      promiseOrValue = Promise.reject(error)\n    }\n\n    Promise.resolve(promiseOrValue)\n      .then(resolve)\n      .catch((error) => {\n        // Stop if the fetch is already resolved\n        if (isResolved) {\n          return\n        }\n\n        // Do we need to retry the request?\n        const retry = config.retry ?? (isServer ? 0 : 3)\n        const retryDelay = config.retryDelay ?? defaultRetryDelay\n        const delay =\n          typeof retryDelay === 'function'\n            ? retryDelay(failureCount, error)\n            : retryDelay\n        const shouldRetry =\n          retry === true ||\n          (typeof retry === 'number' && failureCount < retry) ||\n          (typeof retry === 'function' && retry(failureCount, error))\n\n        if (isRetryCancelled || !shouldRetry) {\n          // We are done if the query does not need to be retried\n          reject(error)\n          return\n        }\n\n        failureCount++\n\n        // Notify on fail\n        config.onFail?.(failureCount, error)\n\n        // Delay\n        sleep(delay)\n          // Pause if the document is not visible or when the device is offline\n          .then(() => {\n            return canContinue() ? undefined : pause()\n          })\n          .then(() => {\n            if (isRetryCancelled) {\n              reject(error)\n            } else {\n              run()\n            }\n          })\n      })\n  }\n\n  return {\n    promise: thenable,\n    cancel,\n    continue: () => {\n      continueFn?.()\n      return thenable\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      // Start loop\n      if (canStart()) {\n        run()\n      } else {\n        pause().then(run)\n      }\n      return thenable\n    },\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1120, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/removable.ts"],"sourcesContent":["import { isServer, isValidTimeout } from './utils'\n\nexport abstract class Removable {\n  gcTime!: number\n  #gcTimeout?: ReturnType<typeof setTimeout>\n\n  destroy(): void {\n    this.clearGcTimeout()\n  }\n\n  protected scheduleGc(): void {\n    this.clearGcTimeout()\n\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove()\n      }, this.gcTime)\n    }\n  }\n\n  protected updateGcTime(newGcTime: number | undefined): void {\n    // Default to 5 minutes (Infinity for server-side) if no gcTime is set\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1000),\n    )\n  }\n\n  protected clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout)\n      this.#gcTimeout = undefined\n    }\n  }\n\n  protected abstract optionalRemove(): void\n}\n"],"names":[],"mappings":";;;;AAAA,SAAS,UAAU,sBAAsB;;AAElC,IAAe,YAAf,MAAyB;KAE9B,SAAA,CAAA;IAEA,UAAgB;QACd,IAAA,CAAK,cAAA,CAAe;IACtB;IAEU,aAAmB;QAC3B,IAAA,CAAK,cAAA,CAAe;QAEpB,gLAAI,iBAAA,EAAe,IAAA,CAAK,MAAM,GAAG;YAC/B,IAAA,EAAK,SAAA,GAAa,WAAW,MAAM;gBACjC,IAAA,CAAK,cAAA,CAAe;YACtB,GAAG,IAAA,CAAK,MAAM;QAChB;IACF;IAEU,aAAa,SAAA,EAAqC;QAE1D,IAAA,CAAK,MAAA,GAAS,KAAK,GAAA,CACjB,IAAA,CAAK,MAAA,IAAU,GACf,aAAA,yKAAc,WAAA,GAAW,WAAW,IAAI,KAAK,GAAA;IAEjD;IAEU,iBAAiB;QACzB,IAAI,IAAA,EAAK,SAAA,EAAY;YACnB,aAAa,IAAA,EAAK,SAAU;YAC5B,IAAA,EAAK,SAAA,GAAa,KAAA;QACpB;IACF;AAGF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1163, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/query.ts"],"sourcesContent":["import {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  skipToken,\n  timeUntilStale,\n} from './utils'\nimport { notifyManager } from './notifyManager'\nimport { canFetch, createRetryer, isCancelledError } from './retryer'\nimport { Removable } from './removable'\nimport type { QueryCache } from './queryCache'\nimport type { QueryClient } from './queryClient'\nimport type {\n  CancelOptions,\n  DefaultError,\n  FetchStatus,\n  InitialDataFunction,\n  OmitKeyof,\n  QueryFunction,\n  QueryFunctionContext,\n  QueryKey,\n  QueryMeta,\n  QueryOptions,\n  QueryStatus,\n  SetDataOptions,\n} from './types'\nimport type { QueryObserver } from './queryObserver'\nimport type { Retryer } from './retryer'\n\n// TYPES\n\ninterface QueryConfig<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  client: QueryClient\n  queryKey: TQueryKey\n  queryHash: string\n  options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  state?: QueryState<TData, TError>\n}\n\nexport interface QueryState<TData = unknown, TError = DefaultError> {\n  data: TData | undefined\n  dataUpdateCount: number\n  dataUpdatedAt: number\n  error: TError | null\n  errorUpdateCount: number\n  errorUpdatedAt: number\n  fetchFailureCount: number\n  fetchFailureReason: TError | null\n  fetchMeta: FetchMeta | null\n  isInvalidated: boolean\n  status: QueryStatus\n  fetchStatus: FetchStatus\n}\n\nexport interface FetchContext<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  fetchFn: () => unknown | Promise<unknown>\n  fetchOptions?: FetchOptions\n  signal: AbortSignal\n  options: QueryOptions<TQueryFnData, TError, TData, any>\n  client: QueryClient\n  queryKey: TQueryKey\n  state: QueryState<TData, TError>\n}\n\nexport interface QueryBehavior<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  onFetch: (\n    context: FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n    query: Query,\n  ) => void\n}\n\nexport type FetchDirection = 'forward' | 'backward'\n\nexport interface FetchMeta {\n  fetchMore?: { direction: FetchDirection }\n}\n\nexport interface FetchOptions<TData = unknown> {\n  cancelRefetch?: boolean\n  meta?: FetchMeta\n  initialPromise?: Promise<TData>\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError\n}\n\ninterface FetchAction {\n  type: 'fetch'\n  meta?: FetchMeta\n}\n\ninterface SuccessAction<TData> {\n  data: TData | undefined\n  type: 'success'\n  dataUpdatedAt?: number\n  manual?: boolean\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface InvalidateAction {\n  type: 'invalidate'\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\ninterface SetStateAction<TData, TError> {\n  type: 'setState'\n  state: Partial<QueryState<TData, TError>>\n  setStateOptions?: SetStateOptions\n}\n\nexport type Action<TData, TError> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | FetchAction\n  | InvalidateAction\n  | PauseAction\n  | SetStateAction<TData, TError>\n  | SuccessAction<TData>\n\nexport interface SetStateOptions {\n  meta?: any\n}\n\n// CLASS\n\nexport class Query<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends Removable {\n  queryKey: TQueryKey\n  queryHash: string\n  options!: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  state: QueryState<TData, TError>\n\n  #initialState: QueryState<TData, TError>\n  #revertState?: QueryState<TData, TError>\n  #cache: QueryCache\n  #client: QueryClient\n  #retryer?: Retryer<TData>\n  observers: Array<QueryObserver<any, any, any, any, any>>\n  #defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  #abortSignalConsumed: boolean\n\n  constructor(config: QueryConfig<TQueryFnData, TError, TData, TQueryKey>) {\n    super()\n\n    this.#abortSignalConsumed = false\n    this.#defaultOptions = config.defaultOptions\n    this.setOptions(config.options)\n    this.observers = []\n    this.#client = config.client\n    this.#cache = this.#client.getQueryCache()\n    this.queryKey = config.queryKey\n    this.queryHash = config.queryHash\n    this.#initialState = getDefaultState(this.options)\n    this.state = config.state ?? this.#initialState\n    this.scheduleGc()\n  }\n  get meta(): QueryMeta | undefined {\n    return this.options.meta\n  }\n\n  get promise(): Promise<TData> | undefined {\n    return this.#retryer?.promise\n  }\n\n  setOptions(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): void {\n    this.options = { ...this.#defaultOptions, ...options }\n\n    this.updateGcTime(this.options.gcTime)\n  }\n\n  protected optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === 'idle') {\n      this.#cache.remove(this)\n    }\n  }\n\n  setData(\n    newData: TData,\n    options?: SetDataOptions & { manual: boolean },\n  ): TData {\n    const data = replaceData(this.state.data, newData, this.options)\n\n    // Set data and mark it as cached\n    this.#dispatch({\n      data,\n      type: 'success',\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual,\n    })\n\n    return data\n  }\n\n  setState(\n    state: Partial<QueryState<TData, TError>>,\n    setStateOptions?: SetStateOptions,\n  ): void {\n    this.#dispatch({ type: 'setState', state, setStateOptions })\n  }\n\n  cancel(options?: CancelOptions): Promise<void> {\n    const promise = this.#retryer?.promise\n    this.#retryer?.cancel(options)\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve()\n  }\n\n  destroy(): void {\n    super.destroy()\n\n    this.cancel({ silent: true })\n  }\n\n  reset(): void {\n    this.destroy()\n    this.setState(this.#initialState)\n  }\n\n  isActive(): boolean {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false,\n    )\n  }\n\n  isDisabled(): boolean {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive()\n    }\n    // if a query has no observers, it should still be considered disabled if it never attempted a fetch\n    return (\n      this.options.queryFn === skipToken ||\n      this.state.dataUpdateCount + this.state.errorUpdateCount === 0\n    )\n  }\n\n  isStale(): boolean {\n    if (this.state.isInvalidated) {\n      return true\n    }\n\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale,\n      )\n    }\n\n    return this.state.data === undefined\n  }\n\n  isStaleByTime(staleTime = 0): boolean {\n    return (\n      this.state.isInvalidated ||\n      this.state.data === undefined ||\n      !timeUntilStale(this.state.dataUpdatedAt, staleTime)\n    )\n  }\n\n  onFocus(): void {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus())\n\n    observer?.refetch({ cancelRefetch: false })\n\n    // Continue fetch if currently paused\n    this.#retryer?.continue()\n  }\n\n  onOnline(): void {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect())\n\n    observer?.refetch({ cancelRefetch: false })\n\n    // Continue fetch if currently paused\n    this.#retryer?.continue()\n  }\n\n  addObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer)\n\n      // Stop the query from being garbage collected\n      this.clearGcTimeout()\n\n      this.#cache.notify({ type: 'observerAdded', query: this, observer })\n    }\n  }\n\n  removeObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer)\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true })\n          } else {\n            this.#retryer.cancelRetry()\n          }\n        }\n\n        this.scheduleGc()\n      }\n\n      this.#cache.notify({ type: 'observerRemoved', query: this, observer })\n    }\n  }\n\n  getObserversCount(): number {\n    return this.observers.length\n  }\n\n  invalidate(): void {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: 'invalidate' })\n    }\n  }\n\n  fetch(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    fetchOptions?: FetchOptions<TQueryFnData>,\n  ): Promise<TData> {\n    if (this.state.fetchStatus !== 'idle') {\n      if (this.state.data !== undefined && fetchOptions?.cancelRefetch) {\n        // Silently cancel current fetch if the user wants to cancel refetch\n        this.cancel({ silent: true })\n      } else if (this.#retryer) {\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        this.#retryer.continueRetry()\n        // Return current promise if we are already fetching\n        return this.#retryer.promise\n      }\n    }\n\n    // Update config if passed, otherwise the config from the last execution is used\n    if (options) {\n      this.setOptions(options)\n    }\n\n    // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn)\n      if (observer) {\n        this.setOptions(observer.options)\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`,\n        )\n      }\n    }\n\n    const abortController = new AbortController()\n\n    // Adds an enumerable signal property to the object that\n    // which sets abortSignalConsumed to true when the signal\n    // is read.\n    const addSignalProperty = (object: unknown) => {\n      Object.defineProperty(object, 'signal', {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true\n          return abortController.signal\n        },\n      })\n    }\n\n    // Create fetch function\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions)\n\n      // Create query function context\n      const queryFnContext: OmitKeyof<\n        QueryFunctionContext<TQueryKey>,\n        'signal'\n      > = {\n        client: this.#client,\n        queryKey: this.queryKey,\n        meta: this.meta,\n      }\n\n      addSignalProperty(queryFnContext)\n\n      this.#abortSignalConsumed = false\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn as QueryFunction<any>,\n          queryFnContext as QueryFunctionContext<TQueryKey>,\n          this as unknown as Query,\n        )\n      }\n\n      return queryFn(queryFnContext as QueryFunctionContext<TQueryKey>)\n    }\n\n    // Trigger behavior hook\n    const context: OmitKeyof<\n      FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n      'signal'\n    > = {\n      fetchOptions,\n      options: this.options,\n      queryKey: this.queryKey,\n      client: this.#client,\n      state: this.state,\n      fetchFn,\n    }\n\n    addSignalProperty(context)\n\n    this.options.behavior?.onFetch(\n      context as FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n      this as unknown as Query,\n    )\n\n    // Store state in case the current fetch needs to be reverted\n    this.#revertState = this.state\n\n    // Set to fetching state if not already in it\n    if (\n      this.state.fetchStatus === 'idle' ||\n      this.state.fetchMeta !== context.fetchOptions?.meta\n    ) {\n      this.#dispatch({ type: 'fetch', meta: context.fetchOptions?.meta })\n    }\n\n    const onError = (error: TError | { silent?: boolean }) => {\n      // Optimistically update state if needed\n      if (!(isCancelledError(error) && error.silent)) {\n        this.#dispatch({\n          type: 'error',\n          error: error as TError,\n        })\n      }\n\n      if (!isCancelledError(error)) {\n        // Notify cache callback\n        this.#cache.config.onError?.(\n          error as any,\n          this as Query<any, any, any, any>,\n        )\n        this.#cache.config.onSettled?.(\n          this.state.data,\n          error as any,\n          this as Query<any, any, any, any>,\n        )\n      }\n\n      // Schedule query gc after fetching\n      this.scheduleGc()\n    }\n\n    // Try to fetch the data\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise as\n        | Promise<TData>\n        | undefined,\n      fn: context.fetchFn as () => Promise<TData>,\n      abort: abortController.abort.bind(abortController),\n      onSuccess: (data) => {\n        if (data === undefined) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error(\n              `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`,\n            )\n          }\n          onError(new Error(`${this.queryHash} data is undefined`) as any)\n          return\n        }\n\n        try {\n          this.setData(data)\n        } catch (error) {\n          onError(error as TError)\n          return\n        }\n\n        // Notify cache callback\n        this.#cache.config.onSuccess?.(data, this as Query<any, any, any, any>)\n        this.#cache.config.onSettled?.(\n          data,\n          this.state.error as any,\n          this as Query<any, any, any, any>,\n        )\n\n        // Schedule query gc after fetching\n        this.scheduleGc()\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: 'failed', failureCount, error })\n      },\n      onPause: () => {\n        this.#dispatch({ type: 'pause' })\n      },\n      onContinue: () => {\n        this.#dispatch({ type: 'continue' })\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true,\n    })\n\n    return this.#retryer.start()\n  }\n\n  #dispatch(action: Action<TData, TError>): void {\n    const reducer = (\n      state: QueryState<TData, TError>,\n    ): QueryState<TData, TError> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            fetchStatus: 'paused',\n          }\n        case 'continue':\n          return {\n            ...state,\n            fetchStatus: 'fetching',\n          }\n        case 'fetch':\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null,\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: 'success',\n            ...(!action.manual && {\n              fetchStatus: 'idle',\n              fetchFailureCount: 0,\n              fetchFailureReason: null,\n            }),\n          }\n        case 'error':\n          const error = action.error\n\n          if (isCancelledError(error) && error.revert && this.#revertState) {\n            return { ...this.#revertState, fetchStatus: 'idle' }\n          }\n\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: 'idle',\n            status: 'error',\n          }\n        case 'invalidate':\n          return {\n            ...state,\n            isInvalidated: true,\n          }\n        case 'setState':\n          return {\n            ...state,\n            ...action.state,\n          }\n      }\n    }\n\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate()\n      })\n\n      this.#cache.notify({ query: this, type: 'updated', action })\n    })\n  }\n}\n\nexport function fetchState<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey,\n>(\n  data: TData | undefined,\n  options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? 'fetching' : 'paused',\n    ...(data === undefined &&\n      ({\n        error: null,\n        status: 'pending',\n      } as const)),\n  } as const\n}\n\nfunction getDefaultState<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey,\n>(\n  options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n): QueryState<TData, TError> {\n  const data =\n    typeof options.initialData === 'function'\n      ? (options.initialData as InitialDataFunction<TData>)()\n      : options.initialData\n\n  const hasData = data !== undefined\n\n  const initialDataUpdatedAt = hasData\n    ? typeof options.initialDataUpdatedAt === 'function'\n      ? (options.initialDataUpdatedAt as () => number | undefined)()\n      : options.initialDataUpdatedAt\n    : 0\n\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? (initialDataUpdatedAt ?? Date.now()) : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? 'success' : 'pending',\n    fetchStatus: 'idle',\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1567, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1573, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/queryCache.ts"],"sourcesContent":["import { hashQueryKeyByOptions, matchQuery } from './utils'\nimport { Query } from './query'\nimport { notifyManager } from './notifyManager'\nimport { Subscribable } from './subscribable'\nimport type { QueryFilters } from './utils'\nimport type { Action, QueryState } from './query'\nimport type {\n  DefaultError,\n  NotifyEvent,\n  QueryKey,\n  QueryOptions,\n  WithRequired,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { QueryObserver } from './queryObserver'\n\n// TYPES\n\ninterface QueryCacheConfig {\n  onError?: (\n    error: DefaultError,\n    query: Query<unknown, unknown, unknown>,\n  ) => void\n  onSuccess?: (data: unknown, query: Query<unknown, unknown, unknown>) => void\n  onSettled?: (\n    data: unknown | undefined,\n    error: DefaultError | null,\n    query: Query<unknown, unknown, unknown>,\n  ) => void\n}\n\ninterface NotifyEventQueryAdded extends NotifyEvent {\n  type: 'added'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryRemoved extends NotifyEvent {\n  type: 'removed'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryUpdated extends NotifyEvent {\n  type: 'updated'\n  query: Query<any, any, any, any>\n  action: Action<any, any>\n}\n\ninterface NotifyEventQueryObserverAdded extends NotifyEvent {\n  type: 'observerAdded'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverRemoved extends NotifyEvent {\n  type: 'observerRemoved'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverResultsUpdated extends NotifyEvent {\n  type: 'observerResultsUpdated'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverOptionsUpdated extends NotifyEvent {\n  type: 'observerOptionsUpdated'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\nexport type QueryCacheNotifyEvent =\n  | NotifyEventQueryAdded\n  | NotifyEventQueryRemoved\n  | NotifyEventQueryUpdated\n  | NotifyEventQueryObserverAdded\n  | NotifyEventQueryObserverRemoved\n  | NotifyEventQueryObserverResultsUpdated\n  | NotifyEventQueryObserverOptionsUpdated\n\ntype QueryCacheListener = (event: QueryCacheNotifyEvent) => void\n\nexport interface QueryStore {\n  has: (queryHash: string) => boolean\n  set: (queryHash: string, query: Query) => void\n  get: (queryHash: string) => Query | undefined\n  delete: (queryHash: string) => void\n  values: () => IterableIterator<Query>\n}\n\n// CLASS\n\nexport class QueryCache extends Subscribable<QueryCacheListener> {\n  #queries: QueryStore\n\n  constructor(public config: QueryCacheConfig = {}) {\n    super()\n    this.#queries = new Map<string, Query>()\n  }\n\n  build<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    client: QueryClient,\n    options: WithRequired<\n      QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n      'queryKey'\n    >,\n    state?: QueryState<TData, TError>,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> {\n    const queryKey = options.queryKey\n    const queryHash =\n      options.queryHash ?? hashQueryKeyByOptions(queryKey, options)\n    let query = this.get<TQueryFnData, TError, TData, TQueryKey>(queryHash)\n\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n      })\n      this.add(query)\n    }\n\n    return query\n  }\n\n  add(query: Query<any, any, any, any>): void {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query)\n\n      this.notify({\n        type: 'added',\n        query,\n      })\n    }\n  }\n\n  remove(query: Query<any, any, any, any>): void {\n    const queryInMap = this.#queries.get(query.queryHash)\n\n    if (queryInMap) {\n      query.destroy()\n\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash)\n      }\n\n      this.notify({ type: 'removed', query })\n    }\n  }\n\n  clear(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query)\n      })\n    })\n  }\n\n  get<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryHash: string,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> | undefined {\n    return this.#queries.get(queryHash) as\n      | Query<TQueryFnData, TError, TData, TQueryKey>\n      | undefined\n  }\n\n  getAll(): Array<Query> {\n    return [...this.#queries.values()]\n  }\n\n  find<TQueryFnData = unknown, TError = DefaultError, TData = TQueryFnData>(\n    filters: WithRequired<QueryFilters, 'queryKey'>,\n  ): Query<TQueryFnData, TError, TData> | undefined {\n    const defaultedFilters = { exact: true, ...filters }\n\n    return this.getAll().find((query) =>\n      matchQuery(defaultedFilters, query),\n    ) as Query<TQueryFnData, TError, TData> | undefined\n  }\n\n  findAll(filters: QueryFilters<any, any, any, any> = {}): Array<Query> {\n    const queries = this.getAll()\n    return Object.keys(filters).length > 0\n      ? queries.filter((query) => matchQuery(filters, query))\n      : queries\n  }\n\n  notify(event: QueryCacheNotifyEvent): void {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event)\n      })\n    })\n  }\n\n  onFocus(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus()\n      })\n    })\n  }\n\n  onOnline(): void {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline()\n      })\n    })\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1681, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1687, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/mutation.ts"],"sourcesContent":["import { notifyManager } from './notifyManager'\nimport { Removable } from './removable'\nimport { createRetryer } from './retryer'\nimport type {\n  DefaultError,\n  MutationMeta,\n  MutationOptions,\n  MutationStatus,\n} from './types'\nimport type { MutationCache } from './mutationCache'\nimport type { MutationObserver } from './mutationObserver'\nimport type { Retryer } from './retryer'\n\n// TYPES\n\ninterface MutationConfig<TData, TError, TVariables, TContext> {\n  mutationId: number\n  mutationCache: MutationCache\n  options: MutationOptions<TData, TError, TVariables, TContext>\n  state?: MutationState<TData, TError, TVariables, TContext>\n}\n\nexport interface MutationState<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TContext = unknown,\n> {\n  context: TContext | undefined\n  data: TData | undefined\n  error: TError | null\n  failureCount: number\n  failureReason: TError | null\n  isPaused: boolean\n  status: MutationStatus\n  variables: TVariables | undefined\n  submittedAt: number\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError | null\n}\n\ninterface PendingAction<TVariables, TContext> {\n  type: 'pending'\n  isPaused: boolean\n  variables?: TVariables\n  context?: TContext\n}\n\ninterface SuccessAction<TData> {\n  type: 'success'\n  data: TData\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\nexport type Action<TData, TError, TVariables, TContext> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | PendingAction<TVariables, TContext>\n  | PauseAction\n  | SuccessAction<TData>\n\n// CLASS\n\nexport class Mutation<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = unknown,\n  TContext = unknown,\n> extends Removable {\n  state: MutationState<TData, TError, TVariables, TContext>\n  options!: MutationOptions<TData, TError, TVariables, TContext>\n  readonly mutationId: number\n\n  #observers: Array<MutationObserver<TData, TError, TVariables, TContext>>\n  #mutationCache: MutationCache\n  #retryer?: Retryer<TData>\n\n  constructor(config: MutationConfig<TData, TError, TVariables, TContext>) {\n    super()\n\n    this.mutationId = config.mutationId\n    this.#mutationCache = config.mutationCache\n    this.#observers = []\n    this.state = config.state || getDefaultState()\n\n    this.setOptions(config.options)\n    this.scheduleGc()\n  }\n\n  setOptions(\n    options: MutationOptions<TData, TError, TVariables, TContext>,\n  ): void {\n    this.options = options\n\n    this.updateGcTime(this.options.gcTime)\n  }\n\n  get meta(): MutationMeta | undefined {\n    return this.options.meta\n  }\n\n  addObserver(observer: MutationObserver<any, any, any, any>): void {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer)\n\n      // Stop the mutation from being garbage collected\n      this.clearGcTimeout()\n\n      this.#mutationCache.notify({\n        type: 'observerAdded',\n        mutation: this,\n        observer,\n      })\n    }\n  }\n\n  removeObserver(observer: MutationObserver<any, any, any, any>): void {\n    this.#observers = this.#observers.filter((x) => x !== observer)\n\n    this.scheduleGc()\n\n    this.#mutationCache.notify({\n      type: 'observerRemoved',\n      mutation: this,\n      observer,\n    })\n  }\n\n  protected optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === 'pending') {\n        this.scheduleGc()\n      } else {\n        this.#mutationCache.remove(this)\n      }\n    }\n  }\n\n  continue(): Promise<unknown> {\n    return (\n      this.#retryer?.continue() ??\n      // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n      this.execute(this.state.variables!)\n    )\n  }\n\n  async execute(variables: TVariables): Promise<TData> {\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error('No mutationFn found'))\n        }\n        return this.options.mutationFn(variables)\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: 'failed', failureCount, error })\n      },\n      onPause: () => {\n        this.#dispatch({ type: 'pause' })\n      },\n      onContinue: () => {\n        this.#dispatch({ type: 'continue' })\n      },\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this),\n    })\n\n    const restored = this.state.status === 'pending'\n    const isPaused = !this.#retryer.canStart()\n\n    try {\n      if (!restored) {\n        this.#dispatch({ type: 'pending', variables, isPaused })\n        // Notify cache callback\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n        const context = await this.options.onMutate?.(variables)\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: 'pending',\n            context,\n            variables,\n            isPaused,\n          })\n        }\n      }\n      const data = await this.#retryer.start()\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n      )\n\n      await this.options.onSuccess?.(data, variables, this.state.context!)\n\n      // Notify cache callback\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n      )\n\n      await this.options.onSettled?.(data, null, variables, this.state.context)\n\n      this.#dispatch({ type: 'success', data })\n      return data\n    } catch (error) {\n      try {\n        // Notify cache callback\n        await this.#mutationCache.config.onError?.(\n          error as any,\n          variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n\n        await this.options.onError?.(\n          error as TError,\n          variables,\n          this.state.context,\n        )\n\n        // Notify cache callback\n        await this.#mutationCache.config.onSettled?.(\n          undefined,\n          error as any,\n          this.state.variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n\n        await this.options.onSettled?.(\n          undefined,\n          error as TError,\n          variables,\n          this.state.context,\n        )\n        throw error\n      } finally {\n        this.#dispatch({ type: 'error', error: error as TError })\n      }\n    } finally {\n      this.#mutationCache.runNext(this)\n    }\n  }\n\n  #dispatch(action: Action<TData, TError, TVariables, TContext>): void {\n    const reducer = (\n      state: MutationState<TData, TError, TVariables, TContext>,\n    ): MutationState<TData, TError, TVariables, TContext> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            isPaused: true,\n          }\n        case 'continue':\n          return {\n            ...state,\n            isPaused: false,\n          }\n        case 'pending':\n          return {\n            ...state,\n            context: action.context,\n            data: undefined,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: 'pending',\n            variables: action.variables,\n            submittedAt: Date.now(),\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: 'success',\n            isPaused: false,\n          }\n        case 'error':\n          return {\n            ...state,\n            data: undefined,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: 'error',\n          }\n      }\n    }\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action)\n      })\n      this.#mutationCache.notify({\n        mutation: this,\n        type: 'updated',\n        action,\n      })\n    })\n  }\n}\n\nexport function getDefaultState<\n  TData,\n  TError,\n  TVariables,\n  TContext,\n>(): MutationState<TData, TError, TVariables, TContext> {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined,\n    submittedAt: 0,\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1910, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1916, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/mutationCache.ts"],"sourcesContent":["import { notifyManager } from './notifyManager'\nimport { Mutation } from './mutation'\nimport { matchMutation, noop } from './utils'\nimport { Subscribable } from './subscribable'\nimport type { MutationObserver } from './mutationObserver'\nimport type { DefaultError, MutationOptions, NotifyEvent } from './types'\nimport type { QueryClient } from './queryClient'\nimport type { Action, MutationState } from './mutation'\nimport type { MutationFilters } from './utils'\n\n// TYPES\n\ninterface MutationCacheConfig {\n  onError?: (\n    error: DefaultError,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onSuccess?: (\n    data: unknown,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onMutate?: (\n    variables: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onSettled?: (\n    data: unknown | undefined,\n    error: DefaultError | null,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n}\n\ninterface NotifyEventMutationAdded extends NotifyEvent {\n  type: 'added'\n  mutation: Mutation<any, any, any, any>\n}\ninterface NotifyEventMutationRemoved extends NotifyEvent {\n  type: 'removed'\n  mutation: Mutation<any, any, any, any>\n}\n\ninterface NotifyEventMutationObserverAdded extends NotifyEvent {\n  type: 'observerAdded'\n  mutation: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any>\n}\n\ninterface NotifyEventMutationObserverRemoved extends NotifyEvent {\n  type: 'observerRemoved'\n  mutation: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any>\n}\n\ninterface NotifyEventMutationObserverOptionsUpdated extends NotifyEvent {\n  type: 'observerOptionsUpdated'\n  mutation?: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any, any>\n}\n\ninterface NotifyEventMutationUpdated extends NotifyEvent {\n  type: 'updated'\n  mutation: Mutation<any, any, any, any>\n  action: Action<any, any, any, any>\n}\n\nexport type MutationCacheNotifyEvent =\n  | NotifyEventMutationAdded\n  | NotifyEventMutationRemoved\n  | NotifyEventMutationObserverAdded\n  | NotifyEventMutationObserverRemoved\n  | NotifyEventMutationObserverOptionsUpdated\n  | NotifyEventMutationUpdated\n\ntype MutationCacheListener = (event: MutationCacheNotifyEvent) => void\n\n// CLASS\n\nexport class MutationCache extends Subscribable<MutationCacheListener> {\n  #mutations: Set<Mutation<any, any, any, any>>\n  #scopes: Map<string, Array<Mutation<any, any, any, any>>>\n  #mutationId: number\n\n  constructor(public config: MutationCacheConfig = {}) {\n    super()\n    this.#mutations = new Set()\n    this.#scopes = new Map()\n    this.#mutationId = 0\n  }\n\n  build<TData, TError, TVariables, TContext>(\n    client: QueryClient,\n    options: MutationOptions<TData, TError, TVariables, TContext>,\n    state?: MutationState<TData, TError, TVariables, TContext>,\n  ): Mutation<TData, TError, TVariables, TContext> {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state,\n    })\n\n    this.add(mutation)\n\n    return mutation\n  }\n\n  add(mutation: Mutation<any, any, any, any>): void {\n    this.#mutations.add(mutation)\n    const scope = scopeFor(mutation)\n    if (typeof scope === 'string') {\n      const scopedMutations = this.#scopes.get(scope)\n      if (scopedMutations) {\n        scopedMutations.push(mutation)\n      } else {\n        this.#scopes.set(scope, [mutation])\n      }\n    }\n    this.notify({ type: 'added', mutation })\n  }\n\n  remove(mutation: Mutation<any, any, any, any>): void {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation)\n      if (typeof scope === 'string') {\n        const scopedMutations = this.#scopes.get(scope)\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation)\n            if (index !== -1) {\n              scopedMutations.splice(index, 1)\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope)\n          }\n        }\n      }\n    }\n\n    // Currently we notify the removal even if the mutation was already removed.\n    // Consider making this an error or not notifying of the removal depending on the desired semantics.\n    this.notify({ type: 'removed', mutation })\n  }\n\n  canRun(mutation: Mutation<any, any, any, any>): boolean {\n    const scope = scopeFor(mutation)\n    if (typeof scope === 'string') {\n      const mutationsWithSameScope = this.#scopes.get(scope)\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === 'pending',\n      )\n      // we can run if there is no current pending mutation (start use-case)\n      // or if WE are the first pending mutation (continue use-case)\n      return !firstPendingMutation || firstPendingMutation === mutation\n    } else {\n      // For unscoped mutations there are never any pending mutations in front of the\n      // current mutation\n      return true\n    }\n  }\n\n  runNext(mutation: Mutation<any, any, any, any>): Promise<unknown> {\n    const scope = scopeFor(mutation)\n    if (typeof scope === 'string') {\n      const foundMutation = this.#scopes\n        .get(scope)\n        ?.find((m) => m !== mutation && m.state.isPaused)\n\n      return foundMutation?.continue() ?? Promise.resolve()\n    } else {\n      return Promise.resolve()\n    }\n  }\n\n  clear(): void {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: 'removed', mutation })\n      })\n      this.#mutations.clear()\n      this.#scopes.clear()\n    })\n  }\n\n  getAll(): Array<Mutation> {\n    return Array.from(this.#mutations)\n  }\n\n  find<\n    TData = unknown,\n    TError = DefaultError,\n    TVariables = any,\n    TContext = unknown,\n  >(\n    filters: MutationFilters,\n  ): Mutation<TData, TError, TVariables, TContext> | undefined {\n    const defaultedFilters = { exact: true, ...filters }\n\n    return this.getAll().find((mutation) =>\n      matchMutation(defaultedFilters, mutation),\n    ) as Mutation<TData, TError, TVariables, TContext> | undefined\n  }\n\n  findAll(filters: MutationFilters = {}): Array<Mutation> {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation))\n  }\n\n  notify(event: MutationCacheNotifyEvent) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event)\n      })\n    })\n  }\n\n  resumePausedMutations(): Promise<unknown> {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused)\n\n    return notifyManager.batch(() =>\n      Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop)),\n      ),\n    )\n  }\n}\n\nfunction scopeFor(mutation: Mutation<any, any, any, any>) {\n  return mutation.options.scope?.id\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2050, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2056, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/infiniteQueryBehavior.ts"],"sourcesContent":["import { addToEnd, addToStart, ensureQueryFn } from './utils'\nimport type { QueryBehavior } from './query'\nimport type {\n  InfiniteData,\n  InfiniteQueryPageParamsOptions,\n  OmitKeyof,\n  QueryFunctionContext,\n  QueryKey,\n} from './types'\n\nexport function infiniteQueryBehavior<TQueryFnData, TError, TData, TPageParam>(\n  pages?: number,\n): QueryBehavior<TQueryFnData, TError, InfiniteData<TData, TPageParam>> {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options as InfiniteQueryPageParamsOptions<TData>\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction\n      const oldPages = context.state.data?.pages || []\n      const oldPageParams = context.state.data?.pageParams || []\n      let result: InfiniteData<unknown> = { pages: [], pageParams: [] }\n      let currentPage = 0\n\n      const fetchFn = async () => {\n        let cancelled = false\n        const addSignalProperty = (object: unknown) => {\n          Object.defineProperty(object, 'signal', {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true\n              } else {\n                context.signal.addEventListener('abort', () => {\n                  cancelled = true\n                })\n              }\n              return context.signal\n            },\n          })\n        }\n\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions)\n\n        // Create function to fetch a page\n        const fetchPage = async (\n          data: InfiniteData<unknown>,\n          param: unknown,\n          previous?: boolean,\n        ): Promise<InfiniteData<unknown>> => {\n          if (cancelled) {\n            return Promise.reject()\n          }\n\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data)\n          }\n\n          const queryFnContext: OmitKeyof<\n            QueryFunctionContext<QueryKey, unknown>,\n            'signal'\n          > = {\n            client: context.client,\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? 'backward' : 'forward',\n            meta: context.options.meta,\n          }\n\n          addSignalProperty(queryFnContext)\n\n          const page = await queryFn(\n            queryFnContext as QueryFunctionContext<QueryKey, unknown>,\n          )\n\n          const { maxPages } = context.options\n          const addTo = previous ? addToStart : addToEnd\n\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages),\n          }\n        }\n\n        // fetch next / previous page?\n        if (direction && oldPages.length) {\n          const previous = direction === 'backward'\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams,\n          }\n          const param = pageParamFn(options, oldData)\n\n          result = await fetchPage(oldData, param, previous)\n        } else {\n          const remainingPages = pages ?? oldPages.length\n\n          // Fetch all pages\n          do {\n            const param =\n              currentPage === 0\n                ? (oldPageParams[0] ?? options.initialPageParam)\n                : getNextPageParam(options, result)\n            if (currentPage > 0 && param == null) {\n              break\n            }\n            result = await fetchPage(result, param)\n            currentPage++\n          } while (currentPage < remainingPages)\n        }\n\n        return result\n      }\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn as any,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal,\n            },\n            query,\n          )\n        }\n      } else {\n        context.fetchFn = fetchFn\n      }\n    },\n  }\n}\n\nfunction getNextPageParam(\n  options: InfiniteQueryPageParamsOptions<any>,\n  { pages, pageParams }: InfiniteData<unknown>,\n): unknown | undefined {\n  const lastIndex = pages.length - 1\n  return pages.length > 0\n    ? options.getNextPageParam(\n        pages[lastIndex],\n        pages,\n        pageParams[lastIndex],\n        pageParams,\n      )\n    : undefined\n}\n\nfunction getPreviousPageParam(\n  options: InfiniteQueryPageParamsOptions<any>,\n  { pages, pageParams }: InfiniteData<unknown>,\n): unknown | undefined {\n  return pages.length > 0\n    ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams)\n    : undefined\n}\n\n/**\n * Checks if there is a next page.\n */\nexport function hasNextPage(\n  options: InfiniteQueryPageParamsOptions<any, any>,\n  data?: InfiniteData<unknown>,\n): boolean {\n  if (!data) return false\n  return getNextPageParam(options, data) != null\n}\n\n/**\n * Checks if there is a previous page.\n */\nexport function hasPreviousPage(\n  options: InfiniteQueryPageParamsOptions<any, any>,\n  data?: InfiniteData<unknown>,\n): boolean {\n  if (!data || !options.getPreviousPageParam) return false\n  return getPreviousPageParam(options, data) != null\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2171, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2177, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/query-core/src/queryClient.ts"],"sourcesContent":["import {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken,\n} from './utils'\nimport { QueryCache } from './queryCache'\nimport { MutationCache } from './mutationCache'\nimport { focusManager } from './focusManager'\nimport { onlineManager } from './onlineManager'\nimport { notifyManager } from './notifyManager'\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior'\nimport type {\n  CancelOptions,\n  DefaultError,\n  DefaultOptions,\n  DefaultedQueryObserverOptions,\n  EnsureInfiniteQueryDataOptions,\n  EnsureQueryDataOptions,\n  FetchInfiniteQueryOptions,\n  FetchQueryOptions,\n  InferDataFromTag,\n  InferErrorFromTag,\n  InfiniteData,\n  InvalidateOptions,\n  InvalidateQueryFilters,\n  MutationKey,\n  MutationObserverOptions,\n  MutationOptions,\n  NoInfer,\n  OmitKeyof,\n  QueryClientConfig,\n  QueryKey,\n  QueryObserverOptions,\n  QueryOptions,\n  RefetchOptions,\n  RefetchQueryFilters,\n  ResetOptions,\n  SetDataOptions,\n} from './types'\nimport type { QueryState } from './query'\nimport type { MutationFilters, QueryFilters, Updater } from './utils'\n\n// TYPES\n\ninterface QueryDefaults {\n  queryKey: QueryKey\n  defaultOptions: OmitKeyof<QueryOptions<any, any, any>, 'queryKey'>\n}\n\ninterface MutationDefaults {\n  mutationKey: MutationKey\n  defaultOptions: MutationOptions<any, any, any, any>\n}\n\n// CLASS\n\nexport class QueryClient {\n  #queryCache: QueryCache\n  #mutationCache: MutationCache\n  #defaultOptions: DefaultOptions\n  #queryDefaults: Map<string, QueryDefaults>\n  #mutationDefaults: Map<string, MutationDefaults>\n  #mountCount: number\n  #unsubscribeFocus?: () => void\n  #unsubscribeOnline?: () => void\n\n  constructor(config: QueryClientConfig = {}) {\n    this.#queryCache = config.queryCache || new QueryCache()\n    this.#mutationCache = config.mutationCache || new MutationCache()\n    this.#defaultOptions = config.defaultOptions || {}\n    this.#queryDefaults = new Map()\n    this.#mutationDefaults = new Map()\n    this.#mountCount = 0\n  }\n\n  mount(): void {\n    this.#mountCount++\n    if (this.#mountCount !== 1) return\n\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations()\n        this.#queryCache.onFocus()\n      }\n    })\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations()\n        this.#queryCache.onOnline()\n      }\n    })\n  }\n\n  unmount(): void {\n    this.#mountCount--\n    if (this.#mountCount !== 0) return\n\n    this.#unsubscribeFocus?.()\n    this.#unsubscribeFocus = undefined\n\n    this.#unsubscribeOnline?.()\n    this.#unsubscribeOnline = undefined\n  }\n\n  isFetching<\n    TQueryFilters extends QueryFilters<any, any, any, any> = QueryFilters,\n  >(filters?: TQueryFilters): number {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: 'fetching' })\n      .length\n  }\n\n  isMutating<\n    TMutationFilters extends MutationFilters<any, any> = MutationFilters,\n  >(filters?: TMutationFilters): number {\n    return this.#mutationCache.findAll({ ...filters, status: 'pending' }).length\n  }\n\n  getQueryData<\n    TQueryFnData = unknown,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n  >(queryKey: TTaggedQueryKey): TInferredQueryFnData | undefined {\n    const options = this.defaultQueryOptions({ queryKey })\n\n    return this.#queryCache.get(options.queryHash)?.state.data as\n      | TInferredQueryFnData\n      | undefined\n  }\n\n  ensureQueryData<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: EnsureQueryDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData> {\n    const defaultedOptions = this.defaultQueryOptions(options)\n    const query = this.#queryCache.build(this, defaultedOptions)\n    const cachedData = query.state.data\n\n    if (cachedData === undefined) {\n      return this.fetchQuery(options)\n    }\n\n    if (\n      options.revalidateIfStale &&\n      query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))\n    ) {\n      void this.prefetchQuery(defaultedOptions)\n    }\n\n    return Promise.resolve(cachedData)\n  }\n\n  getQueriesData<\n    TQueryFnData = unknown,\n    TQueryFilters extends QueryFilters<\n      any,\n      any,\n      any,\n      any\n    > = QueryFilters<TQueryFnData>,\n    TInferredQueryFnData = TQueryFilters extends QueryFilters<\n      infer TData,\n      any,\n      any,\n      any\n    >\n      ? TData\n      : TQueryFnData,\n  >(\n    filters: TQueryFilters,\n  ): Array<[QueryKey, TInferredQueryFnData | undefined]> {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data as TInferredQueryFnData | undefined\n      return [queryKey, data]\n    })\n  }\n\n  setQueryData<\n    TQueryFnData = unknown,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n  >(\n    queryKey: TTaggedQueryKey,\n    updater: Updater<\n      NoInfer<TInferredQueryFnData> | undefined,\n      NoInfer<TInferredQueryFnData> | undefined\n    >,\n    options?: SetDataOptions,\n  ): TInferredQueryFnData | undefined {\n    const defaultedOptions = this.defaultQueryOptions<\n      any,\n      any,\n      unknown,\n      any,\n      QueryKey\n    >({ queryKey })\n\n    const query = this.#queryCache.get<TInferredQueryFnData>(\n      defaultedOptions.queryHash,\n    )\n    const prevData = query?.state.data\n    const data = functionalUpdate(updater, prevData)\n\n    if (data === undefined) {\n      return undefined\n    }\n\n    return this.#queryCache\n      .build(this, defaultedOptions)\n      .setData(data, { ...options, manual: true })\n  }\n\n  setQueriesData<\n    TQueryFnData,\n    TQueryFilters extends QueryFilters<\n      any,\n      any,\n      any,\n      any\n    > = QueryFilters<TQueryFnData>,\n    TInferredQueryFnData = TQueryFilters extends QueryFilters<\n      infer TData,\n      any,\n      any,\n      any\n    >\n      ? TData\n      : TQueryFnData,\n  >(\n    filters: TQueryFilters,\n    updater: Updater<\n      NoInfer<TInferredQueryFnData> | undefined,\n      NoInfer<TInferredQueryFnData> | undefined\n    >,\n    options?: SetDataOptions,\n  ): Array<[QueryKey, TInferredQueryFnData | undefined]> {\n    return notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .map(({ queryKey }) => [\n          queryKey,\n          this.setQueryData<TInferredQueryFnData>(queryKey, updater, options),\n        ]),\n    )\n  }\n\n  getQueryState<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n    TInferredError = InferErrorFromTag<TError, TTaggedQueryKey>,\n  >(\n    queryKey: TTaggedQueryKey,\n  ): QueryState<TInferredQueryFnData, TInferredError> | undefined {\n    const options = this.defaultQueryOptions({ queryKey })\n    return this.#queryCache.get<TInferredQueryFnData, TInferredError>(\n      options.queryHash,\n    )?.state\n  }\n\n  removeQueries<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n    TInferredError = InferErrorFromTag<TError, TTaggedQueryKey>,\n  >(\n    filters?: QueryFilters<\n      TInferredQueryFnData,\n      TInferredError,\n      TInferredQueryFnData,\n      TTaggedQueryKey\n    >,\n  ): void {\n    const queryCache = this.#queryCache\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query)\n      })\n    })\n  }\n\n  resetQueries<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n    TInferredError = InferErrorFromTag<TError, TTaggedQueryKey>,\n  >(\n    filters?: QueryFilters<\n      TInferredQueryFnData,\n      TInferredError,\n      TInferredQueryFnData,\n      TTaggedQueryKey\n    >,\n    options?: ResetOptions,\n  ): Promise<void> {\n    const queryCache = this.#queryCache\n\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset()\n      })\n      return this.refetchQueries(\n        {\n          type: 'active',\n          ...filters,\n        },\n        options,\n      )\n    })\n  }\n\n  cancelQueries<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n    TInferredError = InferErrorFromTag<TError, TTaggedQueryKey>,\n  >(\n    filters?: QueryFilters<\n      TInferredQueryFnData,\n      TInferredError,\n      TInferredQueryFnData,\n      TTaggedQueryKey\n    >,\n    cancelOptions: CancelOptions = {},\n  ): Promise<void> {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions }\n\n    const promises = notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .map((query) => query.cancel(defaultedCancelOptions)),\n    )\n\n    return Promise.all(promises).then(noop).catch(noop)\n  }\n\n  invalidateQueries<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n    TInferredError = InferErrorFromTag<TError, TTaggedQueryKey>,\n  >(\n    filters?: InvalidateQueryFilters<\n      TInferredQueryFnData,\n      TInferredError,\n      TInferredQueryFnData,\n      TTaggedQueryKey\n    >,\n    options: InvalidateOptions = {},\n  ): Promise<void> {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate()\n      })\n\n      if (filters?.refetchType === 'none') {\n        return Promise.resolve()\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? 'active',\n        },\n        options,\n      )\n    })\n  }\n\n  refetchQueries<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TTaggedQueryKey extends QueryKey = QueryKey,\n    TInferredQueryFnData = InferDataFromTag<TQueryFnData, TTaggedQueryKey>,\n    TInferredError = InferErrorFromTag<TError, TTaggedQueryKey>,\n  >(\n    filters?: RefetchQueryFilters<\n      TInferredQueryFnData,\n      TInferredError,\n      TInferredQueryFnData,\n      TTaggedQueryKey\n    >,\n    options: RefetchOptions = {},\n  ): Promise<void> {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true,\n    }\n    const promises = notifyManager.batch(() =>\n      this.#queryCache\n        .findAll(filters)\n        .filter((query) => !query.isDisabled())\n        .map((query) => {\n          let promise = query.fetch(undefined, fetchOptions)\n          if (!fetchOptions.throwOnError) {\n            promise = promise.catch(noop)\n          }\n          return query.state.fetchStatus === 'paused'\n            ? Promise.resolve()\n            : promise\n        }),\n    )\n\n    return Promise.all(promises).then(noop)\n  }\n\n  fetchQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = never,\n  >(\n    options: FetchQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<TData> {\n    const defaultedOptions = this.defaultQueryOptions(options)\n\n    // https://github.com/tannerlinsley/react-query/issues/652\n    if (defaultedOptions.retry === undefined) {\n      defaultedOptions.retry = false\n    }\n\n    const query = this.#queryCache.build(this, defaultedOptions)\n\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query),\n    )\n      ? query.fetch(defaultedOptions)\n      : Promise.resolve(query.state.data as TData)\n  }\n\n  prefetchQuery<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void> {\n    return this.fetchQuery(options).then(noop).catch(noop)\n  }\n\n  fetchInfiniteQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: FetchInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<InfiniteData<TData, TPageParam>> {\n    options.behavior = infiniteQueryBehavior<\n      TQueryFnData,\n      TError,\n      TData,\n      TPageParam\n    >(options.pages)\n    return this.fetchQuery(options as any)\n  }\n\n  prefetchInfiniteQuery<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: FetchInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<void> {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop)\n  }\n\n  ensureInfiniteQueryData<\n    TQueryFnData,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = unknown,\n  >(\n    options: EnsureInfiniteQueryDataOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryKey,\n      TPageParam\n    >,\n  ): Promise<InfiniteData<TData, TPageParam>> {\n    options.behavior = infiniteQueryBehavior<\n      TQueryFnData,\n      TError,\n      TData,\n      TPageParam\n    >(options.pages)\n\n    return this.ensureQueryData(options as any)\n  }\n\n  resumePausedMutations(): Promise<unknown> {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations()\n    }\n    return Promise.resolve()\n  }\n\n  getQueryCache(): QueryCache {\n    return this.#queryCache\n  }\n\n  getMutationCache(): MutationCache {\n    return this.#mutationCache\n  }\n\n  getDefaultOptions(): DefaultOptions {\n    return this.#defaultOptions\n  }\n\n  setDefaultOptions(options: DefaultOptions): void {\n    this.#defaultOptions = options\n  }\n\n  setQueryDefaults<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryData = TQueryFnData,\n  >(\n    queryKey: QueryKey,\n    options: Partial<\n      OmitKeyof<\n        QueryObserverOptions<TQueryFnData, TError, TData, TQueryData>,\n        'queryKey'\n      >\n    >,\n  ): void {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options,\n    })\n  }\n\n  getQueryDefaults(\n    queryKey: QueryKey,\n  ): OmitKeyof<QueryObserverOptions<any, any, any, any, any>, 'queryKey'> {\n    const defaults = [...this.#queryDefaults.values()]\n\n    const result: OmitKeyof<\n      QueryObserverOptions<any, any, any, any, any>,\n      'queryKey'\n    > = {}\n\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions)\n      }\n    })\n    return result\n  }\n\n  setMutationDefaults<\n    TData = unknown,\n    TError = DefaultError,\n    TVariables = void,\n    TContext = unknown,\n  >(\n    mutationKey: MutationKey,\n    options: OmitKeyof<\n      MutationObserverOptions<TData, TError, TVariables, TContext>,\n      'mutationKey'\n    >,\n  ): void {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options,\n    })\n  }\n\n  getMutationDefaults(\n    mutationKey: MutationKey,\n  ): OmitKeyof<MutationObserverOptions<any, any, any, any>, 'mutationKey'> {\n    const defaults = [...this.#mutationDefaults.values()]\n\n    const result: OmitKeyof<\n      MutationObserverOptions<any, any, any, any>,\n      'mutationKey'\n    > = {}\n\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions)\n      }\n    })\n\n    return result\n  }\n\n  defaultQueryOptions<\n    TQueryFnData = unknown,\n    TError = DefaultError,\n    TData = TQueryFnData,\n    TQueryData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n    TPageParam = never,\n  >(\n    options:\n      | QueryObserverOptions<\n          TQueryFnData,\n          TError,\n          TData,\n          TQueryData,\n          TQueryKey,\n          TPageParam\n        >\n      | DefaultedQueryObserverOptions<\n          TQueryFnData,\n          TError,\n          TData,\n          TQueryData,\n          TQueryKey\n        >,\n  ): DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  > {\n    if (options._defaulted) {\n      return options as DefaultedQueryObserverOptions<\n        TQueryFnData,\n        TError,\n        TData,\n        TQueryData,\n        TQueryKey\n      >\n    }\n\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true,\n    }\n\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions,\n      )\n    }\n\n    // dependent default values\n    if (defaultedOptions.refetchOnReconnect === undefined) {\n      defaultedOptions.refetchOnReconnect =\n        defaultedOptions.networkMode !== 'always'\n    }\n    if (defaultedOptions.throwOnError === undefined) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense\n    }\n\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = 'offlineFirst'\n    }\n\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false\n    }\n\n    return defaultedOptions as DefaultedQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >\n  }\n\n  defaultMutationOptions<T extends MutationOptions<any, any, any, any>>(\n    options?: T,\n  ): T {\n    if (options?._defaulted) {\n      return options\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...(options?.mutationKey &&\n        this.getMutationDefaults(options.mutationKey)),\n      ...options,\n      _defaulted: true,\n    } as T\n  }\n\n  clear(): void {\n    this.#queryCache.clear()\n    this.#mutationCache.clear()\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2479, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2485, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/react-query/build/modern/HydrationBoundary.js/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const HydrationBoundary = registerClientReference(\n    function() { throw new Error(\"Attempted to call HydrationBoundary() from the server but HydrationBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@tanstack/react-query/build/modern/HydrationBoundary.js <module evaluation>\",\n    \"HydrationBoundary\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,sGACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2493, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2499, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/react-query/build/modern/HydrationBoundary.js/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const HydrationBoundary = registerClientReference(\n    function() { throw new Error(\"Attempted to call HydrationBoundary() from the server but HydrationBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/@tanstack/react-query/build/modern/HydrationBoundary.js\",\n    \"HydrationBoundary\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,kFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2507, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2513, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/react-query/src/HydrationBoundary.tsx"],"sourcesContent":["/* eslint-disable react-compiler/react-compiler */\n\n'use client'\nimport * as React from 'react'\n\nimport { hydrate } from '@tanstack/query-core'\nimport { useQueryClient } from './QueryClientProvider'\nimport type {\n  DehydratedState,\n  HydrateOptions,\n  OmitKeyof,\n  QueryClient,\n} from '@tanstack/query-core'\n\nexport interface HydrationBoundaryProps {\n  state?: unknown\n  options?: OmitKeyof<HydrateOptions, 'defaultOptions'> & {\n    defaultOptions?: OmitKeyof<\n      Exclude<HydrateOptions['defaultOptions'], undefined>,\n      'mutations'\n    >\n  }\n  children?: React.ReactNode\n  queryClient?: QueryClient\n}\n\nconst hasProperty = <TKey extends string>(\n  obj: unknown,\n  key: TKey,\n): obj is { [k in TKey]: unknown } => {\n  return typeof obj === 'object' && obj !== null && key in obj\n}\n\nexport const HydrationBoundary = ({\n  children,\n  options = {},\n  state,\n  queryClient,\n}: HydrationBoundaryProps) => {\n  const client = useQueryClient(queryClient)\n  const [hydrationQueue, setHydrationQueue] = React.useState<\n    DehydratedState['queries'] | undefined\n  >()\n\n  const optionsRef = React.useRef(options)\n  optionsRef.current = options\n\n  // This useMemo is for performance reasons only, everything inside it _must_\n  // be safe to run in every render and code here should be read as \"in render\".\n  //\n  // This code needs to happen during the render phase, because after initial\n  // SSR, hydration needs to happen _before_ children render. Also, if hydrating\n  // during a transition, we want to hydrate as much as is safe in render so\n  // we can prerender as much as possible.\n  //\n  // For any queries that already exist in the cache, we want to hold back on\n  // hydrating until _after_ the render phase. The reason for this is that during\n  // transitions, we don't want the existing queries and observers to update to\n  // the new data on the current page, only _after_ the transition is committed.\n  // If the transition is aborted, we will have hydrated any _new_ queries, but\n  // we throw away the fresh data for any existing ones to avoid unexpectedly\n  // updating the UI.\n  React.useMemo(() => {\n    if (state) {\n      if (typeof state !== 'object') {\n        return\n      }\n\n      const queryCache = client.getQueryCache()\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      const queries = (state as DehydratedState).queries || []\n\n      const newQueries: DehydratedState['queries'] = []\n      const existingQueries: DehydratedState['queries'] = []\n      for (const dehydratedQuery of queries) {\n        const existingQuery = queryCache.get(dehydratedQuery.queryHash)\n\n        if (!existingQuery) {\n          newQueries.push(dehydratedQuery)\n        } else {\n          const hydrationIsNewer =\n            dehydratedQuery.state.dataUpdatedAt >\n              existingQuery.state.dataUpdatedAt || // RSC special serialized then-able chunks\n            (hasProperty(dehydratedQuery.promise, 'status') &&\n              hasProperty(existingQuery.promise, 'status') &&\n              dehydratedQuery.promise.status !== existingQuery.promise.status)\n\n          const queryAlreadyQueued = hydrationQueue?.find(\n            (query) => query.queryHash === dehydratedQuery.queryHash,\n          )\n\n          if (\n            hydrationIsNewer &&\n            (!queryAlreadyQueued ||\n              dehydratedQuery.state.dataUpdatedAt >\n                queryAlreadyQueued.state.dataUpdatedAt)\n          ) {\n            existingQueries.push(dehydratedQuery)\n          }\n        }\n      }\n\n      if (newQueries.length > 0) {\n        // It's actually fine to call this with queries/state that already exists\n        // in the cache, or is older. hydrate() is idempotent for queries.\n        hydrate(client, { queries: newQueries }, optionsRef.current)\n      }\n      if (existingQueries.length > 0) {\n        setHydrationQueue((prev) =>\n          prev ? [...prev, ...existingQueries] : existingQueries,\n        )\n      }\n    }\n  }, [client, hydrationQueue, state])\n\n  React.useEffect(() => {\n    if (hydrationQueue) {\n      hydrate(client, { queries: hydrationQueue }, optionsRef.current)\n      setHydrationQueue(undefined)\n    }\n  }, [client, hydrationQueue])\n\n  return children as React.ReactElement\n}\n"],"names":[],"mappings":"","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2517, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2523, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/react-query/src/infiniteQueryOptions.ts"],"sourcesContent":["import type {\n  DataTag,\n  DefaultError,\n  InfiniteData,\n  InitialDataFunction,\n  OmitKeyof,\n  QueryKey,\n  SkipToken,\n} from '@tanstack/query-core'\nimport type { UseInfiniteQueryOptions } from './types'\n\nexport type UndefinedInitialDataInfiniteOptions<\n  TQueryFnData,\n  TError = DefaultError,\n  TData = InfiniteData<TQueryFnData>,\n  TQueryKey extends QueryKey = QueryKey,\n  TPageParam = unknown,\n> = UseInfiniteQueryOptions<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryFnData,\n  TQueryKey,\n  TPageParam\n> & {\n  initialData?:\n    | undefined\n    | NonUndefinedGuard<InfiniteData<TQueryFnData, TPageParam>>\n    | InitialDataFunction<\n        NonUndefinedGuard<InfiniteData<TQueryFnData, TPageParam>>\n      >\n}\n\nexport type UnusedSkipTokenInfiniteOptions<\n  TQueryFnData,\n  TError = DefaultError,\n  TData = InfiniteData<TQueryFnData>,\n  TQueryKey extends QueryKey = QueryKey,\n  TPageParam = unknown,\n> = OmitKeyof<\n  UseInfiniteQueryOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryFnData,\n    TQueryKey,\n    TPageParam\n  >,\n  'queryFn'\n> & {\n  queryFn?: Exclude<\n    UseInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryFnData,\n      TQueryKey,\n      TPageParam\n    >['queryFn'],\n    SkipToken | undefined\n  >\n}\n\ntype NonUndefinedGuard<T> = T extends undefined ? never : T\n\nexport type DefinedInitialDataInfiniteOptions<\n  TQueryFnData,\n  TError = DefaultError,\n  TData = InfiniteData<TQueryFnData>,\n  TQueryKey extends QueryKey = QueryKey,\n  TPageParam = unknown,\n> = UseInfiniteQueryOptions<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryFnData,\n  TQueryKey,\n  TPageParam\n> & {\n  initialData:\n    | NonUndefinedGuard<InfiniteData<TQueryFnData, TPageParam>>\n    | (() => NonUndefinedGuard<InfiniteData<TQueryFnData, TPageParam>>)\n    | undefined\n}\n\nexport function infiniteQueryOptions<\n  TQueryFnData,\n  TError = DefaultError,\n  TData = InfiniteData<TQueryFnData>,\n  TQueryKey extends QueryKey = QueryKey,\n  TPageParam = unknown,\n>(\n  options: DefinedInitialDataInfiniteOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryKey,\n    TPageParam\n  >,\n): DefinedInitialDataInfiniteOptions<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey,\n  TPageParam\n> & {\n  queryKey: DataTag<TQueryKey, InfiniteData<TQueryFnData>, TError>\n}\n\nexport function infiniteQueryOptions<\n  TQueryFnData,\n  TError = DefaultError,\n  TData = InfiniteData<TQueryFnData>,\n  TQueryKey extends QueryKey = QueryKey,\n  TPageParam = unknown,\n>(\n  options: UnusedSkipTokenInfiniteOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryKey,\n    TPageParam\n  >,\n): UnusedSkipTokenInfiniteOptions<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey,\n  TPageParam\n> & {\n  queryKey: DataTag<TQueryKey, InfiniteData<TQueryFnData>, TError>\n}\n\nexport function infiniteQueryOptions<\n  TQueryFnData,\n  TError = DefaultError,\n  TData = InfiniteData<TQueryFnData>,\n  TQueryKey extends QueryKey = QueryKey,\n  TPageParam = unknown,\n>(\n  options: UndefinedInitialDataInfiniteOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryKey,\n    TPageParam\n  >,\n): UndefinedInitialDataInfiniteOptions<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey,\n  TPageParam\n> & {\n  queryKey: DataTag<TQueryKey, InfiniteData<TQueryFnData>, TError>\n}\n\nexport function infiniteQueryOptions(options: unknown) {\n  return options\n}\n"],"names":[],"mappings":";;;;AA6JO,SAAS,qBAAqB,OAAA,EAAkB;IACrD,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2532, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2538, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40tanstack/react-query/src/queryOptions.ts"],"sourcesContent":["import type {\n  DataTag,\n  DefaultError,\n  InitialDataFunction,\n  OmitKeyof,\n  QueryFunction,\n  QueryKey,\n  SkipToken,\n} from '@tanstack/query-core'\nimport type { UseQueryOptions } from './types'\n\nexport type UndefinedInitialDataOptions<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> = UseQueryOptions<TQueryFnData, TError, TData, TQueryKey> & {\n  initialData?:\n    | undefined\n    | InitialDataFunction<NonUndefinedGuard<TQueryFnData>>\n    | NonUndefinedGuard<TQueryFnData>\n}\n\nexport type UnusedSkipTokenOptions<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> = OmitKeyof<\n  UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  'queryFn'\n> & {\n  queryFn?: Exclude<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>['queryFn'],\n    SkipToken | undefined\n  >\n}\n\ntype NonUndefinedGuard<T> = T extends undefined ? never : T\n\nexport type DefinedInitialDataOptions<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> = Omit<UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>, 'queryFn'> & {\n  initialData:\n    | NonUndefinedGuard<TQueryFnData>\n    | (() => NonUndefinedGuard<TQueryFnData>)\n  queryFn?: QueryFunction<TQueryFnData, TQueryKey>\n}\n\nexport function queryOptions<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: DefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n): DefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey> & {\n  queryKey: DataTag<TQueryKey, TQueryFnData, TError>\n}\n\nexport function queryOptions<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UnusedSkipTokenOptions<TQueryFnData, TError, TData, TQueryKey>,\n): UnusedSkipTokenOptions<TQueryFnData, TError, TData, TQueryKey> & {\n  queryKey: DataTag<TQueryKey, TQueryFnData, TError>\n}\n\nexport function queryOptions<\n  TQueryFnData = unknown,\n  TError = DefaultError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UndefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey>,\n): UndefinedInitialDataOptions<TQueryFnData, TError, TData, TQueryKey> & {\n  queryKey: DataTag<TQueryKey, TQueryFnData, TError>\n}\n\nexport function queryOptions(options: unknown) {\n  return options\n}\n"],"names":[],"mappings":";;;;AAqFO,SAAS,aAAa,OAAA,EAAkB;IAC7C,OAAO;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2547, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2553, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40trpc/tanstack-react-query/dist/internals/utils.mjs"],"sourcesContent":["import { skipToken } from '@tanstack/react-query';\nimport { isObject, isFunction } from '@trpc/server/unstable-core-do-not-import';\n\n/**\n * @internal\n */ function createTRPCOptionsResult(value) {\n    const path = value.path.join('.');\n    return {\n        path\n    };\n}\n/**\n * @internal\n */ function getClientArgs(queryKey, opts, infiniteParams) {\n    const path = queryKey[0];\n    let input = queryKey[1]?.input;\n    if (infiniteParams) {\n        input = {\n            ...input ?? {},\n            ...infiniteParams.pageParam ? {\n                cursor: infiniteParams.pageParam\n            } : {},\n            direction: infiniteParams.direction\n        };\n    }\n    return [\n        path.join('.'),\n        input,\n        opts?.trpc\n    ];\n}\n/**\n * @internal\n */ async function buildQueryFromAsyncIterable(asyncIterable, queryClient, queryKey) {\n    const queryCache = queryClient.getQueryCache();\n    const query = queryCache.build(queryClient, {\n        queryKey\n    });\n    query.setState({\n        data: [],\n        status: 'success'\n    });\n    const aggregate = [];\n    for await (const value of asyncIterable){\n        aggregate.push(value);\n        query.setState({\n            data: [\n                ...aggregate\n            ]\n        });\n    }\n    return aggregate;\n}\n/**\n * To allow easy interactions with groups of related queries, such as\n * invalidating all queries of a router, we use an array as the path when\n * storing in tanstack query.\n *\n * @internal\n */ function getQueryKeyInternal(path, input, type) {\n    // Construct a query key that is easy to destructure and flexible for\n    // partial selecting etc.\n    // https://github.com/trpc/trpc/issues/3128\n    // some parts of the path may be dot-separated, split them up\n    const splitPath = path.flatMap((part)=>part.split('.'));\n    if (!input && (!type || type === 'any')) {\n        // this matches also all mutations (see `getMutationKeyInternal`)\n        // for `utils.invalidate()` to match all queries (including vanilla react-query)\n        // we don't want nested array if path is empty, i.e. `[]` instead of `[[]]`\n        return splitPath.length ? [\n            splitPath\n        ] : [];\n    }\n    if (type === 'infinite' && isObject(input) && ('direction' in input || 'cursor' in input)) {\n        const { cursor: _, direction: __, ...inputWithoutCursorAndDirection } = input;\n        return [\n            splitPath,\n            {\n                input: inputWithoutCursorAndDirection,\n                type: 'infinite'\n            }\n        ];\n    }\n    return [\n        splitPath,\n        {\n            ...typeof input !== 'undefined' && input !== skipToken && {\n                input: input\n            },\n            ...type && type !== 'any' && {\n                type: type\n            }\n        }\n    ];\n}\n/**\n * @internal\n */ function getMutationKeyInternal(path) {\n    // some parts of the path may be dot-separated, split them up\n    const splitPath = path.flatMap((part)=>part.split('.'));\n    return splitPath.length ? [\n        splitPath\n    ] : [];\n}\n/**\n * @internal\n */ function unwrapLazyArg(valueOrLazy) {\n    return isFunction(valueOrLazy) ? valueOrLazy() : valueOrLazy;\n}\n\nexport { buildQueryFromAsyncIterable, createTRPCOptionsResult, getClientArgs, getMutationKeyInternal, getQueryKeyInternal, unwrapLazyArg };\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AAAA;;;AAEA;;CAEC,GAAG,SAAS,wBAAwB,KAAK;IACtC,MAAM,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC;IAC7B,OAAO;QACH;IACJ;AACJ;AACA;;CAEC,GAAG,SAAS,cAAc,QAAQ,EAAE,IAAI,EAAE,cAAc;IACrD,MAAM,OAAO,QAAQ,CAAC,EAAE;IACxB,IAAI,QAAQ,QAAQ,CAAC,EAAE,EAAE;IACzB,IAAI,gBAAgB;QAChB,QAAQ;YACJ,GAAG,SAAS,CAAC,CAAC;YACd,GAAG,eAAe,SAAS,GAAG;gBAC1B,QAAQ,eAAe,SAAS;YACpC,IAAI,CAAC,CAAC;YACN,WAAW,eAAe,SAAS;QACvC;IACJ;IACA,OAAO;QACH,KAAK,IAAI,CAAC;QACV;QACA,MAAM;KACT;AACL;AACA;;CAEC,GAAG,eAAe,4BAA4B,aAAa,EAAE,WAAW,EAAE,QAAQ;IAC/E,MAAM,aAAa,YAAY,aAAa;IAC5C,MAAM,QAAQ,WAAW,KAAK,CAAC,aAAa;QACxC;IACJ;IACA,MAAM,QAAQ,CAAC;QACX,MAAM,EAAE;QACR,QAAQ;IACZ;IACA,MAAM,YAAY,EAAE;IACpB,WAAW,MAAM,SAAS,cAAc;QACpC,UAAU,IAAI,CAAC;QACf,MAAM,QAAQ,CAAC;YACX,MAAM;mBACC;aACN;QACL;IACJ;IACA,OAAO;AACX;AACA;;;;;;CAMC,GAAG,SAAS,oBAAoB,IAAI,EAAE,KAAK,EAAE,IAAI;IAC9C,qEAAqE;IACrE,yBAAyB;IACzB,2CAA2C;IAC3C,6DAA6D;IAC7D,MAAM,YAAY,KAAK,OAAO,CAAC,CAAC,OAAO,KAAK,KAAK,CAAC;IAClD,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,SAAS,KAAK,GAAG;QACrC,iEAAiE;QACjE,gFAAgF;QAChF,2EAA2E;QAC3E,OAAO,UAAU,MAAM,GAAG;YACtB;SACH,GAAG,EAAE;IACV;IACA,IAAI,SAAS,cAAc,CAAA,GAAA,6LAAA,CAAA,WAAQ,AAAD,EAAE,UAAU,CAAC,eAAe,SAAS,YAAY,KAAK,GAAG;QACvF,MAAM,EAAE,QAAQ,CAAC,EAAE,WAAW,EAAE,EAAE,GAAG,gCAAgC,GAAG;QACxE,OAAO;YACH;YACA;gBACI,OAAO;gBACP,MAAM;YACV;SACH;IACL;IACA,OAAO;QACH;QACA;YACI,GAAG,OAAO,UAAU,eAAe,UAAU,uKAAA,CAAA,YAAS,IAAI;gBACtD,OAAO;YACX,CAAC;YACD,GAAG,QAAQ,SAAS,SAAS;gBACzB,MAAM;YACV,CAAC;QACL;KACH;AACL;AACA;;CAEC,GAAG,SAAS,uBAAuB,IAAI;IACpC,6DAA6D;IAC7D,MAAM,YAAY,KAAK,OAAO,CAAC,CAAC,OAAO,KAAK,KAAK,CAAC;IAClD,OAAO,UAAU,MAAM,GAAG;QACtB;KACH,GAAG,EAAE;AACV;AACA;;CAEC,GAAG,SAAS,cAAc,WAAW;IAClC,OAAO,CAAA,GAAA,6LAAA,CAAA,aAAU,AAAD,EAAE,eAAe,gBAAgB;AACrD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2673, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2679, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40trpc/tanstack-react-query/dist/internals/infiniteQueryOptions.mjs"],"sourcesContent":["import { infiniteQueryOptions, skipToken } from '@tanstack/react-query';\nimport { createTRPCOptionsResult, getClientArgs } from './utils.mjs';\n\nfunction trpcInfiniteQueryOptions(args) {\n    const { input, query, path, queryKey, opts } = args;\n    const inputIsSkipToken = input === skipToken;\n    const queryFn = async (queryFnContext)=>{\n        const actualOpts = {\n            ...opts,\n            trpc: {\n                ...opts?.trpc,\n                ...opts?.trpc?.abortOnUnmount ? {\n                    signal: queryFnContext.signal\n                } : {\n                    signal: null\n                }\n            }\n        };\n        const result = await query(...getClientArgs(queryKey, actualOpts, {\n            direction: queryFnContext.direction,\n            pageParam: queryFnContext.pageParam\n        }));\n        return result;\n    };\n    return Object.assign(infiniteQueryOptions({\n        ...opts,\n        queryKey,\n        queryFn: inputIsSkipToken ? skipToken : queryFn,\n        initialPageParam: opts?.initialCursor ?? null\n    }), {\n        trpc: createTRPCOptionsResult({\n            path\n        })\n    });\n}\n\nexport { trpcInfiniteQueryOptions };\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;;;AAEA,SAAS,yBAAyB,IAAI;IAClC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG;IAC/C,MAAM,mBAAmB,UAAU,uKAAA,CAAA,YAAS;IAC5C,MAAM,UAAU,OAAO;QACnB,MAAM,aAAa;YACf,GAAG,IAAI;YACP,MAAM;gBACF,GAAG,MAAM,IAAI;gBACb,GAAG,MAAM,MAAM,iBAAiB;oBAC5B,QAAQ,eAAe,MAAM;gBACjC,IAAI;oBACA,QAAQ;gBACZ,CAAC;YACL;QACJ;QACA,MAAM,SAAS,MAAM,SAAS,CAAA,GAAA,mLAAA,CAAA,gBAAa,AAAD,EAAE,UAAU,YAAY;YAC9D,WAAW,eAAe,SAAS;YACnC,WAAW,eAAe,SAAS;QACvC;QACA,OAAO;IACX;IACA,OAAO,OAAO,MAAM,CAAC,CAAA,GAAA,uLAAA,CAAA,uBAAoB,AAAD,EAAE;QACtC,GAAG,IAAI;QACP;QACA,SAAS,mBAAmB,uKAAA,CAAA,YAAS,GAAG;QACxC,kBAAkB,MAAM,iBAAiB;IAC7C,IAAI;QACA,MAAM,CAAA,GAAA,mLAAA,CAAA,0BAAuB,AAAD,EAAE;YAC1B;QACJ;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2720, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2726, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40trpc/tanstack-react-query/dist/internals/mutationOptions.mjs"],"sourcesContent":["import { unwrapLazyArg, getMutationKeyInternal, createTRPCOptionsResult, getClientArgs } from './utils.mjs';\n\n/**\n * @internal\n */ function trpcMutationOptions(args) {\n    const { mutate, path, opts, overrides } = args;\n    const queryClient = unwrapLazyArg(args.queryClient);\n    const mutationKey = getMutationKeyInternal(path);\n    const defaultOpts = queryClient.defaultMutationOptions(queryClient.getMutationDefaults(mutationKey));\n    const mutationSuccessOverride = overrides?.onSuccess ?? ((options)=>options.originalFn());\n    const mutationFn = async (input)=>{\n        const result = await mutate(...getClientArgs([\n            path,\n            {\n                input\n            }\n        ], opts));\n        return result;\n    };\n    return {\n        ...opts,\n        mutationKey: mutationKey,\n        mutationFn,\n        onSuccess (...args) {\n            const originalFn = ()=>opts?.onSuccess?.(...args) ?? defaultOpts?.onSuccess?.(...args);\n            return mutationSuccessOverride({\n                originalFn,\n                queryClient,\n                meta: opts?.meta ?? defaultOpts?.meta ?? {}\n            });\n        },\n        trpc: createTRPCOptionsResult({\n            path\n        })\n    };\n}\n\nexport { trpcMutationOptions };\n"],"names":[],"mappings":";;;AAAA;;AAEA;;CAEC,GAAG,SAAS,oBAAoB,IAAI;IACjC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG;IAC1C,MAAM,cAAc,CAAA,GAAA,mLAAA,CAAA,gBAAa,AAAD,EAAE,KAAK,WAAW;IAClD,MAAM,cAAc,CAAA,GAAA,mLAAA,CAAA,yBAAsB,AAAD,EAAE;IAC3C,MAAM,cAAc,YAAY,sBAAsB,CAAC,YAAY,mBAAmB,CAAC;IACvF,MAAM,0BAA0B,WAAW,aAAa,CAAC,CAAC,UAAU,QAAQ,UAAU,EAAE;IACxF,MAAM,aAAa,OAAO;QACtB,MAAM,SAAS,MAAM,UAAU,CAAA,GAAA,mLAAA,CAAA,gBAAa,AAAD,EAAE;YACzC;YACA;gBACI;YACJ;SACH,EAAE;QACH,OAAO;IACX;IACA,OAAO;QACH,GAAG,IAAI;QACP,aAAa;QACb;QACA,WAAW,GAAG,IAAI;YACd,MAAM,aAAa,IAAI,MAAM,eAAe,SAAS,aAAa,eAAe;YACjF,OAAO,wBAAwB;gBAC3B;gBACA;gBACA,MAAM,MAAM,QAAQ,aAAa,QAAQ,CAAC;YAC9C;QACJ;QACA,MAAM,CAAA,GAAA,mLAAA,CAAA,0BAAuB,AAAD,EAAE;YAC1B;QACJ;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2766, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2772, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40trpc/tanstack-react-query/dist/internals/queryOptions.mjs"],"sourcesContent":["import { queryOptions, skipToken } from '@tanstack/react-query';\nimport { isAsyncIterable } from '@trpc/server/unstable-core-do-not-import';\nimport { unwrapLazyArg, createTRPCOptionsResult, getClientArgs, buildQueryFromAsyncIterable } from './utils.mjs';\n\n/**\n * @internal\n */ function trpcQueryOptions(args) {\n    const { input, query, path, queryKey, opts } = args;\n    const queryClient = unwrapLazyArg(args.queryClient);\n    const inputIsSkipToken = input === skipToken;\n    const queryFn = async (queryFnContext)=>{\n        const actualOpts = {\n            ...opts,\n            trpc: {\n                ...opts?.trpc,\n                ...opts?.trpc?.abortOnUnmount ? {\n                    signal: queryFnContext.signal\n                } : {\n                    signal: null\n                }\n            }\n        };\n        const result = await query(...getClientArgs(queryKey, actualOpts));\n        if (isAsyncIterable(result)) {\n            return buildQueryFromAsyncIterable(result, queryClient, queryKey);\n        }\n        return result;\n    };\n    return Object.assign(queryOptions({\n        ...opts,\n        queryKey,\n        queryFn: inputIsSkipToken ? skipToken : queryFn\n    }), {\n        trpc: createTRPCOptionsResult({\n            path\n        })\n    });\n}\n\nexport { trpcQueryOptions };\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;AACA;;;;AAEA;;CAEC,GAAG,SAAS,iBAAiB,IAAI;IAC9B,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG;IAC/C,MAAM,cAAc,CAAA,GAAA,mLAAA,CAAA,gBAAa,AAAD,EAAE,KAAK,WAAW;IAClD,MAAM,mBAAmB,UAAU,uKAAA,CAAA,YAAS;IAC5C,MAAM,UAAU,OAAO;QACnB,MAAM,aAAa;YACf,GAAG,IAAI;YACP,MAAM;gBACF,GAAG,MAAM,IAAI;gBACb,GAAG,MAAM,MAAM,iBAAiB;oBAC5B,QAAQ,eAAe,MAAM;gBACjC,IAAI;oBACA,QAAQ;gBACZ,CAAC;YACL;QACJ;QACA,MAAM,SAAS,MAAM,SAAS,CAAA,GAAA,mLAAA,CAAA,gBAAa,AAAD,EAAE,UAAU;QACtD,IAAI,CAAA,GAAA,6LAAA,CAAA,kBAAe,AAAD,EAAE,SAAS;YACzB,OAAO,CAAA,GAAA,mLAAA,CAAA,8BAA2B,AAAD,EAAE,QAAQ,aAAa;QAC5D;QACA,OAAO;IACX;IACA,OAAO,OAAO,MAAM,CAAC,CAAA,GAAA,+KAAA,CAAA,eAAY,AAAD,EAAE;QAC9B,GAAG,IAAI;QACP;QACA,SAAS,mBAAmB,uKAAA,CAAA,YAAS,GAAG;IAC5C,IAAI;QACA,MAAM,CAAA,GAAA,mLAAA,CAAA,0BAAuB,AAAD,EAAE;YAC1B;QACJ;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2818, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2824, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40trpc/tanstack-react-query/dist/internals/subscriptionOptions.mjs"],"sourcesContent":["import { hashKey, skipToken } from '@tanstack/react-query';\nimport * as React from 'react';\nimport { createTRPCOptionsResult } from './utils.mjs';\n\n/**\n * @internal\n */ const trpcSubscriptionOptions = (args)=>{\n    const { subscribe, path, queryKey, opts } = args;\n    const input = queryKey[1]?.input;\n    const enabled = 'enabled' in opts ? !!opts.enabled : input !== skipToken;\n    const _subscribe = (innerOpts)=>{\n        return subscribe(path.join('.'), input ?? undefined, innerOpts);\n    };\n    return {\n        ...opts,\n        enabled,\n        subscribe: _subscribe,\n        queryKey,\n        trpc: createTRPCOptionsResult({\n            path\n        })\n    };\n};\nfunction useSubscription(opts) {\n    const optsRef = React.useRef(opts);\n    optsRef.current = opts;\n    const trackedProps = React.useRef(new Set([]));\n    const addTrackedProp = React.useCallback((key)=>{\n        trackedProps.current.add(key);\n    }, []);\n    const currentSubscriptionRef = React.useRef(()=>{\n    // noop\n    });\n    const reset = React.useCallback(()=>{\n        // unsubscribe from the previous subscription\n        currentSubscriptionRef.current?.();\n        updateState(getInitialState);\n        if (!opts.enabled) {\n            return;\n        }\n        const subscription = opts.subscribe({\n            onStarted: ()=>{\n                optsRef.current.onStarted?.();\n                updateState((prev)=>({\n                        ...prev,\n                        status: 'pending',\n                        error: null\n                    }));\n            },\n            onData: (data)=>{\n                optsRef.current.onData?.(data);\n                updateState((prev)=>({\n                        ...prev,\n                        status: 'pending',\n                        data,\n                        error: null\n                    }));\n            },\n            onError: (error)=>{\n                optsRef.current.onError?.(error);\n                updateState((prev)=>({\n                        ...prev,\n                        status: 'error',\n                        error\n                    }));\n            },\n            onConnectionStateChange: (result)=>{\n                updateState((prev)=>{\n                    switch(result.state){\n                        case 'connecting':\n                            return {\n                                ...prev,\n                                status: 'connecting',\n                                error: result.error\n                            };\n                        case 'pending':\n                            // handled in onStarted\n                            return prev;\n                        case 'idle':\n                            return {\n                                ...prev,\n                                status: 'idle',\n                                data: undefined,\n                                error: null\n                            };\n                    }\n                });\n            }\n        });\n        currentSubscriptionRef.current = ()=>{\n            subscription.unsubscribe();\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        hashKey(opts.queryKey),\n        opts.enabled\n    ]);\n    const getInitialState = React.useCallback(()=>{\n        return opts.enabled ? {\n            data: undefined,\n            error: null,\n            status: 'connecting',\n            reset\n        } : {\n            data: undefined,\n            error: null,\n            status: 'idle',\n            reset\n        };\n    }, [\n        opts.enabled,\n        reset\n    ]);\n    const resultRef = React.useRef(getInitialState());\n    const [state, setState] = React.useState(trackResult(resultRef.current, addTrackedProp));\n    state.reset = reset;\n    const updateState = React.useCallback((callback)=>{\n        const prev = resultRef.current;\n        const next = resultRef.current = callback(prev);\n        let shouldUpdate = false;\n        for (const key of trackedProps.current){\n            if (prev[key] !== next[key]) {\n                shouldUpdate = true;\n                break;\n            }\n        }\n        if (shouldUpdate) {\n            setState(trackResult(next, addTrackedProp));\n        }\n    }, [\n        addTrackedProp\n    ]);\n    React.useEffect(()=>{\n        if (!opts.enabled) {\n            return;\n        }\n        reset();\n        return ()=>{\n            currentSubscriptionRef.current?.();\n        };\n    }, [\n        reset,\n        opts.enabled\n    ]);\n    return state;\n}\nfunction trackResult(result, onTrackResult) {\n    const trackedResult = new Proxy(result, {\n        get (target, prop) {\n            onTrackResult(prop);\n            return target[prop];\n        }\n    });\n    return trackedResult;\n}\n\nexport { trpcSubscriptionOptions, useSubscription };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2986, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2992, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40trpc/tanstack-react-query/dist/internals/createOptionsProxy.mjs"],"sourcesContent":["import { TRPCUntypedClient, getUntypedClient } from '@trpc/client';\nimport { createTRPCRecursiveProxy, callTRPCProcedure } from '@trpc/server';\nimport { trpcInfiniteQueryOptions } from './infiniteQueryOptions.mjs';\nimport { trpcMutationOptions } from './mutationOptions.mjs';\nimport { trpcQueryOptions } from './queryOptions.mjs';\nimport { trpcSubscriptionOptions } from './subscriptionOptions.mjs';\nimport { getQueryKeyInternal, getMutationKeyInternal, unwrapLazyArg } from './utils.mjs';\n\n/**\n * Create a typed proxy from your router types. Can also be used on the server.\n *\n * @see https://trpc.io/docs/client/tanstack-react-query/setup#3b-setup-without-react-context\n * @see https://trpc.io/docs/client/tanstack-react-query/server-components#5-create-a-trpc-caller-for-server-components\n */ function createTRPCOptionsProxy(opts) {\n    const callIt = (type)=>{\n        return (path, input, trpcOpts)=>{\n            if ('router' in opts) {\n                return Promise.resolve(unwrapLazyArg(opts.ctx)).then((ctx)=>callTRPCProcedure({\n                        router: opts.router,\n                        path: path,\n                        getRawInput: async ()=>input,\n                        ctx: ctx,\n                        type: type,\n                        signal: undefined\n                    }));\n            }\n            const untypedClient = opts.client instanceof TRPCUntypedClient ? opts.client : getUntypedClient(opts.client);\n            return untypedClient[type](path, input, trpcOpts);\n        };\n    };\n    return createTRPCRecursiveProxy(({ args, path: _path })=>{\n        const path = [\n            ..._path\n        ];\n        const utilName = path.pop();\n        const [arg1, arg2] = args;\n        const contextMap = {\n            '~types': undefined,\n            pathKey: ()=>{\n                return getQueryKeyInternal(path);\n            },\n            pathFilter: ()=>{\n                return {\n                    ...arg1,\n                    queryKey: getQueryKeyInternal(path)\n                };\n            },\n            queryOptions: ()=>{\n                return trpcQueryOptions({\n                    input: arg1,\n                    opts: arg2,\n                    path,\n                    queryClient: opts.queryClient,\n                    queryKey: getQueryKeyInternal(path, arg1, 'query'),\n                    query: callIt('query')\n                });\n            },\n            queryKey: ()=>{\n                return getQueryKeyInternal(path, arg1, 'query');\n            },\n            queryFilter: ()=>{\n                return {\n                    ...arg2,\n                    queryKey: getQueryKeyInternal(path, arg1, 'query')\n                };\n            },\n            infiniteQueryOptions: ()=>{\n                return trpcInfiniteQueryOptions({\n                    input: arg1,\n                    opts: arg2,\n                    path,\n                    queryClient: opts.queryClient,\n                    queryKey: getQueryKeyInternal(path, arg1, 'infinite'),\n                    query: callIt('query')\n                });\n            },\n            infiniteQueryKey: ()=>{\n                return getQueryKeyInternal(path, arg1, 'infinite');\n            },\n            infiniteQueryFilter: ()=>{\n                return {\n                    ...arg2,\n                    queryKey: getQueryKeyInternal(path, arg1, 'infinite')\n                };\n            },\n            mutationOptions: ()=>{\n                return trpcMutationOptions({\n                    opts: arg1,\n                    path,\n                    queryClient: opts.queryClient,\n                    mutate: callIt('mutation'),\n                    overrides: opts.overrides?.mutations\n                });\n            },\n            mutationKey: ()=>{\n                return getMutationKeyInternal(path);\n            },\n            subscriptionOptions: ()=>{\n                return trpcSubscriptionOptions({\n                    opts: arg2,\n                    path,\n                    queryKey: getQueryKeyInternal(path, arg1, 'any'),\n                    subscribe: callIt('subscription')\n                });\n            }\n        };\n        return contextMap[utilName]();\n    });\n}\n\nexport { createTRPCOptionsProxy };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3115, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3121, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40trpc/tanstack-react-query/dist/internals/Context.mjs"],"sourcesContent":["import * as React from 'react';\nimport { createTRPCOptionsProxy } from './createOptionsProxy.mjs';\n\n/**\n * Create a set of type-safe provider-consumers\n *\n * @see https://trpc.io/docs/client/tanstack-react-query/setup#3a-setup-the-trpc-context-provider\n */ function createTRPCContext() {\n    const TRPCClientContext = /*#__PURE__*/ React.createContext(null);\n    const TRPCContext = /*#__PURE__*/ React.createContext(null);\n    function TRPCProvider(props) {\n        const value = React.useMemo(()=>createTRPCOptionsProxy({\n                client: props.trpcClient,\n                queryClient: props.queryClient\n            }), [\n            props.trpcClient,\n            props.queryClient\n        ]);\n        return /*#__PURE__*/ React.createElement(TRPCClientContext.Provider, {\n            value: props.trpcClient\n        }, /*#__PURE__*/ React.createElement(TRPCContext.Provider, {\n            value: value\n        }, props.children));\n    }\n    function useTRPC() {\n        const utils = React.useContext(TRPCContext);\n        if (!utils) {\n            throw new Error('useTRPC() can only be used inside of a <TRPCProvider>');\n        }\n        return utils;\n    }\n    function useTRPCClient() {\n        const client = React.useContext(TRPCClientContext);\n        if (!client) {\n            throw new Error('useTRPCClient() can only be used inside of a <TRPCProvider>');\n        }\n        return client;\n    }\n    return {\n        TRPCProvider,\n        useTRPC,\n        useTRPCClient\n    };\n}\n\nexport { createTRPCContext };\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA;;;;CAIC,GAAG,SAAS;IACT,MAAM,oBAAoB,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAmB,AAAD,EAAE;IAC5D,MAAM,cAAc,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAmB,AAAD,EAAE;IACtD,SAAS,aAAa,KAAK;QACvB,MAAM,QAAQ,CAAA,GAAA,qMAAA,CAAA,UAAa,AAAD,EAAE,IAAI,CAAA,GAAA,gMAAA,CAAA,yBAAsB,AAAD,EAAE;gBAC/C,QAAQ,MAAM,UAAU;gBACxB,aAAa,MAAM,WAAW;YAClC,IAAI;YACJ,MAAM,UAAU;YAChB,MAAM,WAAW;SACpB;QACD,OAAO,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAmB,AAAD,EAAE,kBAAkB,QAAQ,EAAE;YACjE,OAAO,MAAM,UAAU;QAC3B,GAAG,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,gBAAmB,AAAD,EAAE,YAAY,QAAQ,EAAE;YACvD,OAAO;QACX,GAAG,MAAM,QAAQ;IACrB;IACA,SAAS;QACL,MAAM,QAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAAE;QAC/B,IAAI,CAAC,OAAO;YACR,MAAM,IAAI,MAAM;QACpB;QACA,OAAO;IACX;IACA,SAAS;QACL,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAAE;QAChC,IAAI,CAAC,QAAQ;YACT,MAAM,IAAI,MAAM;QACpB;QACA,OAAO;IACX;IACA,OAAO;QACH;QACA;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3176, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 3180, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3197, "column": 0}, "map": {"version":3,"file":"double-indexed-kv.js","sourceRoot":"","sources":["../src/double-indexed-kv.ts"],"names":[],"mappings":";;;AAAM,MAAO,eAAe;IAA5B,aAAA;QACE,IAAA,CAAA,UAAU,GAAG,IAAI,GAAG,EAAQ,CAAC;QAC7B,IAAA,CAAA,UAAU,GAAG,IAAI,GAAG,EAAQ,CAAC;IAmB/B,CAAC;IAjBC,GAAG,CAAC,GAAM,EAAE,KAAQ,EAAA;QAClB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAClC,CAAC;IAED,QAAQ,CAAC,GAAM,EAAA;QACb,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAClC,CAAC;IAED,UAAU,CAAC,KAAQ,EAAA;QACjB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAED,KAAK,GAAA;QACH,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;IAC1B,CAAC;CACF","debugId":null}},
    {"offset": {"line": 3220, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3226, "column": 0}, "map": {"version":3,"file":"registry.js","sourceRoot":"","sources":["../src/registry.ts"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,wBAAwB,CAAC;;AAEnD,MAAO,QAAQ;IAGnB,YAA6B,kBAAoC,CAAA;QAApC,IAAA,CAAA,kBAAkB,GAAlB,kBAAkB,CAAkB;QAFzD,IAAA,CAAA,EAAE,GAAG,iKAAI,kBAAe,EAAa,CAAC;IAEsB,CAAC;IAErE,QAAQ,CAAC,KAAQ,EAAE,UAAmB,EAAA;QACpC,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;YAC7B,OAAO;SACR;QAED,IAAI,CAAC,UAAU,EAAE;YACf,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;SAC7C;QAED,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,KAAK,GAAA;QACH,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;IAClB,CAAC;IAED,aAAa,CAAC,KAAQ,EAAA;QACpB,OAAO,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,QAAQ,CAAC,UAAkB,EAAA;QACzB,OAAO,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;IACtC,CAAC;CACF","debugId":null}},
    {"offset": {"line": 3255, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3261, "column": 0}, "map": {"version":3,"file":"class-registry.js","sourceRoot":"","sources":["../src/class-registry.ts"],"names":[],"mappings":";;;AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAC;;AAQnC,MAAO,aAAc,uJAAQ,WAAe;IAChD,aAAA;QACE,KAAK,EAAC,CAAC,CAAC,EAAE,AAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAGb,IAAA,CAAA,mBAAmB,GAAG,IAAI,GAAG,EAAmB,CAAC;IAFzD,CAAC;IAID,QAAQ,CAAC,KAAY,EAAE,OAAkC,EAAA;QACvD,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC/B,IAAI,OAAO,CAAC,UAAU,EAAE;gBACtB,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC;aACzD;YAED,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC;SAC3C,MAAM;YACL,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;SAChC;IACH,CAAC;IAED,eAAe,CAAC,KAAY,EAAA;QAC1B,OAAO,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC7C,CAAC;CACF","debugId":null}},
    {"offset": {"line": 3285, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3291, "column": 0}, "map": {"version":3,"file":"util.js","sourceRoot":"","sources":["../src/util.ts"],"names":[],"mappings":";;;;;;AAAA,SAAS,WAAW,CAAI,MAAyB;IAC/C,IAAI,QAAQ,IAAI,MAAM,EAAE;QACtB,8CAA8C;QAC9C,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KAC9B;IAED,MAAM,MAAM,GAAQ,EAAE,CAAC;IAEvB,gDAAgD;IAChD,IAAK,MAAM,GAAG,IAAI,MAAM,CAAE;QACxB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;YAC9B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;SAC1B;KACF;IAED,OAAO,MAAM,CAAC;AAChB,CAAC;AAEK,SAAU,IAAI,CAClB,MAAyB,EACzB,SAA4B;IAE5B,MAAM,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC;IACnC,IAAI,MAAM,IAAI,MAAM,EAAE;QACpB,8CAA8C;QAC9C,OAAO,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC/B;IAED,MAAM,cAAc,GAAG,MAAa,CAAC;IAErC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE;QAC9C,MAAM,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;QAChC,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;YACpB,OAAO,KAAK,CAAC;SACd;KACF;IAED,OAAO,SAAS,CAAC;AACnB,CAAC;AAEK,SAAU,OAAO,CACrB,MAAyB,EACzB,GAAgC;IAEhC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAG,CAAD,EAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AACpE,CAAC;AAEK,SAAU,QAAQ,CAAI,GAAQ,EAAE,KAAQ;IAC5C,OAAO,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AACnC,CAAC;AAEK,SAAU,OAAO,CACrB,MAAW,EACX,SAA4B;IAE5B,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE;QACtC,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;YACpB,OAAO,KAAK,CAAC;SACd;KACF;IAED,OAAO,SAAS,CAAC;AACnB,CAAC","debugId":null}},
    {"offset": {"line": 3341, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3347, "column": 0}, "map": {"version":3,"file":"custom-transformer-registry.js","sourceRoot":"","sources":["../src/custom-transformer-registry.ts"],"names":[],"mappings":";;;AACA,OAAO,EAAE,IAAI,EAAE,MAAM,WAAW,CAAC;;AAS3B,MAAO,yBAAyB;IAAtC,aAAA;QACU,IAAA,CAAA,WAAW,GAA+C,CAAA,CAAE,CAAC;IAevE,CAAC;IAbC,QAAQ,CAAyB,WAAmC,EAAA;QAClE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC;IACnD,CAAC;IAED,cAAc,CAAI,CAAI,EAAA;QACpB,qJAAO,OAAA,AAAI,EAAC,IAAI,CAAC,WAAW,GAAE,WAAW,CAAC,EAAE,AAC1C,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,CACkB,CAAC;IAClD,CAAC;IAED,UAAU,CAAC,IAAY,EAAA;QACrB,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;CACF","debugId":null}},
    {"offset": {"line": 3366, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3372, "column": 0}, "map": {"version":3,"file":"is.js","sourceRoot":"","sources":["../src/is.ts"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3420, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3426, "column": 0}, "map": {"version":3,"file":"pathstringifier.js","sourceRoot":"","sources":["../src/pathstringifier.ts"],"names":[],"mappings":";;;;;AAGO,MAAM,SAAS,GAAG,CAAC,GAAW,EAAE,CAAG,CAAD,EAAI,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AAE7D,MAAM,aAAa,GAAG,CAAC,IAAU,EAAmB,CACzD,CAD2D,GACvD,CACD,GAAG,CAAC,MAAM,CAAC,CACX,GAAG,CAAC,SAAS,CAAC,CACd,IAAI,CAAC,GAAG,CAAC,CAAC;AAER,MAAM,SAAS,GAAG,CAAC,MAAuB,EAAE,EAAE;IACnD,MAAM,MAAM,GAAa,EAAE,CAAC;IAE5B,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE;QACtC,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAE5B,MAAM,YAAY,GAAG,IAAI,KAAK,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC;QACnE,IAAI,YAAY,EAAE;YAChB,OAAO,IAAI,GAAG,CAAC;YACf,CAAC,EAAE,CAAC;YACJ,SAAS;SACV;QAED,MAAM,cAAc,GAAG,IAAI,KAAK,GAAG,CAAC;QACpC,IAAI,cAAc,EAAE;YAClB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACrB,OAAO,GAAG,EAAE,CAAC;YACb,SAAS;SACV;QAED,OAAO,IAAI,IAAI,CAAC;KACjB;IAED,MAAM,WAAW,GAAG,OAAO,CAAC;IAC5B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAEzB,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC","debugId":null}},
    {"offset": {"line": 3456, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3462, "column": 0}, "map": {"version":3,"file":"transformer.js","sourceRoot":"","sources":["../src/transformer.ts"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3687, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3693, "column": 0}, "map": {"version":3,"file":"accessDeep.js","sourceRoot":"","sources":["../src/accessDeep.ts"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3815, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3821, "column": 0}, "map": {"version":3,"file":"plainer.js","sourceRoot":"","sources":["../src/plainer.ts"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4006, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4012, "column": 0}, "map": {"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4116, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4122, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/is-what/dist/index.js"],"sourcesContent":["function getType(payload) {\n  return Object.prototype.toString.call(payload).slice(8, -1);\n}\n\nfunction isAnyObject(payload) {\n  return getType(payload) === \"Object\";\n}\n\nfunction isArray(payload) {\n  return getType(payload) === \"Array\";\n}\n\nfunction isBlob(payload) {\n  return getType(payload) === \"Blob\";\n}\n\nfunction isBoolean(payload) {\n  return getType(payload) === \"Boolean\";\n}\n\nfunction isDate(payload) {\n  return getType(payload) === \"Date\" && !isNaN(payload);\n}\n\nfunction isEmptyArray(payload) {\n  return isArray(payload) && payload.length === 0;\n}\n\nfunction isPlainObject(payload) {\n  if (getType(payload) !== \"Object\")\n    return false;\n  const prototype = Object.getPrototypeOf(payload);\n  return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n}\n\nfunction isEmptyObject(payload) {\n  return isPlainObject(payload) && Object.keys(payload).length === 0;\n}\n\nfunction isEmptyString(payload) {\n  return payload === \"\";\n}\n\nfunction isError(payload) {\n  return getType(payload) === \"Error\" || payload instanceof Error;\n}\n\nfunction isFile(payload) {\n  return getType(payload) === \"File\";\n}\n\nfunction isFullArray(payload) {\n  return isArray(payload) && payload.length > 0;\n}\n\nfunction isFullObject(payload) {\n  return isPlainObject(payload) && Object.keys(payload).length > 0;\n}\n\nfunction isString(payload) {\n  return getType(payload) === \"String\";\n}\n\nfunction isFullString(payload) {\n  return isString(payload) && payload !== \"\";\n}\n\nfunction isFunction(payload) {\n  return typeof payload === \"function\";\n}\n\nfunction isType(payload, type) {\n  if (!(type instanceof Function)) {\n    throw new TypeError(\"Type must be a function\");\n  }\n  if (!Object.prototype.hasOwnProperty.call(type, \"prototype\")) {\n    throw new TypeError(\"Type is not a class\");\n  }\n  const name = type.name;\n  return getType(payload) === name || Boolean(payload && payload.constructor === type);\n}\n\nfunction isInstanceOf(value, classOrClassName) {\n  if (typeof classOrClassName === \"function\") {\n    for (let p = value; p; p = Object.getPrototypeOf(p)) {\n      if (isType(p, classOrClassName)) {\n        return true;\n      }\n    }\n    return false;\n  } else {\n    for (let p = value; p; p = Object.getPrototypeOf(p)) {\n      if (getType(p) === classOrClassName) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction isMap(payload) {\n  return getType(payload) === \"Map\";\n}\n\nfunction isNaNValue(payload) {\n  return getType(payload) === \"Number\" && isNaN(payload);\n}\n\nfunction isNumber(payload) {\n  return getType(payload) === \"Number\" && !isNaN(payload);\n}\n\nfunction isNegativeNumber(payload) {\n  return isNumber(payload) && payload < 0;\n}\n\nfunction isNull(payload) {\n  return getType(payload) === \"Null\";\n}\n\nfunction isOneOf(a, b, c, d, e) {\n  return (value) => a(value) || b(value) || !!c && c(value) || !!d && d(value) || !!e && e(value);\n}\n\nfunction isUndefined(payload) {\n  return getType(payload) === \"Undefined\";\n}\n\nconst isNullOrUndefined = isOneOf(isNull, isUndefined);\n\nfunction isObject(payload) {\n  return isPlainObject(payload);\n}\n\nfunction isObjectLike(payload) {\n  return isAnyObject(payload);\n}\n\nfunction isPositiveNumber(payload) {\n  return isNumber(payload) && payload > 0;\n}\n\nfunction isSymbol(payload) {\n  return getType(payload) === \"Symbol\";\n}\n\nfunction isPrimitive(payload) {\n  return isBoolean(payload) || isNull(payload) || isUndefined(payload) || isNumber(payload) || isString(payload) || isSymbol(payload);\n}\n\nfunction isPromise(payload) {\n  return getType(payload) === \"Promise\";\n}\n\nfunction isRegExp(payload) {\n  return getType(payload) === \"RegExp\";\n}\n\nfunction isSet(payload) {\n  return getType(payload) === \"Set\";\n}\n\nfunction isWeakMap(payload) {\n  return getType(payload) === \"WeakMap\";\n}\n\nfunction isWeakSet(payload) {\n  return getType(payload) === \"WeakSet\";\n}\n\nexport { getType, isAnyObject, isArray, isBlob, isBoolean, isDate, isEmptyArray, isEmptyObject, isEmptyString, isError, isFile, isFullArray, isFullObject, isFullString, isFunction, isInstanceOf, isMap, isNaNValue, isNegativeNumber, isNull, isNullOrUndefined, isNumber, isObject, isObjectLike, isOneOf, isPlainObject, isPositiveNumber, isPrimitive, isPromise, isRegExp, isSet, isString, isSymbol, isType, isUndefined, isWeakMap, isWeakSet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4294, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4300, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/copy-anything/dist/index.js"],"sourcesContent":["import { isArray, isPlainObject } from 'is-what';\n\nfunction assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\n  const propType = {}.propertyIsEnumerable.call(originalObject, key) ? \"enumerable\" : \"nonenumerable\";\n  if (propType === \"enumerable\")\n    carry[key] = newVal;\n  if (includeNonenumerable && propType === \"nonenumerable\") {\n    Object.defineProperty(carry, key, {\n      value: newVal,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nfunction copy(target, options = {}) {\n  if (isArray(target)) {\n    return target.map((item) => copy(item, options));\n  }\n  if (!isPlainObject(target)) {\n    return target;\n  }\n  const props = Object.getOwnPropertyNames(target);\n  const symbols = Object.getOwnPropertySymbols(target);\n  return [...props, ...symbols].reduce((carry, key) => {\n    if (isArray(options.props) && !options.props.includes(key)) {\n      return carry;\n    }\n    const val = target[key];\n    const newVal = copy(val, options);\n    assignProp(carry, key, newVal, target, options.nonenumerable);\n    return carry;\n  }, {});\n}\n\nexport { copy };\n"],"names":[],"mappings":";;;AAAA;;AAEA,SAAS,WAAW,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,cAAc,EAAE,oBAAoB;IAC1E,MAAM,WAAW,CAAA,CAAC,CAAA,EAAE,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,OAAO,eAAe;IACpF,IAAI,aAAa,cACf,KAAK,CAAC,IAAI,GAAG;IACf,IAAI,wBAAwB,aAAa,iBAAiB;QACxD,OAAO,cAAc,CAAC,OAAO,KAAK;YAChC,OAAO;YACP,YAAY;YACZ,UAAU;YACV,cAAc;QAChB;IACF;AACF;AACA,SAAS,KAAK,MAAM,EAAE,UAAU,CAAC,CAAC;IAChC,IAAI,CAAA,GAAA,2IAAA,CAAA,UAAO,AAAD,EAAE,SAAS;QACnB,OAAO,OAAO,GAAG,CAAC,CAAC,OAAS,KAAK,MAAM;IACzC;IACA,IAAI,CAAC,CAAA,GAAA,2IAAA,CAAA,gBAAa,AAAD,EAAE,SAAS;QAC1B,OAAO;IACT;IACA,MAAM,QAAQ,OAAO,mBAAmB,CAAC;IACzC,MAAM,UAAU,OAAO,qBAAqB,CAAC;IAC7C,OAAO;WAAI;WAAU;KAAQ,CAAC,MAAM,CAAC,CAAC,OAAO;QAC3C,IAAI,CAAA,GAAA,2IAAA,CAAA,UAAO,AAAD,EAAE,QAAQ,KAAK,KAAK,CAAC,QAAQ,KAAK,CAAC,QAAQ,CAAC,MAAM;YAC1D,OAAO;QACT;QACA,MAAM,MAAM,MAAM,CAAC,IAAI;QACvB,MAAM,SAAS,KAAK,KAAK;QACzB,WAAW,OAAO,KAAK,QAAQ,QAAQ,QAAQ,aAAa;QAC5D,OAAO;IACT,GAAG,CAAC;AACN","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4340, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4346, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40aws-crypto/util/node_modules/%40smithy/is-array-buffer/dist-es/index.js"],"sourcesContent":["export const isArrayBuffer = (arg) => (typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n    Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";\n"],"names":[],"mappings":";;;AAAO,MAAM,gBAAgB,CAAC,MAAQ,AAAC,OAAO,gBAAgB,cAAc,eAAe,eACvF,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4350, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4356, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40aws-crypto/util/node_modules/%40smithy/util-buffer-from/dist-es/index.js"],"sourcesContent":["import { isArrayBuffer } from \"@smithy/is-array-buffer\";\nimport { Buffer } from \"buffer\";\nexport const fromArrayBuffer = (input, offset = 0, length = input.byteLength - offset) => {\n    if (!isArrayBuffer(input)) {\n        throw new TypeError(`The \"input\" argument must be ArrayBuffer. Received type ${typeof input} (${input})`);\n    }\n    return Buffer.from(input, offset, length);\n};\nexport const fromString = (input, encoding) => {\n    if (typeof input !== \"string\") {\n        throw new TypeError(`The \"input\" argument must be of type string. Received type ${typeof input} (${input})`);\n    }\n    return encoding ? Buffer.from(input, encoding) : Buffer.from(input);\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AACO,MAAM,kBAAkB,CAAC,OAAO,SAAS,CAAC,EAAE,SAAS,MAAM,UAAU,GAAG,MAAM;IACjF,IAAI,CAAC,CAAA,GAAA,mNAAA,CAAA,gBAAa,AAAD,EAAE,QAAQ;QACvB,MAAM,IAAI,UAAU,CAAC,wDAAwD,EAAE,OAAO,MAAM,EAAE,EAAE,MAAM,CAAC,CAAC;IAC5G;IACA,OAAO,qGAAA,CAAA,SAAM,CAAC,IAAI,CAAC,OAAO,QAAQ;AACtC;AACO,MAAM,aAAa,CAAC,OAAO;IAC9B,IAAI,OAAO,UAAU,UAAU;QAC3B,MAAM,IAAI,UAAU,CAAC,2DAA2D,EAAE,OAAO,MAAM,EAAE,EAAE,MAAM,CAAC,CAAC;IAC/G;IACA,OAAO,WAAW,qGAAA,CAAA,SAAM,CAAC,IAAI,CAAC,OAAO,YAAY,qGAAA,CAAA,SAAM,CAAC,IAAI,CAAC;AACjE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4376, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4382, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40aws-crypto/util/node_modules/%40smithy/util-utf8/dist-es/fromUtf8.js"],"sourcesContent":["import { fromString } from \"@smithy/util-buffer-from\";\nexport const fromUtf8 = (input) => {\n    const buf = fromString(input, \"utf8\");\n    return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n};\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAC;IACrB,MAAM,MAAM,CAAA,GAAA,oNAAA,CAAA,aAAU,AAAD,EAAE,OAAO;IAC9B,OAAO,IAAI,WAAW,IAAI,MAAM,EAAE,IAAI,UAAU,EAAE,IAAI,UAAU,GAAG,WAAW,iBAAiB;AACnG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4391, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4397, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40aws-crypto/util/node_modules/%40smithy/util-utf8/dist-es/toUint8Array.js"],"sourcesContent":["import { fromUtf8 } from \"./fromUtf8\";\nexport const toUint8Array = (data) => {\n    if (typeof data === \"string\") {\n        return fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n};\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAC;IACzB,IAAI,OAAO,SAAS,UAAU;QAC1B,OAAO,CAAA,GAAA,6MAAA,CAAA,WAAQ,AAAD,EAAE;IACpB;IACA,IAAI,YAAY,MAAM,CAAC,OAAO;QAC1B,OAAO,IAAI,WAAW,KAAK,MAAM,EAAE,KAAK,UAAU,EAAE,KAAK,UAAU,GAAG,WAAW,iBAAiB;IACtG;IACA,OAAO,IAAI,WAAW;AAC1B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4411, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4417, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40aws-crypto/util/node_modules/%40smithy/util-utf8/dist-es/toUtf8.js"],"sourcesContent":["import { fromArrayBuffer } from \"@smithy/util-buffer-from\";\nexport const toUtf8 = (input) => {\n    if (typeof input === \"string\") {\n        return input;\n    }\n    if (typeof input !== \"object\" || typeof input.byteOffset !== \"number\" || typeof input.byteLength !== \"number\") {\n        throw new Error(\"@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.\");\n    }\n    return fromArrayBuffer(input.buffer, input.byteOffset, input.byteLength).toString(\"utf8\");\n};\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAC;IACnB,IAAI,OAAO,UAAU,UAAU;QAC3B,OAAO;IACX;IACA,IAAI,OAAO,UAAU,YAAY,OAAO,MAAM,UAAU,KAAK,YAAY,OAAO,MAAM,UAAU,KAAK,UAAU;QAC3G,MAAM,IAAI,MAAM;IACpB;IACA,OAAO,CAAA,GAAA,oNAAA,CAAA,kBAAe,AAAD,EAAE,MAAM,MAAM,EAAE,MAAM,UAAU,EAAE,MAAM,UAAU,EAAE,QAAQ,CAAC;AACtF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4431, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4437, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 4441, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4458, "column": 0}, "map": {"version":3,"file":"convertToBuffer.js","sourceRoot":"","sources":["../../src/convertToBuffer.ts"],"names":[],"mappings":"AAAA,oEAAoE;AACpE,sCAAsC;;;;;AAGtC,OAAO,EAAE,QAAQ,IAAI,eAAe,EAAE,MAAM,mBAAmB,CAAC;;AAEhE,iBAAiB;AACjB,IAAM,QAAQ,GACZ,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,IAAI,GACxC,SAAC,KAAa;IAAK,OAAA,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC;AAA1B,CAA0B,iNAC7C,WAAe,CAAC;AAEhB,SAAU,eAAe,CAAC,IAAgB;IAC9C,8BAA8B;IAC9B,IAAI,IAAI,YAAY,UAAU,EAAE,OAAO,IAAI,CAAC;IAE5C,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;QAC5B,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC;KACvB;IAED,IAAI,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;QAC5B,OAAO,IAAI,UAAU,CACnB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,iBAAiB,CAC/C,CAAC;KACH;IAED,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;AAC9B,CAAC","debugId":null}},
    {"offset": {"line": 4481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4487, "column": 0}, "map": {"version":3,"file":"isEmptyData.js","sourceRoot":"","sources":["../../src/isEmptyData.ts"],"names":[],"mappings":"AAAA,oEAAoE;AACpE,sCAAsC;;;;AAIhC,SAAU,WAAW,CAAC,IAAgB;IAC1C,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;QAC5B,OAAO,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC;KAC1B;IAED,OAAO,IAAI,CAAC,UAAU,KAAK,CAAC,CAAC;AAC/B,CAAC","debugId":null}},
    {"offset": {"line": 4498, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4504, "column": 0}, "map": {"version":3,"file":"numToUint8.js","sourceRoot":"","sources":["../../src/numToUint8.ts"],"names":[],"mappings":"AAAA,oEAAoE;AACpE,sCAAsC;;;;AAEhC,SAAU,UAAU,CAAC,GAAW;IACpC,OAAO,IAAI,UAAU,CAAC;QACpB,CAAC,GAAG,GAAG,UAAU,CAAC,IAAI,EAAE;QACxB,CAAC,GAAG,GAAG,UAAU,CAAC,IAAI,EAAE;QACxB,CAAC,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC;QACvB,GAAG,GAAG,UAAU;KACjB,CAAC,CAAC;AACL,CAAC","debugId":null}},
    {"offset": {"line": 4517, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4523, "column": 0}, "map": {"version":3,"file":"uint32ArrayFrom.js","sourceRoot":"","sources":["../../src/uint32ArrayFrom.ts"],"names":[],"mappings":"AAAA,oEAAoE;AACpE,sCAAsC;AAEtC,0DAA0D;;;;AACpD,SAAU,eAAe,CAAC,aAA4B;IAC1D,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;QACrB,IAAM,YAAY,GAAG,IAAI,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA;QAC1D,IAAI,OAAO,GAAG,CAAC,CAAA;QACf,MAAO,OAAO,GAAG,aAAa,CAAC,MAAM,CAAE;YACrC,YAAY,CAAC,OAAO,CAAC,GAAG,aAAa,CAAC,OAAO,CAAC,CAAA;YAC9C,OAAO,IAAI,CAAC,CAAA;SACb;QACD,OAAO,YAAY,CAAA;KACpB;IACD,OAAO,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;AACxC,CAAC","debugId":null}},
    {"offset": {"line": 4541, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4547, "column": 0}, "map": {"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,oEAAoE;AACpE,sCAAsC","debugId":null}},
    {"offset": {"line": 4555, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4573, "column": 0}, "map": {"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAC,eAAe,EAAC,MAAM,kBAAkB,CAAC;;;AAE3C,SAAU,KAAK,CAAC,IAAgB;IACpC,OAAO,IAAI,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;AAC3C,CAAC;AAED,IAAA,QAAA;IAAA,SAAA;QACU,IAAA,CAAA,QAAQ,GAAG,UAAU,CAAC;IAchC,CAAC;IAZC,MAAA,SAAA,CAAA,MAAM,GAAN,SAAO,IAAgB;;;YACrB,IAAmB,IAAA,mJAAA,YAAA,EAAA,IAAI,CAAA,EAAA,WAAA,OAAA,IAAA,EAAA,EAAA,CAAA,SAAA,IAAA,EAAA,WAAA,OAAA,IAAA,GAAE;gBAApB,IAAM,IAAI,GAAA,SAAA,KAAA;gBACb,IAAI,CAAC,QAAQ,GACX,AAAC,IAAI,CAAC,QAAQ,KAAK,CAAC,CAAC,EAAG,WAAW,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;aACtE;;;;;;;;;;;;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAA,SAAA,CAAA,MAAM,GAAN;QACE,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IACH,OAAA,KAAC;AAAD,CAAC,AAfD,IAeC;;AAED,kBAAkB;AAClB,IAAM,aAAa,GAAG;IACpB,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;IAC9C,UAAU;IAAE,UAAU;IAAE,UAAU;IAAE,UAAU;CAC/C,CAAC;AACF,IAAM,WAAW,qLAAgB,kBAAA,AAAe,EAAC,aAAa,CAAC,CAAA","debugId":null}},
    {"offset": {"line": 4876, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4882, "column": 0}, "map": {"version":3,"file":"aws_crc32.js","sourceRoot":"","sources":["../../src/aws_crc32.ts"],"names":[],"mappings":"AAAA,oEAAoE;AACpE,sCAAsC;;;;;;;;AAGtC,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;;AAC5E,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAC;;;;AAEhC,IAAA,WAAA;IAAA,SAAA;QACU,IAAA,CAAA,KAAK,GAAG,yLAAI,QAAK,EAAE,CAAC;IAe9B,CAAC;IAbC,SAAA,SAAA,CAAA,MAAM,GAAN,SAAO,MAAkB;QACvB,kLAAI,cAAA,AAAW,EAAC,MAAM,CAAC,EAAE,OAAO;QAEhC,IAAI,CAAC,KAAK,CAAC,MAAM,mLAAC,kBAAA,AAAe,EAAC,MAAM,CAAC,CAAC,CAAC;IAC7C,CAAC;IAEK,SAAA,SAAA,CAAA,MAAM,GAAZ;;;gBACE,OAAA;oBAAA,EAAA,QAAA;iMAAO,aAAA,AAAU,EAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;iBAAA,CAAC;;;KACxC;IAED,SAAA,SAAA,CAAA,KAAK,GAAL;QACE,IAAI,CAAC,KAAK,GAAG,yLAAI,QAAK,EAAE,CAAC;IAC3B,CAAC;IACH,OAAA,QAAC;AAAD,CAAC,AAhBD,IAgBC","debugId":null}},
    {"offset": {"line": 4922, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4937, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/crypto-js/core.js"],"sourcesContent":[";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5603, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5608, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/crypto-js/enc-hex.js"],"sourcesContent":[";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Hex;\n\n}));"],"names":[],"mappings":";AAAE,CAAA,SAAU,IAAI,EAAE,OAAO;IACxB,IAAI,OAAO,YAAY,UAAU;QAChC,WAAW;QACX,OAAO,OAAO,GAAG,UAAU;IAC5B,OACK,IAAI,OAAO,WAAW,cAAc,OAAO,GAAG,EAAE;QACpD,MAAM;QACN,qDAAmB;IACpB,OACK;QACJ,mBAAmB;QACnB,QAAQ,KAAK,QAAQ;IACtB;AACD,CAAA,EAAE,IAAI,EAAE,SAAU,QAAQ;IAEzB,OAAO,SAAS,GAAG,CAAC,GAAG;AAExB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5623, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5628, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/crypto-js/sha1.js"],"sourcesContent":[";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-1 hash algorithm.\n\t     */\n\t    var SHA1 = C_algo.SHA1 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476,\n\t                0xc3d2e1f0\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\n\t            // Computation\n\t            for (var i = 0; i < 80; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var n = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n\t                    W[i] = (n << 1) | (n >>> 31);\n\t                }\n\n\t                var t = ((a << 5) | (a >>> 27)) + e + W[i];\n\t                if (i < 20) {\n\t                    t += ((b & c) | (~b & d)) + 0x5a827999;\n\t                } else if (i < 40) {\n\t                    t += (b ^ c ^ d) + 0x6ed9eba1;\n\t                } else if (i < 60) {\n\t                    t += ((b & c) | (b & d) | (c & d)) - 0x70e44324;\n\t                } else /* if (i < 80) */ {\n\t                    t += (b ^ c ^ d) - 0x359d3e2a;\n\t                }\n\n\t                e = d;\n\t                d = c;\n\t                c = (b << 30) | (b >>> 2);\n\t                b = a;\n\t                a = t;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA1('message');\n\t     *     var hash = CryptoJS.SHA1(wordArray);\n\t     */\n\t    C.SHA1 = Hasher._createHelper(SHA1);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA1(message, key);\n\t     */\n\t    C.HmacSHA1 = Hasher._createHmacHelper(SHA1);\n\t}());\n\n\n\treturn CryptoJS.SHA1;\n\n}));"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5755, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5760, "column": 0}, "map": {"version":3,"file":"index.js","sourceRoot":"","sources":["../index.ts"],"names":[],"mappings":"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,MAAM;IAAE,SAAS;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,SAAS;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,QAAQ;IAAE,SAAS;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,SAAS;IAAE,SAAS;IAAE,SAAS;IAAE,SAAS;IAAE,SAAS;IAAE,MAAM;IAAE,MAAM;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,SAAS;IAAE,SAAS;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,QAAQ;IAAE,QAAQ;IAAE,SAAS;IAAE,MAAM;IAAE,MAAM;IAAE,QAAQ;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,SAAS;IAAE,OAAO;IAAE,MAAM;IAAE,SAAS;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,SAAS;IAAE,MAAM;IAAE,SAAS;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,OAAO;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,QAAQ;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,QAAQ;IAAE,QAAQ;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,SAAS;IAAE,SAAS;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,QAAQ;IAAE,MAAM;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,SAAS;IAAE,SAAS;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,MAAM;IAAE,QAAQ;IAAE,SAAS;IAAE,QAAQ;IAAE,QAAQ;IAAE,SAAS;IAAE,QAAQ;IAAE,MAAM;IAAE,QAAQ;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,SAAS;IAAE,OAAO;IAAE,SAAS;IAAE,MAAM;IAAE,SAAS;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,QAAQ;IAAE,QAAQ;IAAE,MAAM;IAAE,SAAS;IAAE,QAAQ;IAAE,QAAQ;IAAE,SAAS;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,SAAS;IAAE,QAAQ;IAAE,MAAM;IAAE,QAAQ;IAAE,SAAS;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,SAAS;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,SAAS;IAAE,QAAQ;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,QAAQ;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,SAAS;IAAE,SAAS;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,SAAS;IAAE,QAAQ;IAAE,OAAO;IAAE,SAAS;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;CAAC,CAAA;AAEryF,QAAA,KAAK,GAAa;IAAC,QAAQ;IAAE,KAAK;IAAE,KAAK;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,QAAQ;IAAE,KAAK;IAAE,QAAQ;IAAE,QAAQ;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,KAAK;IAAE,OAAO;IAAE,QAAQ;IAAE,KAAK;IAAE,MAAM;IAAE,KAAK;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,KAAK;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,KAAK;IAAE,KAAK;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,QAAQ;IAAE,KAAK;IAAE,QAAQ;IAAE,IAAI;IAAE,QAAQ;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,KAAK;IAAE,KAAK;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,KAAK;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,KAAK;IAAE,MAAM;IAAE,QAAQ;IAAE,KAAK;IAAE,MAAM;IAAE,MAAM;IAAE,IAAI;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,QAAQ;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,KAAK;IAAE,MAAM;IAAE,QAAQ;IAAE,QAAQ;IAAE,MAAM;IAAE,KAAK;IAAE,KAAK;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,QAAQ;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,KAAK;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,KAAK;IAAE,QAAQ;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,QAAQ;IAAE,MAAM;IAAE,KAAK;IAAE,MAAM;IAAE,MAAM;IAAE,QAAQ;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,KAAK;IAAE,KAAK;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,QAAQ;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,QAAQ;IAAE,QAAQ;IAAE,MAAM;IAAE,QAAQ;IAAE,QAAQ;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,MAAM;IAAE,KAAK;IAAE,MAAM;IAAE,KAAK;IAAE,QAAQ;IAAE,KAAK;IAAE,QAAQ;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,MAAM;IAAE,OAAO;IAAE,KAAK;IAAE,MAAM;IAAE,MAAM;IAAE,KAAK;IAAE,KAAK;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,MAAM;IAAE,OAAO;IAAE,OAAO;IAAE,QAAQ;IA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","debugId":null}},
    {"offset": {"line": 6616, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6622, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/_lib/getRoundingMethod.js"],"sourcesContent":["export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n"],"names":[],"mappings":";;;AAAO,SAAS,kBAAkB,MAAM;IACtC,OAAO,CAAC;QACN,MAAM,QAAQ,SAAS,IAAI,CAAC,OAAO,GAAG,KAAK,KAAK;QAChD,MAAM,SAAS,MAAM;QACrB,wBAAwB;QACxB,OAAO,WAAW,IAAI,IAAI;IAC5B;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6633, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6639, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/constants.js"],"sourcesContent":["/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;CAeC,GAED;;;;CAIC;;;;;;;;;;;;;;;;;;;;;;;;;;AACM,MAAM,aAAa;AAenB,MAAM,aAAa;AAgBnB,MAAM,UAAU,KAAK,GAAG,CAAC,IAAI,KAAK,KAAK,KAAK,KAAK;AAgBjD,MAAM,UAAU,CAAC;AAOjB,MAAM,qBAAqB;AAO3B,MAAM,oBAAoB;AAO1B,MAAM,uBAAuB;AAO7B,MAAM,qBAAqB;AAO3B,MAAM,uBAAuB;AAO7B,MAAM,gBAAgB;AAOtB,MAAM,iBAAiB;AAOvB,MAAM,eAAe;AAOrB,MAAM,gBAAgB;AAOtB,MAAM,kBAAkB;AAOxB,MAAM,eAAe;AAOrB,MAAM,iBAAiB;AAOvB,MAAM,gBAAgB;AAOtB,MAAM,kBAAkB;AAOxB,MAAM,eAAe,gBAAgB;AAOrC,MAAM,gBAAgB,eAAe;AAOrC,MAAM,gBAAgB,eAAe;AAOrC,MAAM,iBAAiB,gBAAgB;AAOvC,MAAM,mBAAmB,iBAAiB;AAa1C,MAAM,sBAAsB,OAAO,GAAG,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6708, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6714, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/constructFrom.js"],"sourcesContent":["import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n"],"names":[],"mappings":";;;;AAAA;;AAqCO,SAAS,cAAc,IAAI,EAAE,KAAK;IACvC,IAAI,OAAO,SAAS,YAAY,OAAO,KAAK;IAE5C,IAAI,QAAQ,OAAO,SAAS,YAAY,wIAAA,CAAA,sBAAmB,IAAI,MAC7D,OAAO,IAAI,CAAC,wIAAA,CAAA,sBAAmB,CAAC,CAAC;IAEnC,IAAI,gBAAgB,MAAM,OAAO,IAAI,KAAK,WAAW,CAAC;IAEtD,OAAO,IAAI,KAAK;AAClB;uCAGe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6727, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6733, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/toDate.js"],"sourcesContent":["import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n"],"names":[],"mappings":";;;;AAAA;;AAwCO,SAAS,OAAO,QAAQ,EAAE,OAAO;IACtC,iDAAiD;IACjD,OAAO,CAAA,GAAA,4IAAA,CAAA,gBAAa,AAAD,EAAE,WAAW,UAAU;AAC5C;uCAGe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6750, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/differenceInMilliseconds.js"],"sourcesContent":["import { toDate } from \"./toDate.js\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(laterDate, earlierDate) {\n  return +toDate(laterDate) - +toDate(earlierDate);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n"],"names":[],"mappings":";;;;AAAA;;AAwBO,SAAS,yBAAyB,SAAS,EAAE,WAAW;IAC7D,OAAO,CAAC,CAAA,GAAA,qIAAA,CAAA,SAAM,AAAD,EAAE,aAAa,CAAC,CAAA,GAAA,qIAAA,CAAA,SAAM,AAAD,EAAE;AACtC;uCAGe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6760, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6766, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/differenceInSeconds.js"],"sourcesContent":["import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.js\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(laterDate, earlierDate, options) {\n  const diff = differenceInMilliseconds(laterDate, earlierDate) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AA6BO,SAAS,oBAAoB,SAAS,EAAE,WAAW,EAAE,OAAO;IACjE,MAAM,OAAO,CAAA,GAAA,uJAAA,CAAA,2BAAwB,AAAD,EAAE,WAAW,eAAe;IAChE,OAAO,CAAA,GAAA,wJAAA,CAAA,oBAAiB,AAAD,EAAE,SAAS,gBAAgB;AACpD;uCAGe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6779, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6785, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/endOfDay.js"],"sourcesContent":["import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfDay} function options.\n */\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n"],"names":[],"mappings":";;;;AAAA;;AA4BO,SAAS,SAAS,IAAI,EAAE,OAAO;IACpC,MAAM,QAAQ,CAAA,GAAA,qIAAA,CAAA,SAAM,AAAD,EAAE,MAAM,SAAS;IACpC,MAAM,QAAQ,CAAC,IAAI,IAAI,IAAI;IAC3B,OAAO;AACT;uCAGe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6797, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6803, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/date-fns/endOfMonth.js"],"sourcesContent":["import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n"],"names":[],"mappings":";;;;AAAA;;AA4BO,SAAS,WAAW,IAAI,EAAE,OAAO;IACtC,MAAM,QAAQ,CAAA,GAAA,qIAAA,CAAA,SAAM,AAAD,EAAE,MAAM,SAAS;IACpC,MAAM,QAAQ,MAAM,QAAQ;IAC5B,MAAM,WAAW,CAAC,MAAM,WAAW,IAAI,QAAQ,GAAG;IAClD,MAAM,QAAQ,CAAC,IAAI,IAAI,IAAI;IAC3B,OAAO;AACT;uCAGe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6817, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6823, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///Users/andreicruceru/comment.video/node_modules/ts-pattern/src/internals/symbols.ts","file:///Users/andreicruceru/comment.video/node_modules/ts-pattern/src/internals/helpers.ts","file:///Users/andreicruceru/comment.video/node_modules/ts-pattern/src/is-matching.ts","file:///Users/andreicruceru/comment.video/node_modules/ts-pattern/src/patterns.ts","file:///Users/andreicruceru/comment.video/node_modules/ts-pattern/src/errors.ts","file:///Users/andreicruceru/comment.video/node_modules/ts-pattern/src/match.ts"],"sourcesContent":["/**\n * Symbols used internally within ts-pattern to construct and discriminate\n * Guard, Not, and Select, and AnonymousSelect patterns\n *\n * Symbols have the advantage of not appearing in auto-complete suggestions in\n * user defined patterns, and eliminate the risk of property\n * overlap between ts-pattern internals and user defined patterns.\n *\n * These symbols have to be visible to tsc for type inference to work, but\n * users should not import them\n * @module\n * @private\n * @internal\n */\n\nexport const matcher = Symbol.for('@ts-pattern/matcher');\nexport type matcher = typeof matcher;\n\nexport const unset = Symbol.for('@ts-pattern/unset');\nexport type unset = typeof unset;\n\nexport const isVariadic = Symbol.for('@ts-pattern/isVariadic');\nexport type isVariadic = typeof isVariadic;\n\n// can't be a symbol because this key has to be enumerable.\nexport const anonymousSelectKey = '@ts-pattern/anonymous-select-key';\nexport type anonymousSelectKey = typeof anonymousSelectKey;\n\nexport const override = Symbol.for('@ts-pattern/override');\nexport type override = typeof override;\n","/**\n * @module\n * @private\n * @internal\n */\n\nimport * as symbols from './symbols';\nimport { SelectionType } from '../types/FindSelected';\nimport { Pattern, Matcher, MatcherType, AnyMatcher } from '../types/Pattern';\n\n// @internal\nexport const isObject = (value: unknown): value is Object =>\n  Boolean(value && typeof value === 'object');\n\n//   @internal\nexport const isMatcher = (\n  x: unknown\n): x is Matcher<unknown, unknown, MatcherType, SelectionType> => {\n  const pattern = x as Matcher<unknown, unknown, MatcherType, SelectionType>;\n  return pattern && !!pattern[symbols.matcher];\n};\n\n// @internal\nconst isOptionalPattern = (\n  x: unknown\n): x is Matcher<unknown, unknown, 'optional', SelectionType> => {\n  return isMatcher(x) && x[symbols.matcher]().matcherType === 'optional';\n};\n\n// tells us if the value matches a given pattern.\n// @internal\nexport const matchPattern = (\n  pattern: any,\n  value: any,\n  select: (key: string, value: unknown) => void\n): boolean => {\n  if (isMatcher(pattern)) {\n    const matcher = pattern[symbols.matcher]();\n    const { matched, selections } = matcher.match(value);\n    if (matched && selections) {\n      Object.keys(selections).forEach((key) => select(key, selections[key]));\n    }\n    return matched;\n  }\n\n  if (isObject(pattern)) {\n    if (!isObject(value)) return false;\n\n    // Tuple pattern\n    if (Array.isArray(pattern)) {\n      if (!Array.isArray(value)) return false;\n      let startPatterns = [];\n      let endPatterns = [];\n      let variadicPatterns: AnyMatcher[] = [];\n\n      for (const i of pattern.keys()) {\n        const subpattern = pattern[i];\n        if (isMatcher(subpattern) && subpattern[symbols.isVariadic]) {\n          variadicPatterns.push(subpattern);\n        } else if (variadicPatterns.length) {\n          endPatterns.push(subpattern);\n        } else {\n          startPatterns.push(subpattern);\n        }\n      }\n\n      if (variadicPatterns.length) {\n        if (variadicPatterns.length > 1) {\n          throw new Error(\n            `Pattern error: Using \\`...P.array(...)\\` several times in a single pattern is not allowed.`\n          );\n        }\n\n        if (value.length < startPatterns.length + endPatterns.length) {\n          return false;\n        }\n\n        const startValues = value.slice(0, startPatterns.length);\n        const endValues =\n          endPatterns.length === 0 ? [] : value.slice(-endPatterns.length);\n        const middleValues = value.slice(\n          startPatterns.length,\n          endPatterns.length === 0 ? Infinity : -endPatterns.length\n        );\n\n        return (\n          startPatterns.every((subPattern, i) =>\n            matchPattern(subPattern, startValues[i], select)\n          ) &&\n          endPatterns.every((subPattern, i) =>\n            matchPattern(subPattern, endValues[i], select)\n          ) &&\n          (variadicPatterns.length === 0\n            ? true\n            : matchPattern(variadicPatterns[0], middleValues, select))\n        );\n      }\n\n      return pattern.length === value.length\n        ? pattern.every((subPattern, i) =>\n            matchPattern(subPattern, value[i], select)\n          )\n        : false;\n    }\n\n    return Reflect.ownKeys(pattern).every((k): boolean => {\n      const subPattern = pattern[k];\n\n      return (\n        (k in value || isOptionalPattern(subPattern)) &&\n        matchPattern(subPattern, value[k], select)\n      );\n    });\n  }\n\n  return Object.is(value, pattern);\n};\n\n// @internal\nexport const getSelectionKeys = (pattern: any): string[] => {\n  if (isObject(pattern)) {\n    if (isMatcher(pattern)) {\n      return pattern[symbols.matcher]().getSelectionKeys?.() ?? [];\n    }\n    if (Array.isArray(pattern)) return flatMap(pattern, getSelectionKeys);\n    return flatMap(Object.values(pattern), getSelectionKeys);\n  }\n  return [];\n};\n\n// @internal\nexport const flatMap = <a, b>(\n  xs: readonly a[],\n  f: (v: a) => readonly b[]\n): b[] => xs.reduce<b[]>((acc, x) => acc.concat(f(x)), []);\n","import { MatchedValue, Pattern, UnknownProperties } from './types/Pattern';\nimport * as P from './patterns';\nimport { matchPattern } from './internals/helpers';\n\n/**\n * This constraint allows using additional properties\n * in object patterns. See \"should allow targetting unknown properties\"\n * unit test in `is-matching.test.ts`.\n */\ntype PatternConstraint<T> = T extends readonly any[]\n  ? P.Pattern<T>\n  : T extends object\n  ? P.Pattern<T> & UnknownProperties\n  : P.Pattern<T>;\n\n/**\n * `isMatching` takes pattern and returns a **type guard** function, cheching if a value matches this pattern.\n *\n * [Read  documentation for `isMatching` on GitHub](https://github.com/gvergnaud/ts-pattern#ismatching)\n *\n * @example\n *  const hasName = isMatching({ name: P.string })\n *\n *  declare let input: unknown\n *\n *  if (hasName(input)) {\n *    // `input` inferred as { name: string }\n *    return input.name\n *  }\n */\nexport function isMatching<const p extends Pattern<unknown>>(\n  pattern: p\n): (value: unknown) => value is P.infer<p>;\n/**\n * `isMatching` takes pattern and a value and checks if the value matches this pattern.\n *\n * [Read  documentation for `isMatching` on GitHub](https://github.com/gvergnaud/ts-pattern#ismatching)\n *\n * @example\n *  declare let input: unknown\n *\n *  if (isMatching({ name: P.string }, input)) {\n *    // `input` inferred as { name: string }\n *    return input.name\n *  }\n */\nexport function isMatching<const T, const P extends PatternConstraint<T>>(\n  pattern: P,\n  value: T\n): value is P.infer<P>;\n\nexport function isMatching<const p extends Pattern<any>>(\n  ...args: [pattern: p, value?: any]\n): boolean | ((vale: any) => boolean) {\n  if (args.length === 1) {\n    const [pattern] = args;\n    return (value: any): value is MatchedValue<any, P.infer<p>> =>\n      matchPattern(pattern, value, () => {});\n  }\n  if (args.length === 2) {\n    const [pattern, value] = args;\n    return matchPattern(pattern, value, () => {});\n  }\n\n  throw new Error(\n    `isMatching wasn't given the right number of arguments: expected 1 or 2, received ${args.length}.`\n  );\n}\n","/**\n * The `P` module contains patterns for primitive types, wildcards and\n * other pattern-matching utilities.\n *\n * @module\n */\n\nimport { matchPattern, getSelectionKeys, flatMap } from './internals/helpers';\nimport * as symbols from './internals/symbols';\nimport { matcher } from './internals/symbols';\nimport { isMatching } from './is-matching';\nimport { ExtractPreciseValue } from './types/ExtractPreciseValue';\nimport { Fn } from './types/helpers';\nimport { InvertPattern } from './types/InvertPattern';\nimport {\n  Pattern,\n  UnknownPattern,\n  OptionalP,\n  ArrayP,\n  MapP,\n  SetP,\n  AndP,\n  OrP,\n  NotP,\n  GuardP,\n  SelectP,\n  AnonymousSelectP,\n  GuardExcludeP,\n  CustomP,\n  Matcher,\n  StringPattern,\n  AnyPattern,\n  NumberPattern,\n  BooleanPattern,\n  BigIntPattern,\n  NullishPattern,\n  SymbolPattern,\n  Chainable,\n  BigIntChainable,\n  NumberChainable,\n  StringChainable,\n  ArrayChainable,\n  Variadic,\n  NonNullablePattern,\n} from './types/Pattern';\n\nexport type {\n  /**\n   * `Pattern<T>` is the type of all patterns\n   * that can match a value of type `T`.\n   */\n  Pattern,\n\n  /**\n   * `unstable_Fn` can be used to created a\n   * a Matchable instance – a custom type that\n   * can be used as a pattern.\n   *\n   * @experimental This feature is unstable.\n   */\n  Fn as unstable_Fn,\n};\n\nexport { matcher };\n\n/**\n * A `Matchable` is an object implementing\n * the Matcher Protocol. It must have a `[P.matcher]: P.Matcher<NarrowFn>`\n * key, which defines how this object should be matched by TS-Pattern.\n *\n * @experimental This feature is unstable.\n *\n * @example\n * ```ts\n * class Some<T> implements P.unstable_Matchable {\n *  [P.matcher](): P.unstable_Matcher<Some<T>>\n * }\n * ```\n */\nexport type unstable_Matchable<\n  narrowedOrFn,\n  input = unknown,\n  pattern = never\n> = CustomP<input, pattern, narrowedOrFn>;\n\n/**\n * A `Matcher` is an object with `match` function, which\n * defines how this object should be matched by TS-Pattern.\n *\n * @experimental This feature is unstable.\n *\n * @example\n * ```ts\n * class Some<T> implements P.unstable_Matchable {\n *  [P.matcher](): P.unstable_Matcher<Some<T>>\n * }\n * ```\n */\nexport type unstable_Matcher<\n  narrowedOrFn,\n  input = unknown,\n  pattern = never\n> = ReturnType<CustomP<input, pattern, narrowedOrFn>[matcher]>;\n\n/**\n * `P.infer<typeof somePattern>` will return the type of the value\n * matched by this pattern.\n *\n * [Read the documentation for `P.infer` on GitHub](https://github.com/gvergnaud/ts-pattern#pinfer)\n *\n * @example\n * const userPattern = { name: P.string }\n * type User = P.infer<typeof userPattern>\n */\nexport type infer<pattern> = InvertPattern<NoInfer<pattern>, unknown>;\n\n/**\n * `P.narrow<Input, Pattern>` will narrow the input type to only keep\n * the set of values that are compatible with the provided pattern type.\n *\n * [Read the documentation for `P.narrow` on GitHub](https://github.com/gvergnaud/ts-pattern#pnarrow)\n *\n * @example\n * type Input = ['a' | 'b' | 'c', 'a' | 'b' | 'c']\n * const Pattern = ['a', P.union('a', 'b')] as const\n *\n * type Narrowed = P.narrow<Input, typeof Pattern>\n * //     ^? ['a', 'a' | 'b']\n */\nexport type narrow<input, pattern extends Pattern<any>> = ExtractPreciseValue<\n  input,\n  InvertPattern<pattern, input>\n>;\n\nfunction chainable<pattern extends Matcher<any, any, any, any, any>>(\n  pattern: pattern\n): Chainable<pattern> {\n  return Object.assign(pattern, {\n    optional: () => optional(pattern),\n    and: (p2: any) => intersection(pattern, p2),\n    or: (p2: any) => union(pattern, p2),\n    select: (key: any) =>\n      key === undefined ? select(pattern) : select(key, pattern),\n  }) as Chainable<pattern>;\n}\n\nconst variadic = <pattern extends {}>(pattern: pattern): Variadic<pattern> =>\n  Object.assign(pattern, {\n    [Symbol.iterator](): Iterator<pattern, void, undefined> {\n      let i = 0;\n      const variadicPattern = Object.assign(pattern, {\n        [symbols.isVariadic]: true,\n      });\n      const values: IteratorResult<pattern, void>[] = [\n        { value: variadicPattern, done: false },\n        { done: true, value: undefined },\n      ];\n      return {\n        next: () => values[i++] ?? values.at(-1)!,\n      };\n    },\n  });\n\nfunction arrayChainable<pattern extends Matcher<any, any, any, any, any>>(\n  pattern: pattern\n): ArrayChainable<pattern> {\n  return Object.assign(variadic(pattern), {\n    optional: () => arrayChainable(optional(pattern)),\n    select: (key: any) =>\n      arrayChainable(\n        key === undefined ? select(pattern) : select(key, pattern)\n      ),\n  }) as any;\n}\n\n/**\n * `P.optional(subpattern)` takes a sub pattern and returns a pattern which matches if the\n * key is undefined or if it is defined and the sub pattern matches its value.\n *\n * [Read the documentation for `P.optional` on GitHub](https://github.com/gvergnaud/ts-pattern#poptional-patterns)\n *\n * @example\n *  match(value)\n *   .with({ greeting: P.optional('Hello') }, () => 'will match { greeting?: \"Hello\" }')\n */\nexport function optional<\n  input,\n  const pattern extends unknown extends input ? UnknownPattern : Pattern<input>\n>(pattern: pattern): Chainable<OptionalP<input, pattern>, 'optional'> {\n  return chainable({\n    [matcher]() {\n      return {\n        match: <UnknownInput>(value: UnknownInput | input) => {\n          let selections: Record<string, unknown[]> = {};\n          const selector = (key: string, value: any) => {\n            selections[key] = value;\n          };\n          if (value === undefined) {\n            getSelectionKeys(pattern).forEach((key) =>\n              selector(key, undefined)\n            );\n            return { matched: true, selections };\n          }\n          const matched = matchPattern(pattern, value, selector);\n          return { matched, selections };\n        },\n        getSelectionKeys: () => getSelectionKeys(pattern),\n        matcherType: 'optional',\n      };\n    },\n  });\n}\n\ntype UnwrapArray<xs> = xs extends readonly (infer x)[] ? x : never;\n\ntype UnwrapSet<xs> = xs extends Set<infer x> ? x : never;\n\ntype UnwrapMapKey<xs> = xs extends Map<infer k, any> ? k : never;\n\ntype UnwrapMapValue<xs> = xs extends Map<any, infer v> ? v : never;\n\ntype WithDefault<a, b> = [a] extends [never] ? b : a;\n\n/**\n * `P.array(subpattern)` takes a sub pattern and returns a pattern, which matches\n * arrays if all their elements match the sub pattern.\n *\n * [Read the documentation for `P.array` on GitHub](https://github.com/gvergnaud/ts-pattern#parray-patterns)\n *\n * @example\n *  match(value)\n *   .with({ users: P.array({ name: P.string }) }, () => 'will match { name: string }[]')\n */\nexport function array<input>(): ArrayChainable<ArrayP<input, unknown>>;\nexport function array<\n  input,\n  const pattern extends Pattern<WithDefault<UnwrapArray<input>, unknown>>\n>(pattern: pattern): ArrayChainable<ArrayP<input, pattern>>;\nexport function array(\n  ...args: [pattern?: any]\n): ArrayChainable<ArrayP<any, any>> {\n  return arrayChainable({\n    [matcher]() {\n      return {\n        match: (value: any) => {\n          if (!Array.isArray(value)) return { matched: false };\n\n          if (args.length === 0) return { matched: true };\n\n          const pattern = args[0];\n          let selections: Record<string, unknown[]> = {};\n\n          if (value.length === 0) {\n            getSelectionKeys(pattern).forEach((key) => {\n              selections[key] = [];\n            });\n            return { matched: true, selections };\n          }\n\n          const selector = (key: string, value: unknown) => {\n            selections[key] = (selections[key] || []).concat([value]);\n          };\n\n          const matched = value.every((v) =>\n            matchPattern(pattern, v, selector)\n          );\n\n          return { matched, selections };\n        },\n        getSelectionKeys: () =>\n          args.length === 0 ? [] : getSelectionKeys(args[0]),\n      };\n    },\n  });\n}\n\n/**\n * `P.set(subpattern)` takes a sub pattern and returns a pattern that matches\n * sets if all their elements match the sub pattern.\n *\n * [Read `P.set` documentation on GitHub](https://github.com/gvergnaud/ts-pattern#pset-patterns)\n *\n * @example\n *  match(value)\n *   .with({ users: P.set(P.string) }, () => 'will match Set<string>')\n */\nexport function set<input>(): Chainable<SetP<input, unknown>>;\nexport function set<\n  input,\n  const pattern extends Pattern<WithDefault<UnwrapSet<input>, unknown>>\n>(pattern: pattern): Chainable<SetP<input, pattern>>;\nexport function set<\n  input,\n  const pattern extends Pattern<WithDefault<UnwrapSet<input>, unknown>>\n>(...args: [pattern?: pattern]): Chainable<SetP<input, pattern>> {\n  return chainable({\n    [matcher]() {\n      return {\n        match: <UnknownInput>(value: UnknownInput | input) => {\n          if (!(value instanceof Set)) return { matched: false };\n\n          let selections: Record<string, unknown[]> = {};\n\n          if (value.size === 0) {\n            return { matched: true, selections };\n          }\n\n          if (args.length === 0) return { matched: true };\n\n          const selector = (key: string, value: unknown) => {\n            selections[key] = (selections[key] || []).concat([value]);\n          };\n\n          const pattern = args[0];\n\n          const matched = setEvery(value, (v) =>\n            matchPattern(pattern, v, selector)\n          );\n\n          return { matched, selections };\n        },\n        getSelectionKeys: () =>\n          args.length === 0 ? [] : getSelectionKeys(args[0]),\n      };\n    },\n  });\n}\n\nconst setEvery = <T>(set: Set<T>, predicate: (value: T) => boolean) => {\n  for (const value of set) {\n    if (predicate(value)) continue;\n    return false;\n  }\n  return true;\n};\n\n/**\n * `P.map(keyPattern, valuePattern)` takes a subpattern to match against the\n * key, a subpattern to match against the value and returns a pattern that\n * matches on maps where all elements inside the map match those two\n * subpatterns.\n *\n * [Read `P.map` documentation on GitHub](https://github.com/gvergnaud/ts-pattern#pmap-patterns)\n *\n * @example\n *  match(value)\n *   .with({ users: P.map(P.map(P.string, P.number)) }, (map) => `map's type is Map<string, number>`)\n */\nexport function map<input>(): Chainable<MapP<input, unknown, unknown>>;\nexport function map<\n  input,\n  const pkey extends Pattern<WithDefault<UnwrapMapKey<input>, unknown>>,\n  const pvalue extends Pattern<WithDefault<UnwrapMapValue<input>, unknown>>\n>(patternKey: pkey, patternValue: pvalue): Chainable<MapP<input, pkey, pvalue>>;\nexport function map<\n  input,\n  const pkey extends Pattern<WithDefault<UnwrapMapKey<input>, unknown>>,\n  const pvalue extends Pattern<WithDefault<UnwrapMapValue<input>, unknown>>\n>(\n  ...args: [patternKey?: pkey, patternValue?: pvalue]\n): Chainable<MapP<input, pkey, pvalue>> {\n  return chainable({\n    [matcher]() {\n      return {\n        match: <UnknownInput>(value: UnknownInput | input) => {\n          if (!(value instanceof Map)) return { matched: false };\n\n          let selections: Record<string, unknown[]> = {};\n\n          if (value.size === 0) {\n            return { matched: true, selections };\n          }\n\n          const selector = (key: string, value: unknown) => {\n            selections[key] = (selections[key] || []).concat([value]);\n          };\n\n          if (args.length === 0) return { matched: true };\n          if (args.length === 1) {\n            throw new Error(\n              `\\`P.map\\` wasn\\'t given enough arguments. Expected (key, value), received ${args[0]?.toString()}`\n            );\n          }\n          const [patternKey, patternValue] = args;\n\n          const matched = mapEvery(value, (v, k) => {\n            const keyMatch = matchPattern(patternKey, k, selector);\n            const valueMatch = matchPattern(patternValue, v, selector);\n            return keyMatch && valueMatch;\n          });\n\n          return { matched, selections };\n        },\n        getSelectionKeys: () =>\n          args.length === 0\n            ? []\n            : [...getSelectionKeys(args[0]), ...getSelectionKeys(args[1])],\n      };\n    },\n  });\n}\n\nconst mapEvery = <K, T>(\n  map: Map<K, T>,\n  predicate: (value: T, key: K) => boolean\n) => {\n  for (const [key, value] of map.entries()) {\n    if (predicate(value, key)) continue;\n    return false;\n  }\n  return true;\n};\n\n/**\n * `P.intersection(...patterns)` returns a pattern which matches\n * only if **every** patterns provided in parameter match the input.\n *\n * [Read the documentation for `P.intersection` on GitHub](https://github.com/gvergnaud/ts-pattern#pintersection-patterns)\n *\n * @example\n *  match(value)\n *   .with(\n *     {\n *       user: P.intersection(\n *         { firstname: P.string },\n *         { lastname: P.string },\n *         { age: P.when(age => age > 21) }\n *       )\n *     },\n *     ({ user }) => 'will match { firstname: string, lastname: string, age: number } if age > 21'\n *   )\n */\nexport function intersection<\n  input,\n  const patterns extends readonly [Pattern<input>, ...Pattern<input>[]]\n>(...patterns: patterns): Chainable<AndP<input, patterns>> {\n  return chainable({\n    [matcher]: () => ({\n      match: (value) => {\n        let selections: Record<string, unknown[]> = {};\n        const selector = (key: string, value: any) => {\n          selections[key] = value;\n        };\n        const matched = (patterns as readonly UnknownPattern[]).every((p) =>\n          matchPattern(p, value, selector)\n        );\n        return { matched, selections };\n      },\n      getSelectionKeys: () =>\n        flatMap(patterns as readonly UnknownPattern[], getSelectionKeys),\n      matcherType: 'and',\n    }),\n  });\n}\n\n/**\n * `P.union(...patterns)` returns a pattern which matches\n * if **at least one** of the patterns provided in parameter match the input.\n *\n * [Read the documentation for `P.union` on GitHub](https://github.com/gvergnaud/ts-pattern#punion-patterns)\n *\n * @example\n *  match(value)\n *   .with(\n *     { type: P.union('a', 'b', 'c') },\n *     ({ type }) => 'will match { type: \"a\" | \"b\" | \"c\" }'\n *   )\n */\nexport function union<\n  input,\n  const patterns extends readonly [Pattern<input>, ...Pattern<input>[]]\n>(...patterns: patterns): Chainable<OrP<input, patterns>> {\n  return chainable({\n    [matcher]: () => ({\n      match: <UnknownInput>(value: UnknownInput | input) => {\n        let selections: Record<string, unknown[]> = {};\n        const selector = (key: string, value: any) => {\n          selections[key] = value;\n        };\n        flatMap(\n          patterns as readonly UnknownPattern[],\n          getSelectionKeys\n        ).forEach((key) => selector(key, undefined));\n        const matched = (patterns as readonly UnknownPattern[]).some((p) =>\n          matchPattern(p, value, selector)\n        );\n        return { matched, selections };\n      },\n      getSelectionKeys: () =>\n        flatMap(patterns as readonly UnknownPattern[], getSelectionKeys),\n      matcherType: 'or',\n    }),\n  });\n}\n\n/**\n * `P.not(pattern)` returns a pattern which matches if the sub pattern\n * doesn't match.\n *\n * [Read the documentation for `P.not` on GitHub](https://github.com/gvergnaud/ts-pattern#pnot-patterns)\n *\n * @example\n *  match<{ a: string | number }>(value)\n *   .with({ a: P.not(P.string) }, (x) => 'will match { a: number }'\n *   )\n */\n\nexport function not<\n  input,\n  const pattern extends Pattern<input> | UnknownPattern\n>(pattern: pattern): Chainable<NotP<input, pattern>> {\n  return chainable({\n    [matcher]: () => ({\n      match: <UnknownInput>(value: UnknownInput | input) => ({\n        matched: !matchPattern(pattern, value, () => {}),\n      }),\n      getSelectionKeys: () => [],\n      matcherType: 'not',\n    }),\n  });\n}\n\n/**\n * `P.when((value) => boolean)` returns a pattern which matches\n * if the predicate returns true for the current input.\n *\n * [Read the documentation for `P.when` on GitHub](https://github.com/gvergnaud/ts-pattern#pwhen-patterns)\n *\n * @example\n *  match<{ age: number }>(value)\n *   .with({ age: P.when(age => age > 21) }, (x) => 'will match if value.age > 21'\n *   )\n */\nexport function when<input, predicate extends (value: input) => unknown>(\n  predicate: predicate\n): GuardP<\n  input,\n  predicate extends (value: any) => value is infer narrowed ? narrowed : never\n>;\nexport function when<input, narrowed extends input, excluded>(\n  predicate: (input: input) => input is narrowed\n): GuardExcludeP<input, narrowed, excluded>;\nexport function when<input, predicate extends (value: input) => unknown>(\n  predicate: predicate\n): GuardP<\n  input,\n  predicate extends (value: any) => value is infer narrowed ? narrowed : never\n> {\n  return {\n    [matcher]: () => ({\n      match: <UnknownInput>(value: UnknownInput | input) => ({\n        matched: Boolean(predicate(value as input)),\n      }),\n    }),\n  };\n}\n\n/**\n * `P.select()` is a pattern which will always match,\n * and will inject the selected piece of input in the handler function.\n *\n * [Read the documentation for `P.select` on GitHub](https://github.com/gvergnaud/ts-pattern#pselect-patterns)\n *\n * @example\n *  match<{ age: number }>(value)\n *   .with({ age: P.select() }, (age) => 'age: number'\n *   )\n */\nexport function select(): Chainable<AnonymousSelectP, 'select' | 'or' | 'and'>;\nexport function select<\n  input,\n  const patternOrKey extends\n    | string\n    | (unknown extends input ? UnknownPattern : Pattern<input>)\n>(\n  patternOrKey: patternOrKey\n): patternOrKey extends string\n  ? Chainable<SelectP<patternOrKey, 'select' | 'or' | 'and'>>\n  : Chainable<\n      SelectP<symbols.anonymousSelectKey, input, patternOrKey>,\n      'select' | 'or' | 'and'\n    >;\nexport function select<\n  input,\n  const pattern extends unknown extends input ? UnknownPattern : Pattern<input>,\n  const k extends string\n>(\n  key: k,\n  pattern: pattern\n): Chainable<SelectP<k, input, pattern>, 'select' | 'or' | 'and'>;\nexport function select(\n  ...args: [keyOrPattern?: unknown | string, pattern?: unknown]\n): Chainable<SelectP<string>, 'select' | 'or' | 'and'> {\n  const key: string | undefined =\n    typeof args[0] === 'string' ? args[0] : undefined;\n  const pattern: unknown =\n    args.length === 2\n      ? args[1]\n      : typeof args[0] === 'string'\n      ? undefined\n      : args[0];\n  return chainable({\n    [matcher]() {\n      return {\n        match: (value) => {\n          let selections: Record<string, unknown> = {\n            [key ?? symbols.anonymousSelectKey]: value,\n          };\n          const selector = (key: string, value: any) => {\n            selections[key] = value;\n          };\n          return {\n            matched:\n              pattern === undefined\n                ? true\n                : matchPattern(pattern, value, selector),\n            selections: selections,\n          };\n        },\n        getSelectionKeys: () =>\n          [key ?? symbols.anonymousSelectKey].concat(\n            pattern === undefined ? [] : getSelectionKeys(pattern)\n          ),\n      };\n    },\n  });\n}\n\nfunction isUnknown(x: unknown): x is unknown {\n  return true;\n}\n\nfunction isNumber<T>(x: T | number): x is number {\n  return typeof x === 'number';\n}\n\nfunction isString<T>(x: T | string): x is string {\n  return typeof x === 'string';\n}\n\nfunction isBoolean<T>(x: T | boolean): x is boolean {\n  return typeof x === 'boolean';\n}\n\nfunction isBigInt<T>(x: T | bigint): x is bigint {\n  return typeof x === 'bigint';\n}\n\nfunction isSymbol<T>(x: T | symbol): x is symbol {\n  return typeof x === 'symbol';\n}\n\nfunction isNullish<T>(x: T | null | undefined): x is null | undefined {\n  return x === null || x === undefined;\n}\n\nfunction isNonNullable(x: unknown): x is {} {\n  return x !== null && x !== undefined;\n}\n\ntype AnyConstructor = abstract new (...args: any[]) => any;\n\nfunction isInstanceOf<T extends AnyConstructor>(classConstructor: T) {\n  return (val: unknown): val is InstanceType<T> =>\n    val instanceof classConstructor;\n}\n\n/**\n * `P.any` is a wildcard pattern, matching **any value**.\n *\n * [Read the documentation for `P.any` on GitHub](https://github.com/gvergnaud/ts-pattern#p_-wildcard)\n *\n * @example\n *  match(value)\n *   .with(P.any, () => 'will always match')\n */\nexport const any: AnyPattern = chainable(when(isUnknown));\n\n/**\n * `P._` is a wildcard pattern, matching **any value**.\n * It's an alias to `P.any`.\n *\n * [Read the documentation for `P._` on GitHub](https://github.com/gvergnaud/ts-pattern#p_-wildcard)\n *\n * @example\n *  match(value)\n *   .with(P._, () => 'will always match')\n */\nexport const _ = any;\n\n/**\n * `P.string.startsWith(start)` is a pattern, matching **strings** starting with `start`.\n *\n * [Read the documentation for `P.string.startsWith` on GitHub](https://github.com/gvergnaud/ts-pattern#pstringstartsWith)\n *\n * @example\n *  match(value)\n *   .with(P.string.startsWith('A'), () => 'value starts with an A')\n */\n\nconst startsWith = <input, const start extends string>(\n  start: start\n): GuardP<input, `${start}${string}`> =>\n  when((value) => isString(value) && value.startsWith(start));\n\n/**\n * `P.string.endsWith(end)` is a pattern, matching **strings** ending with `end`.\n *\n * [Read the documentation for `P.string.endsWith` on GitHub](https://github.com/gvergnaud/ts-pattern#pstringendsWith)\n *\n * @example\n *  match(value)\n *   .with(P.string.endsWith('!'), () => 'value ends with an !')\n */\nconst endsWith = <input, const end extends string>(\n  end: end\n): GuardP<input, `${string}${end}`> =>\n  when((value) => isString(value) && value.endsWith(end));\n\n/**\n * `P.string.minLength(min)` is a pattern, matching **strings** with at least `min` characters.\n *\n * [Read the documentation for `P.string.minLength` on GitHub](https://github.com/gvergnaud/ts-pattern#pstringminLength)\n *\n * @example\n *  match(value)\n *   .with(P.string.minLength(10), () => 'string with more length >= 10')\n */\nconst minLength = <const min extends number>(min: min) =>\n  when((value) => isString(value) && value.length >= min);\n\n/**\n * `P.string.length(len)` is a pattern, matching **strings** with exactly `len` characters.\n *\n * [Read the documentation for `P.string.length` on GitHub](https://github.com/gvergnaud/ts-pattern#pstringlength)\n *\n * @example\n *  match(value)\n *   .with(P.string.length(10), () => 'strings with length === 10')\n */\nconst length = <const len extends number>(len: len) =>\n  when((value) => isString(value) && value.length === len);\n\n/**\n * `P.string.maxLength(max)` is a pattern, matching **strings** with at most `max` characters.\n *\n * [Read the documentation for `P.string.maxLength` on GitHub](https://github.com/gvergnaud/ts-pattern#pstringmaxLength)\n *\n * @example\n *  match(value)\n *   .with(P.string.maxLength(10), () => 'string with more length <= 10')\n */\nconst maxLength = <const max extends number>(max: max) =>\n  when((value) => isString(value) && value.length <= max);\n\n/**\n * `P.string.includes(substr)` is a pattern, matching **strings** containing `substr`.\n *\n * [Read the documentation for `P.string.includes` on GitHub](https://github.com/gvergnaud/ts-pattern#pstringincludes)\n *\n * @example\n *  match(value)\n *   .with(P.string.includes('http'), () => 'value contains http')\n */\nconst includes = <input, const substr extends string>(\n  substr: substr\n): GuardExcludeP<input, string, never> =>\n  when((value) => isString(value) && value.includes(substr));\n\n/**\n * `P.string.regex(expr)` is a pattern, matching **strings** that `expr` regular expression.\n *\n * [Read the documentation for `P.string.regex` on GitHub](https://github.com/gvergnaud/ts-pattern#pstringregex)\n *\n * @example\n *  match(value)\n *   .with(P.string.regex(/^https?:\\/\\//), () => 'url')\n */\nconst regex = <input, const expr extends string | RegExp>(\n  expr: expr\n): GuardExcludeP<input, string, never> =>\n  when((value) => isString(value) && Boolean(value.match(expr)));\n\nconst stringChainable = <pattern extends Matcher<any, any, any, any, any>>(\n  pattern: pattern\n): StringChainable<pattern> =>\n  Object.assign(chainable(pattern), {\n    startsWith: (str: string) =>\n      stringChainable(intersection(pattern, startsWith(str))),\n    endsWith: (str: string) =>\n      stringChainable(intersection(pattern, endsWith(str))),\n    minLength: (min: number) =>\n      stringChainable(intersection(pattern, minLength(min))),\n    length: (len: number) =>\n      stringChainable(intersection(pattern, length(len))),\n    maxLength: (max: number) =>\n      stringChainable(intersection(pattern, maxLength(max))),\n    includes: (str: string) =>\n      stringChainable(intersection(pattern, includes(str))),\n    regex: (str: string) => stringChainable(intersection(pattern, regex(str))),\n  }) as any;\n\n/**\n * `P.string` is a wildcard pattern, matching any **string**.\n *\n * [Read the documentation for `P.string` on GitHub](https://github.com/gvergnaud/ts-pattern#pstring-wildcard)\n *\n * @example\n *  match(value)\n *   .with(P.string, () => 'will match on strings')\n */\nexport const string: StringPattern = stringChainable(when(isString));\n\n/**\n * `P.number.between(min, max)` matches **numbers** between `min` and `max`,\n * equal to min or equal to max.\n *\n * [Read the documentation for `P.number.between` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberbetween)\n *\n * @example\n *  match(value)\n *   .with(P.number.between(0, 10), () => '0 <= numbers <= 10')\n */\nconst between = <input, const min extends number, const max extends number>(\n  min: min,\n  max: max\n): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && min <= value && max >= value);\n\n/**\n * `P.number.lt(max)` matches **numbers** smaller than `max`.\n *\n * [Read the documentation for `P.number.lt` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberlt)\n *\n * @example\n *  match(value)\n *   .with(P.number.lt(10), () => 'numbers < 10')\n */\nconst lt = <input, const max extends number>(\n  max: max\n): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && value < max);\n\n/**\n * `P.number.gt(min)` matches **numbers** greater than `min`.\n *\n * [Read the documentation for `P.number.gt` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumbergt)\n *\n * @example\n *  match(value)\n *   .with(P.number.gt(10), () => 'numbers > 10')\n */\nconst gt = <input, const min extends number>(\n  min: min\n): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && value > min);\n\n/**\n * `P.number.lte(max)` matches **numbers** smaller than or equal to `max`.\n *\n * [Read the documentation for `P.number.lte` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberlte)\n *\n * @example\n *  match(value)\n *   .with(P.number.lte(10), () => 'numbers <= 10')\n */\nconst lte = <input, const max extends number>(\n  max: max\n): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && value <= max);\n\n/**\n * `P.number.gte(min)` matches **numbers** greater than or equal to `min`.\n *\n * [Read the documentation for `P.number.gte` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumbergte)\n *\n * @example\n *  match(value)\n *   .with(P.number.gte(10), () => 'numbers >= 10')\n */\nconst gte = <input, const min extends number>(\n  min: min\n): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && value >= min);\n\n/**\n * `P.number.int()` matches **integer** numbers.\n *\n * [Read the documentation for `P.number.int()` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberint)\n *\n * @example\n *  match(value)\n *   .with(P.number.int(), () => 'an integer')\n */\nconst int = <input>(): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && Number.isInteger(value));\n\n/**\n * `P.number.finite` matches **finite numbers**.\n *\n * [Read the documentation for `P.number.finite` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberfinite)\n *\n * @example\n *  match(value)\n *   .with(P.number.finite, () => 'not Infinity')\n */\nconst finite = <input>(): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && Number.isFinite(value));\n\n/**\n * `P.number.positive()` matches **positive** numbers.\n *\n * [Read the documentation for `P.number.positive()` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberpositive)\n *\n * @example\n *  match(value)\n *   .with(P.number.positive(), () => 'number > 0')\n */\nconst positive = <input>(): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && value > 0);\n\n/**\n * `P.number.negative()` matches **negative** numbers.\n *\n * [Read the documentation for `P.number.negative()` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumbernegative)\n *\n * @example\n *  match(value)\n *   .with(P.number.negative(), () => 'number < 0')\n */\nconst negative = <input>(): GuardExcludeP<input, number, never> =>\n  when((value) => isNumber(value) && value < 0);\n\nconst numberChainable = <pattern extends Matcher<any, any, any, any, any>>(\n  pattern: pattern\n): NumberChainable<pattern> =>\n  Object.assign(chainable(pattern), {\n    between: (min: number, max: number) =>\n      numberChainable(intersection(pattern, between(min, max))),\n    lt: (max: number) => numberChainable(intersection(pattern, lt(max))),\n    gt: (min: number) => numberChainable(intersection(pattern, gt(min))),\n    lte: (max: number) => numberChainable(intersection(pattern, lte(max))),\n    gte: (min: number) => numberChainable(intersection(pattern, gte(min))),\n    int: () => numberChainable(intersection(pattern, int())),\n    finite: () => numberChainable(intersection(pattern, finite())),\n    positive: () => numberChainable(intersection(pattern, positive())),\n    negative: () => numberChainable(intersection(pattern, negative())),\n  }) as any;\n\n/**\n * `P.number` is a wildcard pattern, matching any **number**.\n *\n * [Read the documentation for `P.number` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumber-wildcard)\n *\n * @example\n *  match(value)\n *   .with(P.number, () => 'will match on numbers')\n */\nexport const number: NumberPattern = numberChainable(when(isNumber));\n\n/**\n * `P.bigint.between(min, max)` matches **bigint** between `min` and `max`,\n * equal to min or equal to max.\n *\n * [Read the documentation for `P.bigint.between` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberbetween)\n *\n * @example\n *  match(value)\n *   .with(P.bigint.between(0, 10), () => '0 <= bigints <= 10')\n */\nconst betweenBigInt = <\n  input,\n  const min extends bigint,\n  const max extends bigint\n>(\n  min: min,\n  max: max\n): GuardExcludeP<input, bigint, never> =>\n  when((value) => isBigInt(value) && min <= value && max >= value);\n\n/**\n * `P.bigint.lt(max)` matches **bigint** smaller than `max`.\n *\n * [Read the documentation for `P.bigint.lt` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberlt)\n *\n * @example\n *  match(value)\n *   .with(P.bigint.lt(10), () => 'bigints < 10')\n */\nconst ltBigInt = <input, const max extends bigint>(\n  max: max\n): GuardExcludeP<input, bigint, never> =>\n  when((value) => isBigInt(value) && value < max);\n\n/**\n * `P.bigint.gt(min)` matches **bigint** greater than `min`.\n *\n * [Read the documentation for `P.bigint.gt` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumbergt)\n *\n * @example\n *  match(value)\n *   .with(P.bigint.gt(10), () => 'bigints > 10')\n */\nconst gtBigInt = <input, const min extends bigint>(\n  min: min\n): GuardExcludeP<input, bigint, never> =>\n  when((value) => isBigInt(value) && value > min);\n\n/**\n * `P.bigint.lte(max)` matches **bigint** smaller than or equal to `max`.\n *\n * [Read the documentation for `P.bigint.lte` on GitHub](https://github.com/gvergnaud/ts-pattern#pnumberlte)\n *\n * @example\n *  match(value)\n *   .with(P.bigint.lte(10), () => 'bigints <= 10')\n */\nconst lteBigInt = <input, const max extends bigint>(\n  max: max\n): GuardExcludeP<input, bigint, never> =>\n  when((value) => isBigInt(value) && value <= max);\n\n/**\n * `P.bigint.gte(min)` matches **bigint** greater than or equal to `min`.\n *\n * [Read the documentation for `P.bigint.gte` on GitHub](https://github.com/gvergnaud/ts-pattern#pbigintgte)\n *\n * @example\n *  match(value)\n *   .with(P.bigint.gte(10), () => 'bigints >= 10')\n */\nconst gteBigInt = <input, const min extends bigint>(\n  min: min\n): GuardExcludeP<input, bigint, never> =>\n  when((value) => isBigInt(value) && value >= min);\n\n/**\n * `P.bigint.positive()` matches **positive** bigints.\n *\n * [Read the documentation for `P.bigint.positive()` on GitHub](https://github.com/gvergnaud/ts-pattern#pbigintpositive)\n *\n * @example\n *  match(value)\n *   .with(P.bigint.positive(), () => 'bigint > 0')\n */\nconst positiveBigInt = <input>(): GuardExcludeP<input, bigint, never> =>\n  when((value) => isBigInt(value) && value > 0);\n\n/**\n * `P.bigint.negative()` matches **negative** bigints.\n *\n * [Read the documentation for `P.bigint.negative()` on GitHub](https://github.com/gvergnaud/ts-pattern#pbigintnegative)\n *\n * @example\n *  match(value)\n *   .with(P.bigint.negative(), () => 'bigint < 0')\n */\nconst negativeBigInt = <input>(): GuardExcludeP<input, bigint, never> =>\n  when((value) => isBigInt(value) && value < 0);\n\nconst bigintChainable = <pattern extends Matcher<any, any, any, any, any>>(\n  pattern: pattern\n): BigIntChainable<pattern> =>\n  Object.assign(chainable(pattern), {\n    between: (min: bigint, max: bigint) =>\n      bigintChainable(intersection(pattern, betweenBigInt(min, max))),\n    lt: (max: bigint) => bigintChainable(intersection(pattern, ltBigInt(max))),\n    gt: (min: bigint) => bigintChainable(intersection(pattern, gtBigInt(min))),\n    lte: (max: bigint) =>\n      bigintChainable(intersection(pattern, lteBigInt(max))),\n    gte: (min: bigint) =>\n      bigintChainable(intersection(pattern, gteBigInt(min))),\n    positive: () => bigintChainable(intersection(pattern, positiveBigInt())),\n    negative: () => bigintChainable(intersection(pattern, negativeBigInt())),\n  }) as any;\n\n/**\n * `P.bigint` is a wildcard pattern, matching any **bigint**.\n *\n * [Read the documentation for `P.bigint` on GitHub](https://github.com/gvergnaud/ts-pattern#number-wildcard)\n *\n * @example\n *   .with(P.bigint, () => 'will match on bigints')\n */\nexport const bigint: BigIntPattern = bigintChainable(when(isBigInt));\n\n/**\n * `P.boolean` is a wildcard pattern, matching any **boolean**.\n *\n * [Read the documentation for `P.boolean` on GitHub](https://github.com/gvergnaud/ts-pattern#boolean-wildcard)\n *\n * @example\n *   .with(P.boolean, () => 'will match on booleans')\n */\nexport const boolean: BooleanPattern = chainable(when(isBoolean));\n\n/**\n * `P.symbol` is a wildcard pattern, matching any **symbol**.\n *\n * [Read the documentation for `P.symbol` on GitHub](https://github.com/gvergnaud/ts-pattern#symbol-wildcard)\n *\n * @example\n *   .with(P.symbol, () => 'will match on symbols')\n */\nexport const symbol: SymbolPattern = chainable(when(isSymbol));\n\n/**\n * `P.nullish` is a wildcard pattern, matching **null** or **undefined**.\n *\n * [Read the documentation for `P.nullish` on GitHub](https://github.com/gvergnaud/ts-pattern#nullish-wildcard)\n *\n * @example\n *   .with(P.nullish, (x) => `${x} is null or undefined`)\n */\nexport const nullish: NullishPattern = chainable(when(isNullish));\n\n/**\n * `P.nonNullable` is a wildcard pattern, matching everything except **null** or **undefined**.\n *\n * [Read the documentation for `P.nonNullable` on GitHub](https://github.com/gvergnaud/ts-pattern#nonNullable-wildcard)\n *\n * @example\n *   .with(P.nonNullable, (x) => `${x} isn't null nor undefined`)\n */\nexport const nonNullable: NonNullablePattern = chainable(when(isNonNullable));\n\n/**\n * `P.instanceOf(SomeClass)` is a pattern matching instances of a given class.\n *\n * [Read the documentation for `P.instanceOf` on GitHub](https://github.com/gvergnaud/ts-pattern#pinstanceof-patterns)\n *\n *  @example\n *   .with(P.instanceOf(SomeClass), () => 'will match on SomeClass instances')\n */\nexport function instanceOf<T extends AnyConstructor>(\n  classConstructor: T\n): Chainable<GuardP<unknown, InstanceType<T>>> {\n  return chainable(when(isInstanceOf(classConstructor)));\n}\n\n/**\n * `P.shape(somePattern)` lets you call methods like `.optional()`, `.and`, `.or` and `.select()`\n * On structural patterns, like objects and arrays.\n *\n * [Read the documentation for `P.shape` on GitHub](https://github.com/gvergnaud/ts-pattern#pshape-patterns)\n *\n *  @example\n *   .with(\n *     {\n *       state: P.shape({ status: \"success\" }).optional().select()\n *     },\n *     (state) => 'match the success state, or undefined.'\n *   )\n */\nexport function shape<input, const pattern extends Pattern<input>>(\n  pattern: pattern\n): Chainable<GuardP<input, InvertPattern<pattern, input>>>;\nexport function shape(pattern: UnknownPattern) {\n  return chainable(when(isMatching(pattern)));\n}\n","/**\n * Error when the given input value does not match any included pattern\n * and .exhaustive() was specified\n */\nexport class NonExhaustiveError extends Error {\n  constructor(public input: unknown) {\n    let displayedValue;\n    try {\n      displayedValue = JSON.stringify(input);\n    } catch (e) {\n      displayedValue = input;\n    }\n    super(`Pattern matching error: no pattern matches value ${displayedValue}`);\n  }\n}\n","import { Pattern } from './types/Pattern';\nimport { Match } from './types/Match';\nimport * as symbols from './internals/symbols';\nimport { matchPattern } from './internals/helpers';\nimport { NonExhaustiveError } from './errors';\n\ntype MatchState<output> =\n  | { matched: true; value: output }\n  | { matched: false; value: undefined };\n\nconst unmatched: MatchState<never> = {\n  matched: false,\n  value: undefined,\n};\n\n/**\n * `match` creates a **pattern matching expression**.\n *  * Use `.with(pattern, handler)` to pattern match on the input.\n *  * Use `.exhaustive()` or `.otherwise(() => defaultValue)` to end the expression and get the result.\n *\n * [Read the documentation for `match` on GitHub](https://github.com/gvergnaud/ts-pattern#match)\n *\n * @example\n *  declare let input: \"A\" | \"B\";\n *\n *  return match(input)\n *    .with(\"A\", () => \"It's an A!\")\n *    .with(\"B\", () => \"It's a B!\")\n *    .exhaustive();\n *\n */\nexport function match<const input, output = symbols.unset>(\n  value: input\n): Match<input, output> {\n  return new MatchExpression(value, unmatched) as any;\n}\n\n/**\n * This class represents a match expression. It follows the\n * builder pattern, we chain methods to add features to the expression\n * until we call `.exhaustive`, `.otherwise` or the unsafe `.run`\n * method to execute it.\n *\n * The types of this class aren't public, the public type definition\n * can be found in src/types/Match.ts.\n */\nclass MatchExpression<input, output> {\n  constructor(private input: input, private state: MatchState<output>) {}\n\n  with(...args: any[]): MatchExpression<input, output> {\n    if (this.state.matched) return this;\n\n    const handler: (selection: unknown, value: input) => output =\n      args[args.length - 1];\n\n    const patterns: Pattern<input>[] = [args[0]];\n    let predicate: ((value: input) => unknown) | undefined = undefined;\n\n    if (args.length === 3 && typeof args[1] === 'function') {\n      // case with guard as second argument\n      predicate = args[1];\n    } else if (args.length > 2) {\n      // case with several patterns\n      patterns.push(...args.slice(1, args.length - 1));\n    }\n\n    let hasSelections = false;\n    let selected: Record<string, unknown> = {};\n    const select = (key: string, value: unknown) => {\n      hasSelections = true;\n      selected[key] = value;\n    };\n\n    const matched =\n      patterns.some((pattern) => matchPattern(pattern, this.input, select)) &&\n      (predicate ? Boolean(predicate(this.input)) : true);\n\n    const selections = hasSelections\n      ? symbols.anonymousSelectKey in selected\n        ? selected[symbols.anonymousSelectKey]\n        : selected\n      : this.input;\n\n    const state = matched\n      ? {\n          matched: true as const,\n          value: handler(selections, this.input),\n        }\n      : unmatched;\n\n    return new MatchExpression(this.input, state);\n  }\n\n  when(\n    predicate: (value: input) => unknown,\n    handler: (selection: input, value: input) => output\n  ): MatchExpression<input, output> {\n    if (this.state.matched) return this;\n\n    const matched = Boolean(predicate(this.input));\n\n    return new MatchExpression<input, output>(\n      this.input,\n      matched\n        ? { matched: true, value: handler(this.input, this.input) }\n        : unmatched\n    );\n  }\n\n  otherwise(handler: (value: input) => output): output {\n    if (this.state.matched) return this.state.value;\n    return handler(this.input);\n  }\n\n  exhaustive(): output {\n    if (this.state.matched) return this.state.value;\n\n    throw new NonExhaustiveError(this.input);\n  }\n\n  run(): output {\n    return this.exhaustive();\n  }\n\n  returnType() {\n    return this;\n  }\n}\n"],"names":["matcher","Symbol","for","isVariadic","anonymousSelectKey","isObject","value","Boolean","isMatcher","x","symbols","matchPattern","pattern","select","matched","selections","match","Object","keys","forEach","key","Array","isArray","startPatterns","endPatterns","variadicPatterns","i","subpattern","push","length","Error","startValues","slice","endValues","middleValues","Infinity","every","subPattern","Reflect","ownKeys","k","matcherType","is","getSelectionKeys","_pattern$symbols$matc","_pattern$symbols$matc2","_pattern$symbols$matc3","call","flatMap","values","xs","f","reduce","acc","concat","isMatching","args","chainable","assign","optional","and","p2","intersection","or","union","undefined","arrayChainable","iterator","done","next","_values$i","at","variadic","selector","setEvery","set","predicate","mapEvery","map","entries","patterns","p","some","when","isNumber","isString","isBigInt","any","_","stringChainable","startsWith","str","start","endsWith","end","minLength","min","len","maxLength","max","includes","substr","regex","expr","string","numberChainable","between","lt","gt","lte","gte","int","Number","isInteger","finite","isFinite","positive","negative","number","bigintChainable","betweenBigInt","ltBigInt","gtBigInt","lteBigInt","gteBigInt","bigint","boolean","symbol","nullish","nonNullable","v","Set","size","Map","_args$","toString","patternKey","patternValue","keyMatch","valueMatch","classConstructor","val","isInstanceOf","NonExhaustiveError","constructor","input","displayedValue","JSON","stringify","e","super","this","unmatched","MatchExpression","state","with","handler","hasSelections","selected","otherwise","exhaustive","run","returnType"],"mappings":"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","ignoreList":[0,1,2,3,4,5],"debugId":null}},
    {"offset": {"line": 7265, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7270, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40upstash/core-analytics/dist/index.js"],"sourcesContent":["\"use strict\";var g=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var w=(l,e)=>{for(var t in e)g(l,t,{get:e[t],enumerable:!0})},A=(l,e,t,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of _(e))!y.call(l,s)&&s!==t&&g(l,s,{get:()=>e[s],enumerable:!(i=k(e,s))||i.enumerable});return l};var x=l=>A(g({},\"__esModule\",{value:!0}),l);var S={};w(S,{Analytics:()=>b});module.exports=x(S);var p=`\nlocal key = KEYS[1]\nlocal field = ARGV[1]\n\nlocal data = redis.call(\"ZRANGE\", key, 0, -1, \"WITHSCORES\")\nlocal count = {}\n\nfor i = 1, #data, 2 do\n  local json_str = data[i]\n  local score = tonumber(data[i + 1])\n  local obj = cjson.decode(json_str)\n\n  local fieldValue = obj[field]\n\n  if count[fieldValue] == nil then\n    count[fieldValue] = score\n  else\n    count[fieldValue] = count[fieldValue] + score\n  end\nend\n\nlocal result = {}\nfor k, v in pairs(count) do\n  table.insert(result, {k, v})\nend\n\nreturn result\n`,f=`\nlocal prefix = KEYS[1]\nlocal first_timestamp = tonumber(ARGV[1]) -- First timestamp to check\nlocal increment = tonumber(ARGV[2])       -- Increment between each timestamp\nlocal num_timestamps = tonumber(ARGV[3])  -- Number of timestampts to check (24 for a day and 24 * 7 for a week)\nlocal num_elements = tonumber(ARGV[4])    -- Number of elements to fetch in each category\nlocal check_at_most = tonumber(ARGV[5])   -- Number of elements to check at most.\n\nlocal keys = {}\nfor i = 1, num_timestamps do\n  local timestamp = first_timestamp - (i - 1) * increment\n  table.insert(keys, prefix .. \":\" .. timestamp)\nend\n\n-- get the union of the groups\nlocal zunion_params = {\"ZUNION\", num_timestamps, unpack(keys)}\ntable.insert(zunion_params, \"WITHSCORES\")\nlocal result = redis.call(unpack(zunion_params))\n\n-- select num_elements many items\nlocal true_group = {}\nlocal false_group = {}\nlocal denied_group = {}\nlocal true_count = 0\nlocal false_count = 0\nlocal denied_count = 0\nlocal i = #result - 1\n\n-- index to stop at after going through \"checkAtMost\" many items:\nlocal cutoff_index = #result - 2 * check_at_most\n\n-- iterate over the results\nwhile (true_count + false_count + denied_count) < (num_elements * 3) and 1 <= i and i >= cutoff_index do\n  local score = tonumber(result[i + 1])\n  if score > 0 then\n    local element = result[i]\n    if string.find(element, \"success\\\\\":true\") and true_count < num_elements then\n      table.insert(true_group, {score, element})\n      true_count = true_count + 1\n    elseif string.find(element, \"success\\\\\":false\") and false_count < num_elements then\n      table.insert(false_group, {score, element})\n      false_count = false_count + 1\n    elseif string.find(element, \"success\\\\\":\\\\\"denied\") and denied_count < num_elements then\n      table.insert(denied_group, {score, element})\n      denied_count = denied_count + 1\n    end\n  end\n  i = i - 2\nend\n\nreturn {true_group, false_group, denied_group}\n`,h=`\nlocal prefix = KEYS[1]\nlocal first_timestamp = tonumber(ARGV[1])\nlocal increment = tonumber(ARGV[2])\nlocal num_timestamps = tonumber(ARGV[3])\n\nlocal keys = {}\nfor i = 1, num_timestamps do\n  local timestamp = first_timestamp - (i - 1) * increment\n  table.insert(keys, prefix .. \":\" .. timestamp)\nend\n\n-- get the union of the groups\nlocal zunion_params = {\"ZUNION\", num_timestamps, unpack(keys)}\ntable.insert(zunion_params, \"WITHSCORES\")\nlocal result = redis.call(unpack(zunion_params))\n\nreturn result\n`;var b=class{redis;prefix;bucketSize;constructor(e){this.redis=e.redis,this.prefix=e.prefix??\"@upstash/analytics\",this.bucketSize=this.parseWindow(e.window)}validateTableName(e){if(!/^[a-zA-Z0-9_-]+$/.test(e))throw new Error(`Invalid table name: ${e}. Table names can only contain letters, numbers, dashes and underscores.`)}parseWindow(e){if(typeof e==\"number\"){if(e<=0)throw new Error(`Invalid window: ${e}`);return e}let t=/^(\\d+)([smhd])$/;if(!t.test(e))throw new Error(`Invalid window: ${e}`);let[,i,s]=e.match(t),n=parseInt(i);switch(s){case\"s\":return n*1e3;case\"m\":return n*1e3*60;case\"h\":return n*1e3*60*60;case\"d\":return n*1e3*60*60*24;default:throw new Error(`Invalid window unit: ${s}`)}}getBucket(e){let t=e??Date.now();return Math.floor(t/this.bucketSize)*this.bucketSize}async ingest(e,...t){this.validateTableName(e),await Promise.all(t.map(async i=>{let s=this.getBucket(i.time),n=[this.prefix,e,s].join(\":\");await this.redis.zincrby(n,1,JSON.stringify({...i,time:void 0}))}))}formatBucketAggregate(e,t,i){let s={};return e.forEach(([n,r])=>{t==\"success\"&&(n=n===1?\"true\":n===null?\"false\":n),s[t]=s[t]||{},s[t][(n??\"null\").toString()]=r}),{time:i,...s}}async aggregateBucket(e,t,i){this.validateTableName(e);let s=this.getBucket(i),n=[this.prefix,e,s].join(\":\"),r=await this.redis.eval(p,[n],[t]);return this.formatBucketAggregate(r,t,s)}async aggregateBuckets(e,t,i,s){this.validateTableName(e);let n=this.getBucket(s),r=[];for(let o=0;o<i;o+=1)r.push(this.aggregateBucket(e,t,n)),n=n-this.bucketSize;return Promise.all(r)}async aggregateBucketsWithPipeline(e,t,i,s,n){this.validateTableName(e),n=n??48;let r=this.getBucket(s),o=[],c=this.redis.pipeline(),u=[];for(let a=1;a<=i;a+=1){let d=[this.prefix,e,r].join(\":\");c.eval(p,[d],[t]),o.push(r),r=r-this.bucketSize,(a%n==0||a==i)&&(u.push(c.exec()),c=this.redis.pipeline())}return(await Promise.all(u)).flat().map((a,d)=>this.formatBucketAggregate(a,t,o[d]))}async getAllowedBlocked(e,t,i){this.validateTableName(e);let s=[this.prefix,e].join(\":\"),n=this.getBucket(i),r=await this.redis.eval(h,[s],[n,this.bucketSize,t]),o={};for(let c=0;c<r.length;c+=2){let u=r[c],m=u.identifier,a=+r[c+1];o[m]||(o[m]={success:0,blocked:0}),o[m][u.success?\"success\":\"blocked\"]=a}return o}async getMostAllowedBlocked(e,t,i,s,n){this.validateTableName(e);let r=[this.prefix,e].join(\":\"),o=this.getBucket(s),c=n??i*5,[u,m,a]=await this.redis.eval(f,[r],[o,this.bucketSize,t,i,c]);return{allowed:this.toDicts(u),ratelimited:this.toDicts(m),denied:this.toDicts(a)}}toDicts(e){let t=[];for(let i=0;i<e.length;i+=1){let s=+e[i][0],n=e[i][1];t.push({identifier:n.identifier,count:s})}return t}};0&&(module.exports={Analytics});\n"],"names":[],"mappings":"AAAA;AAAa,IAAI,IAAE,OAAO,cAAc;AAAC,IAAI,IAAE,OAAO,wBAAwB;AAAC,IAAI,IAAE,OAAO,mBAAmB;AAAC,IAAI,IAAE,OAAO,SAAS,CAAC,cAAc;AAAC,IAAI,IAAE,CAAC,GAAE;IAAK,IAAI,IAAI,KAAK,EAAE,EAAE,GAAE,GAAE;QAAC,KAAI,CAAC,CAAC,EAAE;QAAC,YAAW,CAAC;IAAC;AAAE,GAAE,IAAE,CAAC,GAAE,GAAE,GAAE;IAAK,IAAG,KAAG,OAAO,KAAG,YAAU,OAAO,KAAG,YAAW,KAAI,IAAI,KAAK,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,GAAE,MAAI,MAAI,KAAG,EAAE,GAAE,GAAE;QAAC,KAAI,IAAI,CAAC,CAAC,EAAE;QAAC,YAAW,CAAC,CAAC,IAAE,EAAE,GAAE,EAAE,KAAG,EAAE,UAAU;IAAA;IAAG,OAAO;AAAC;AAAE,IAAI,IAAE,CAAA,IAAG,EAAE,EAAE,CAAC,GAAE,cAAa;QAAC,OAAM,CAAC;IAAC,IAAG;AAAG,IAAI,IAAE,CAAC;AAAE,EAAE,GAAE;IAAC,WAAU,IAAI;AAAC;AAAG,OAAO,OAAO,GAAC,EAAE;AAAG,IAAI,IAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2Bpe,CAAC,EAAC,IAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDL,CAAC,EAAC,IAAE,CAAC;;;;;;;;;;;;;;;;;;AAkBL,CAAC;AAAC,IAAI,IAAE;IAAM,MAAM;IAAA,OAAO;IAAA,WAAW;IAAA,YAAY,CAAC,CAAC;QAAC,IAAI,CAAC,KAAK,GAAC,EAAE,KAAK,EAAC,IAAI,CAAC,MAAM,GAAC,EAAE,MAAM,IAAE,sBAAqB,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC,WAAW,CAAC,EAAE,MAAM;IAAC;IAAC,kBAAkB,CAAC,EAAC;QAAC,IAAG,CAAC,mBAAmB,IAAI,CAAC,IAAG,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,EAAE,wEAAwE,CAAC;IAAC;IAAC,YAAY,CAAC,EAAC;QAAC,IAAG,OAAO,KAAG,UAAS;YAAC,IAAG,KAAG,GAAE,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,GAAG;YAAE,OAAO;QAAC;QAAC,IAAI,IAAE;QAAkB,IAAG,CAAC,EAAE,IAAI,CAAC,IAAG,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,GAAG;QAAE,IAAG,GAAE,GAAE,EAAE,GAAC,EAAE,KAAK,CAAC,IAAG,IAAE,SAAS;QAAG,OAAO;YAAG,KAAI;gBAAI,OAAO,IAAE;YAAI,KAAI;gBAAI,OAAO,IAAE,MAAI;YAAG,KAAI;gBAAI,OAAO,IAAE,MAAI,KAAG;YAAG,KAAI;gBAAI,OAAO,IAAE,MAAI,KAAG,KAAG;YAAG;gBAAQ,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,GAAG;QAAC;IAAC;IAAC,UAAU,CAAC,EAAC;QAAC,IAAI,IAAE,KAAG,KAAK,GAAG;QAAG,OAAO,KAAK,KAAK,CAAC,IAAE,IAAI,CAAC,UAAU,IAAE,IAAI,CAAC,UAAU;IAAA;IAAC,MAAM,OAAO,CAAC,EAAC,GAAG,CAAC,EAAC;QAAC,IAAI,CAAC,iBAAiB,CAAC,IAAG,MAAM,QAAQ,GAAG,CAAC,EAAE,GAAG,CAAC,OAAM;YAAI,IAAI,IAAE,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,GAAE,IAAE;gBAAC,IAAI,CAAC,MAAM;gBAAC;gBAAE;aAAE,CAAC,IAAI,CAAC;YAAK,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAE,GAAE,KAAK,SAAS,CAAC;gBAAC,GAAG,CAAC;gBAAC,MAAK,KAAK;YAAC;QAAG;IAAG;IAAC,sBAAsB,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAI,IAAE,CAAC;QAAE,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,GAAE,EAAE;YAAI,KAAG,aAAW,CAAC,IAAE,MAAI,IAAE,SAAO,MAAI,OAAK,UAAQ,CAAC,GAAE,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,EAAE,IAAE,CAAC,GAAE,CAAC,CAAC,EAAE,CAAC,CAAC,KAAG,MAAM,EAAE,QAAQ,GAAG,GAAC;QAAC,IAAG;YAAC,MAAK;YAAE,GAAG,CAAC;QAAA;IAAC;IAAC,MAAM,gBAAgB,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAI,CAAC,iBAAiB,CAAC;QAAG,IAAI,IAAE,IAAI,CAAC,SAAS,CAAC,IAAG,IAAE;YAAC,IAAI,CAAC,MAAM;YAAC;YAAE;SAAE,CAAC,IAAI,CAAC,MAAK,IAAE,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAE;YAAC;SAAE,EAAC;YAAC;SAAE;QAAE,OAAO,IAAI,CAAC,qBAAqB,CAAC,GAAE,GAAE;IAAE;IAAC,MAAM,iBAAiB,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAI,CAAC,iBAAiB,CAAC;QAAG,IAAI,IAAE,IAAI,CAAC,SAAS,CAAC,IAAG,IAAE,EAAE;QAAC,IAAI,IAAI,IAAE,GAAE,IAAE,GAAE,KAAG,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAE,GAAE,KAAI,IAAE,IAAE,IAAI,CAAC,UAAU;QAAC,OAAO,QAAQ,GAAG,CAAC;IAAE;IAAC,MAAM,6BAA6B,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAI,CAAC,iBAAiB,CAAC,IAAG,IAAE,KAAG;QAAG,IAAI,IAAE,IAAI,CAAC,SAAS,CAAC,IAAG,IAAE,EAAE,EAAC,IAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAG,IAAE,EAAE;QAAC,IAAI,IAAI,IAAE,GAAE,KAAG,GAAE,KAAG,EAAE;YAAC,IAAI,IAAE;gBAAC,IAAI,CAAC,MAAM;gBAAC;gBAAE;aAAE,CAAC,IAAI,CAAC;YAAK,EAAE,IAAI,CAAC,GAAE;gBAAC;aAAE,EAAC;gBAAC;aAAE,GAAE,EAAE,IAAI,CAAC,IAAG,IAAE,IAAE,IAAI,CAAC,UAAU,EAAC,CAAC,IAAE,KAAG,KAAG,KAAG,CAAC,KAAG,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,KAAI,IAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;QAAC;QAAC,OAAM,CAAC,MAAM,QAAQ,GAAG,CAAC,EAAE,EAAE,IAAI,GAAG,GAAG,CAAC,CAAC,GAAE,IAAI,IAAI,CAAC,qBAAqB,CAAC,GAAE,GAAE,CAAC,CAAC,EAAE;IAAE;IAAC,MAAM,kBAAkB,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAI,CAAC,iBAAiB,CAAC;QAAG,IAAI,IAAE;YAAC,IAAI,CAAC,MAAM;YAAC;SAAE,CAAC,IAAI,CAAC,MAAK,IAAE,IAAI,CAAC,SAAS,CAAC,IAAG,IAAE,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAE;YAAC;SAAE,EAAC;YAAC;YAAE,IAAI,CAAC,UAAU;YAAC;SAAE,GAAE,IAAE,CAAC;QAAE,IAAI,IAAI,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,KAAG,EAAE;YAAC,IAAI,IAAE,CAAC,CAAC,EAAE,EAAC,IAAE,EAAE,UAAU,EAAC,IAAE,CAAC,CAAC,CAAC,IAAE,EAAE;YAAC,CAAC,CAAC,EAAE,IAAE,CAAC,CAAC,CAAC,EAAE,GAAC;gBAAC,SAAQ;gBAAE,SAAQ;YAAC,CAAC,GAAE,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,GAAC,YAAU,UAAU,GAAC;QAAC;QAAC,OAAO;IAAC;IAAC,MAAM,sBAAsB,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;QAAC,IAAI,CAAC,iBAAiB,CAAC;QAAG,IAAI,IAAE;YAAC,IAAI,CAAC,MAAM;YAAC;SAAE,CAAC,IAAI,CAAC,MAAK,IAAE,IAAI,CAAC,SAAS,CAAC,IAAG,IAAE,KAAG,IAAE,GAAE,CAAC,GAAE,GAAE,EAAE,GAAC,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAE;YAAC;SAAE,EAAC;YAAC;YAAE,IAAI,CAAC,UAAU;YAAC;YAAE;YAAE;SAAE;QAAE,OAAM;YAAC,SAAQ,IAAI,CAAC,OAAO,CAAC;YAAG,aAAY,IAAI,CAAC,OAAO,CAAC;YAAG,QAAO,IAAI,CAAC,OAAO,CAAC;QAAE;IAAC;IAAC,QAAQ,CAAC,EAAC;QAAC,IAAI,IAAE,EAAE;QAAC,IAAI,IAAI,IAAE,GAAE,IAAE,EAAE,MAAM,EAAC,KAAG,EAAE;YAAC,IAAI,IAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAC,IAAE,CAAC,CAAC,EAAE,CAAC,EAAE;YAAC,EAAE,IAAI,CAAC;gBAAC,YAAW,EAAE,UAAU;gBAAC,OAAM;YAAC;QAAE;QAAC,OAAO;IAAC;AAAC;AAAE,KAAG,CAAC,OAAO,OAAO,GAAC;IAAC;AAAS,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7541, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7546, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/index.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/analytics.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/cache.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/duration.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/hash.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/lua-scripts/single.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/lua-scripts/multi.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/lua-scripts/reset.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/lua-scripts/hash.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/types.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/deny-list/scripts.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/deny-list/ip-deny-list.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/deny-list/time.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/deny-list/deny-list.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/ratelimit.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/multi.ts","file:///Users/andreicruceru/comment.video/node_modules/%40upstash/ratelimit/src/single.ts"],"sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\nexport {Analytics, type AnalyticsConfig} from \"./analytics\";\nexport {MultiRegionRatelimit, type MultiRegionRatelimitConfig} from \"./multi\";\nexport {RegionRatelimit as Ratelimit, type RegionRatelimitConfig as RatelimitConfig} from \"./single\";\nexport {type Algorithm} from \"./types\";\nexport * as IpDenyList from \"./deny-list/ip-deny-list\";\nexport {type Duration} from \"./duration\";","import type { Aggregate } from \"@upstash/core-analytics\";\nimport { Analytics as CoreAnalytics } from \"@upstash/core-analytics\";\nimport type { Redis } from \"./types\";\n\nexport type Geo = {\n  country?: string;\n  city?: string;\n  region?: string;\n  ip?: string;\n};\n\n/**\n * denotes the success field in the analytics submission.\n * Set to true when ratelimit check passes. False when request is ratelimited.\n * Set to \"denied\" when some request value is in deny list.\n */\nexport type EventSuccess = boolean | \"denied\"\n\nexport type Event = Geo & {\n  identifier: string;\n  time: number;\n  success: EventSuccess;\n};\n\nexport type AnalyticsConfig = {\n  redis: Redis;\n  prefix?: string;\n};\n\n/**\n * The Analytics package is experimental and can change at any time.\n */\nexport class Analytics {\n  private readonly analytics: CoreAnalytics;\n  private readonly table = \"events\";\n\n  constructor(config: AnalyticsConfig) {\n    this.analytics = new CoreAnalytics({\n      // @ts-expect-error we need to fix the types in core-analytics, it should only require the methods it needs, not the whole sdk\n      redis: config.redis,\n      window: \"1h\",\n      prefix: config.prefix ?? \"@upstash/ratelimit\",\n      retention: \"90d\",\n    });\n  }\n\n  /**\n   * Try to extract the geo information from the request\n   *\n   * This handles Vercel's `req.geo` and  and Cloudflare's `request.cf` properties\n   * @param req\n   * @returns\n   */\n  public extractGeo(req: { geo?: Geo; cf?: Geo }): Geo {\n    if (req.geo !== undefined) {\n      return req.geo;\n    }\n    if (req.cf !== undefined) {\n      return req.cf;\n    }\n\n    return {};\n  }\n\n  public async record(event: Event): Promise<void> {\n    await this.analytics.ingest(this.table, event);\n  }\n\n  public async series<TFilter extends keyof Omit<Event, \"time\">>(\n    filter: TFilter,\n    cutoff: number,\n  ): Promise<Aggregate[]> {\n    const timestampCount = Math.min(\n      (\n        this.analytics.getBucket(Date.now())\n        - this.analytics.getBucket(cutoff)\n      ) / (60 * 60 * 1000),\n      256\n    )\n    return this.analytics.aggregateBucketsWithPipeline(this.table, filter, timestampCount)\n  }\n\n  public async getUsage(cutoff = 0): Promise<Record<string, { success: number; blocked: number }>> {\n    \n    const timestampCount = Math.min(\n      (\n        this.analytics.getBucket(Date.now())\n        - this.analytics.getBucket(cutoff)\n      ) / (60 * 60 * 1000),\n      256\n    )\n    const records = await this.analytics.getAllowedBlocked(this.table, timestampCount)\n    return records;\n  }\n\n  public async getUsageOverTime<TFilter extends keyof Omit<Event, \"time\">>(\n    timestampCount: number, groupby: TFilter\n  ): Promise<Aggregate[]> {\n    const result = await this.analytics.aggregateBucketsWithPipeline(this.table, groupby, timestampCount)\n    return result\n  }\n\n  public async getMostAllowedBlocked(timestampCount: number, getTop?: number, checkAtMost?: number) {\n    getTop = getTop ?? 5\n    const timestamp = undefined // let the analytics handle getting the timestamp\n    return this.analytics.getMostAllowedBlocked(this.table, timestampCount, getTop, timestamp, checkAtMost)\n  }\n}\n","import type { EphemeralCache } from \"./types\";\n\nexport class Cache implements EphemeralCache {\n  /**\n   * Stores identifier -> reset (in milliseconds)\n   */\n  private readonly cache: Map<string, number>;\n\n  constructor(cache: Map<string, number>) {\n    this.cache = cache;\n  }\n\n  public isBlocked(identifier: string): { blocked: boolean; reset: number } {\n    if (!this.cache.has(identifier)) {\n      return { blocked: false, reset: 0 };\n    }\n    const reset = this.cache.get(identifier)!;\n    if (reset < Date.now()) {\n      this.cache.delete(identifier);\n      return { blocked: false, reset: 0 };\n    }\n\n    return { blocked: true, reset: reset };\n  }\n\n  public blockUntil(identifier: string, reset: number): void {\n    this.cache.set(identifier, reset);\n  }\n\n  public set(key: string, value: number): void {\n    this.cache.set(key, value);\n  }\n  public get(key: string): number | null {\n    return this.cache.get(key) || null;\n  }\n\n  public incr(key: string): number {\n    let value = this.cache.get(key) ?? 0;\n    value += 1;\n    this.cache.set(key, value);\n    return value;\n  }\n\n  public pop(key: string): void {\n    this.cache.delete(key)\n  }\n\n  public empty(): void {\n    this.cache.clear()\n  }\n\n  public size(): number {\n    return this.cache.size;\n  }\n}\n","type Unit = \"ms\" | \"s\" | \"m\" | \"h\" | \"d\";\nexport type Duration = `${number} ${Unit}` | `${number}${Unit}`;\n\n/**\n * Convert a human readable duration to milliseconds\n */\nexport function ms(d: Duration): number {\n  const match = d.match(/^(\\d+)\\s?(ms|s|m|h|d)$/);\n  if (!match) {\n    throw new Error(`Unable to parse window size: ${d}`);\n  }\n  const time = Number.parseInt(match[1]);\n  const unit = match[2] as Unit;\n\n  switch (unit) {\n    case \"ms\": {\n      return time;\n    }\n    case \"s\": {\n      return time * 1000;\n    }\n    case \"m\": {\n      return time * 1000 * 60;\n    }\n    case \"h\": {\n      return time * 1000 * 60 * 60;\n    }\n    case \"d\": {\n      return time * 1000 * 60 * 60 * 24;\n    }\n\n    default: {\n      throw new Error(`Unable to parse window size: ${d}`);\n    }\n  }\n}\n","import type { ScriptInfo } from \"./lua-scripts/hash\";\nimport type { RegionContext } from \"./types\";\n\n/**\n * Runs the specified script with EVALSHA using the scriptHash parameter.\n * \n * If the EVALSHA fails, loads the script to redis and runs again with the\n * hash returned from Redis.\n * \n * @param ctx Regional or multi region context\n * @param script ScriptInfo of script to run. Contains the script and its hash\n * @param keys eval keys\n * @param args eval args\n */\nexport const safeEval = async (\n  ctx: RegionContext,\n  script: ScriptInfo,\n  keys: any[],\n  args: any[],\n) => {\n  try {\n    return await ctx.redis.evalsha(script.hash, keys, args)\n  } catch (error) {\n    if (`${error}`.includes(\"NOSCRIPT\")) {\n      const hash = await ctx.redis.scriptLoad(script.script)\n\n      if (hash !== script.hash) {\n        console.warn(\n          \"Upstash Ratelimit: Expected hash and the hash received from Redis\"\n          + \" are different. Ratelimit will work as usual but performance will\"\n          + \" be reduced.\"\n        );\n      }\n\n      return await ctx.redis.evalsha(hash, keys, args)\n    }\n    throw error;\n  }\n}","export const fixedWindowLimitScript = `\n  local key           = KEYS[1]\n  local window        = ARGV[1]\n  local incrementBy   = ARGV[2] -- increment rate per request at a given value, default is 1\n\n  local r = redis.call(\"INCRBY\", key, incrementBy)\n  if r == tonumber(incrementBy) then\n  -- The first time this key is set, the value will be equal to incrementBy.\n  -- So we only need the expire command once\n  redis.call(\"PEXPIRE\", key, window)\n  end\n\n  return r\n`;\n\nexport const fixedWindowRemainingTokensScript = `\n      local key = KEYS[1]\n      local tokens = 0\n\n      local value = redis.call('GET', key)\n      if value then\n          tokens = value\n      end\n      return tokens\n    `;\n\nexport const slidingWindowLimitScript = `\n  local currentKey  = KEYS[1]           -- identifier including prefixes\n  local previousKey = KEYS[2]           -- key of the previous bucket\n  local tokens      = tonumber(ARGV[1]) -- tokens per window\n  local now         = ARGV[2]           -- current timestamp in milliseconds\n  local window      = ARGV[3]           -- interval in milliseconds\n  local incrementBy = ARGV[4]           -- increment rate per request at a given value, default is 1\n\n  local requestsInCurrentWindow = redis.call(\"GET\", currentKey)\n  if requestsInCurrentWindow == false then\n    requestsInCurrentWindow = 0\n  end\n\n  local requestsInPreviousWindow = redis.call(\"GET\", previousKey)\n  if requestsInPreviousWindow == false then\n    requestsInPreviousWindow = 0\n  end\n  local percentageInCurrent = ( now % window ) / window\n  -- weighted requests to consider from the previous window\n  requestsInPreviousWindow = math.floor(( 1 - percentageInCurrent ) * requestsInPreviousWindow)\n  if requestsInPreviousWindow + requestsInCurrentWindow >= tokens then\n    return -1\n  end\n\n  local newValue = redis.call(\"INCRBY\", currentKey, incrementBy)\n  if newValue == tonumber(incrementBy) then\n    -- The first time this key is set, the value will be equal to incrementBy.\n    -- So we only need the expire command once\n    redis.call(\"PEXPIRE\", currentKey, window * 2 + 1000) -- Enough time to overlap with a new window + 1 second\n  end\n  return tokens - ( newValue + requestsInPreviousWindow )\n`;\n\nexport const slidingWindowRemainingTokensScript = `\n  local currentKey  = KEYS[1]           -- identifier including prefixes\n  local previousKey = KEYS[2]           -- key of the previous bucket\n  local now         = ARGV[1]           -- current timestamp in milliseconds\n  local window      = ARGV[2]           -- interval in milliseconds\n\n  local requestsInCurrentWindow = redis.call(\"GET\", currentKey)\n  if requestsInCurrentWindow == false then\n    requestsInCurrentWindow = 0\n  end\n\n  local requestsInPreviousWindow = redis.call(\"GET\", previousKey)\n  if requestsInPreviousWindow == false then\n    requestsInPreviousWindow = 0\n  end\n\n  local percentageInCurrent = ( now % window ) / window\n  -- weighted requests to consider from the previous window\n  requestsInPreviousWindow = math.floor(( 1 - percentageInCurrent ) * requestsInPreviousWindow)\n\n  return requestsInPreviousWindow + requestsInCurrentWindow\n`;\n\nexport const tokenBucketLimitScript = `\n  local key         = KEYS[1]           -- identifier including prefixes\n  local maxTokens   = tonumber(ARGV[1]) -- maximum number of tokens\n  local interval    = tonumber(ARGV[2]) -- size of the window in milliseconds\n  local refillRate  = tonumber(ARGV[3]) -- how many tokens are refilled after each interval\n  local now         = tonumber(ARGV[4]) -- current timestamp in milliseconds\n  local incrementBy = tonumber(ARGV[5]) -- how many tokens to consume, default is 1\n        \n  local bucket = redis.call(\"HMGET\", key, \"refilledAt\", \"tokens\")\n        \n  local refilledAt\n  local tokens\n\n  if bucket[1] == false then\n    refilledAt = now\n    tokens = maxTokens\n  else\n    refilledAt = tonumber(bucket[1])\n    tokens = tonumber(bucket[2])\n  end\n        \n  if now >= refilledAt + interval then\n    local numRefills = math.floor((now - refilledAt) / interval)\n    tokens = math.min(maxTokens, tokens + numRefills * refillRate)\n\n    refilledAt = refilledAt + numRefills * interval\n  end\n\n  if tokens == 0 then\n    return {-1, refilledAt + interval}\n  end\n\n  local remaining = tokens - incrementBy\n  local expireAt = math.ceil(((maxTokens - remaining) / refillRate)) * interval\n        \n  redis.call(\"HSET\", key, \"refilledAt\", refilledAt, \"tokens\", remaining)\n  redis.call(\"PEXPIRE\", key, expireAt)\n  return {remaining, refilledAt + interval}\n`;\n\nexport const tokenBucketIdentifierNotFound = -1\n\nexport const tokenBucketRemainingTokensScript = `\n  local key         = KEYS[1]\n  local maxTokens   = tonumber(ARGV[1])\n        \n  local bucket = redis.call(\"HMGET\", key, \"refilledAt\", \"tokens\")\n\n  if bucket[1] == false then\n    return {maxTokens, ${tokenBucketIdentifierNotFound}}\n  end\n        \n  return {tonumber(bucket[2]), tonumber(bucket[1])}\n`;\n\nexport const cachedFixedWindowLimitScript = `\n  local key     = KEYS[1]\n  local window  = ARGV[1]\n  local incrementBy   = ARGV[2] -- increment rate per request at a given value, default is 1\n\n  local r = redis.call(\"INCRBY\", key, incrementBy)\n  if r == incrementBy then\n  -- The first time this key is set, the value will be equal to incrementBy.\n  -- So we only need the expire command once\n  redis.call(\"PEXPIRE\", key, window)\n  end\n      \n  return r\n`;\n\nexport const cachedFixedWindowRemainingTokenScript = `\n  local key = KEYS[1]\n  local tokens = 0\n\n  local value = redis.call('GET', key)\n  if value then\n      tokens = value\n  end\n  return tokens\n`;\n","export const fixedWindowLimitScript = `\n\tlocal key           = KEYS[1]\n\tlocal id            = ARGV[1]\n\tlocal window        = ARGV[2]\n\tlocal incrementBy   = tonumber(ARGV[3])\n\n\tredis.call(\"HSET\", key, id, incrementBy)\n\tlocal fields = redis.call(\"HGETALL\", key)\n\tif #fields == 2 and tonumber(fields[2])==incrementBy then\n\t-- The first time this key is set, and the value will be equal to incrementBy.\n\t-- So we only need the expire command once\n\t  redis.call(\"PEXPIRE\", key, window)\n\tend\n\n\treturn fields\n`;\nexport const fixedWindowRemainingTokensScript = `\n      local key = KEYS[1]\n      local tokens = 0\n\n      local fields = redis.call(\"HGETALL\", key)\n\n      return fields\n    `;\n\nexport const slidingWindowLimitScript = `\n\tlocal currentKey    = KEYS[1]           -- identifier including prefixes\n\tlocal previousKey   = KEYS[2]           -- key of the previous bucket\n\tlocal tokens        = tonumber(ARGV[1]) -- tokens per window\n\tlocal now           = ARGV[2]           -- current timestamp in milliseconds\n\tlocal window        = ARGV[3]           -- interval in milliseconds\n\tlocal requestId     = ARGV[4]           -- uuid for this request\n\tlocal incrementBy   = tonumber(ARGV[5]) -- custom rate, default is  1\n\n\tlocal currentFields = redis.call(\"HGETALL\", currentKey)\n\tlocal requestsInCurrentWindow = 0\n\tfor i = 2, #currentFields, 2 do\n\trequestsInCurrentWindow = requestsInCurrentWindow + tonumber(currentFields[i])\n\tend\n\n\tlocal previousFields = redis.call(\"HGETALL\", previousKey)\n\tlocal requestsInPreviousWindow = 0\n\tfor i = 2, #previousFields, 2 do\n\trequestsInPreviousWindow = requestsInPreviousWindow + tonumber(previousFields[i])\n\tend\n\n\tlocal percentageInCurrent = ( now % window) / window\n\tif requestsInPreviousWindow * (1 - percentageInCurrent ) + requestsInCurrentWindow >= tokens then\n\t  return {currentFields, previousFields, false}\n\tend\n\n\tredis.call(\"HSET\", currentKey, requestId, incrementBy)\n\n\tif requestsInCurrentWindow == 0 then \n\t  -- The first time this key is set, the value will be equal to incrementBy.\n\t  -- So we only need the expire command once\n\t  redis.call(\"PEXPIRE\", currentKey, window * 2 + 1000) -- Enough time to overlap with a new window + 1 second\n\tend\n\treturn {currentFields, previousFields, true}\n`;\n\nexport const slidingWindowRemainingTokensScript = `\n\tlocal currentKey    = KEYS[1]           -- identifier including prefixes\n\tlocal previousKey   = KEYS[2]           -- key of the previous bucket\n\tlocal now         \t= ARGV[1]           -- current timestamp in milliseconds\n  \tlocal window      \t= ARGV[2]           -- interval in milliseconds\n\n\tlocal currentFields = redis.call(\"HGETALL\", currentKey)\n\tlocal requestsInCurrentWindow = 0\n\tfor i = 2, #currentFields, 2 do\n\trequestsInCurrentWindow = requestsInCurrentWindow + tonumber(currentFields[i])\n\tend\n\n\tlocal previousFields = redis.call(\"HGETALL\", previousKey)\n\tlocal requestsInPreviousWindow = 0\n\tfor i = 2, #previousFields, 2 do\n\trequestsInPreviousWindow = requestsInPreviousWindow + tonumber(previousFields[i])\n\tend\n\n\tlocal percentageInCurrent = ( now % window) / window\n  \trequestsInPreviousWindow = math.floor(( 1 - percentageInCurrent ) * requestsInPreviousWindow)\n\t\n\treturn requestsInCurrentWindow + requestsInPreviousWindow\n`;\n","export const resetScript = `\n      local pattern = KEYS[1]\n\n      -- Initialize cursor to start from 0\n      local cursor = \"0\"\n\n      repeat\n          -- Scan for keys matching the pattern\n          local scan_result = redis.call('SCAN', cursor, 'MATCH', pattern)\n\n          -- Extract cursor for the next iteration\n          cursor = scan_result[1]\n\n          -- Extract keys from the scan result\n          local keys = scan_result[2]\n\n          for i=1, #keys do\n          redis.call('DEL', keys[i])\n          end\n\n      -- Continue scanning until cursor is 0 (end of keyspace)\n      until cursor == \"0\"\n    `;\n","import * as Single from \"./single\"\nimport * as Multi from \"./multi\"\nimport { resetScript } from \"./reset\"\n\nexport type ScriptInfo = {\n  script: string,\n  hash: string\n}\n\ntype Algorithm = {\n  limit: ScriptInfo,\n  getRemaining: ScriptInfo,\n}\n\ntype AlgorithmKind = \n  | \"fixedWindow\"\n  | \"slidingWindow\"\n  | \"tokenBucket\"\n  | \"cachedFixedWindow\"\n\nexport const SCRIPTS: {\n  singleRegion: Record<AlgorithmKind, Algorithm>,\n  multiRegion: Record<Exclude<AlgorithmKind, \"tokenBucket\" | \"cachedFixedWindow\">, Algorithm>,\n} = {\n  singleRegion: {\n    fixedWindow: {\n      limit: {\n        script: Single.fixedWindowLimitScript,\n        hash: \"b13943e359636db027ad280f1def143f02158c13\"\n      },\n      getRemaining: {\n        script: Single.fixedWindowRemainingTokensScript,\n        hash: \"8c4c341934502aee132643ffbe58ead3450e5208\"\n      },\n    },\n    slidingWindow: {\n      limit: {\n        script: Single.slidingWindowLimitScript,\n        hash: \"e1391e429b699c780eb0480350cd5b7280fd9213\"\n      },\n      getRemaining: {\n        script: Single.slidingWindowRemainingTokensScript,\n        hash: \"65a73ac5a05bf9712903bc304b77268980c1c417\"\n      },\n    },\n    tokenBucket: {\n      limit: {\n        script: Single.tokenBucketLimitScript,\n        hash: \"5bece90aeef8189a8cfd28995b479529e270b3c6\"\n      },\n      getRemaining: {\n        script: Single.tokenBucketRemainingTokensScript,\n        hash: \"a15be2bb1db2a15f7c82db06146f9d08983900d0\"\n      },\n    },\n    cachedFixedWindow: {\n      limit: {\n        script: Single.cachedFixedWindowLimitScript,\n        hash: \"c26b12703dd137939b9a69a3a9b18e906a2d940f\"\n      },\n      getRemaining: {\n        script: Single.cachedFixedWindowRemainingTokenScript,\n        hash: \"8e8f222ccae68b595ee6e3f3bf2199629a62b91a\"\n      },\n    }\n  },\n  multiRegion: {\n    fixedWindow: {\n      limit: {\n        script: Multi.fixedWindowLimitScript,\n        hash: \"a8c14f3835aa87bd70e5e2116081b81664abcf5c\"\n      },\n      getRemaining: {\n        script: Multi.fixedWindowRemainingTokensScript,\n        hash: \"8ab8322d0ed5fe5ac8eb08f0c2e4557f1b4816fd\"\n      },\n    },\n    slidingWindow: {\n      limit: {\n        script: Multi.slidingWindowLimitScript,\n        hash: \"cb4fdc2575056df7c6d422764df0de3a08d6753b\"\n      },\n      getRemaining: {\n        script: Multi.slidingWindowRemainingTokensScript,\n        hash: \"558c9306b7ec54abb50747fe0b17e5d44bd24868\"\n      },\n    },\n  }\n}\n\n/** COMMON */\nexport const RESET_SCRIPT: ScriptInfo = {\n  script: resetScript,\n  hash: \"54bd274ddc59fb3be0f42deee2f64322a10e2b50\"\n}","import type { Redis as RedisCore } from \"@upstash/redis\";\nimport type { Geo } from \"./analytics\";\n\n/**\n * EphemeralCache is used to block certain identifiers right away in case they have already exceeded the ratelimit.\n */\nexport type EphemeralCache = {\n  isBlocked: (identifier: string) => { blocked: boolean; reset: number };\n  blockUntil: (identifier: string, reset: number) => void;\n\n  set: (key: string, value: number) => void;\n  get: (key: string) => number | null;\n\n  incr: (key: string) => number;\n\n  pop: (key: string) => void;\n  empty: () => void;\n\n  size: () => number;\n}\n\nexport type RegionContext = {\n  redis: Redis;\n  cache?: EphemeralCache,\n};\nexport type MultiRegionContext = { regionContexts: Omit<RegionContext[], \"cache\">; cache?: EphemeralCache };\n\nexport type RatelimitResponseType = \"timeout\" | \"cacheBlock\" | \"denyList\"\n\nexport type Context = RegionContext | MultiRegionContext;\nexport type RatelimitResponse = {\n  /**\n   * Whether the request may pass(true) or exceeded the limit(false)\n   */\n  success: boolean;\n  /**\n   * Maximum number of requests allowed within a window.\n   */\n  limit: number;\n  /**\n   * How many requests the user has left within the current window.\n   */\n  remaining: number;\n  /**\n   * Unix timestamp in milliseconds when the limits are reset.\n   */\n  reset: number;\n\n  /**\n   * For the MultiRegion setup we do some synchronizing in the background, after returning the current limit.\n   * Or when analytics is enabled, we send the analytics asynchronously after returning the limit.\n   * In most case you can simply ignore this.\n   *\n   * On Vercel Edge or Cloudflare workers, you need to explicitly handle the pending Promise like this:\n   *\n   * ```ts\n   * const { pending } = await ratelimit.limit(\"id\")\n   * context.waitUntil(pending)\n   * ```\n   *\n   * See `waitUntil` documentation in\n   * [Cloudflare](https://developers.cloudflare.com/workers/runtime-apis/handlers/fetch/#contextwaituntil)\n   * and [Vercel](https://vercel.com/docs/functions/edge-middleware/middleware-api#waituntil)\n   * for more details.\n   * ```\n   */\n  pending: Promise<unknown>;\n\n  /**\n   * Reason behind the result in `success` field.\n   * - Is set to \"timeout\" when request times out\n   * - Is set to \"cacheBlock\" when an identifier is blocked through cache without calling redis because it was\n   *    rate limited previously.\n   * - Is set to \"denyList\" when identifier or one of ip/user-agent/country parameters is in deny list. To enable\n   *    deny list, see `enableProtection` parameter. To edit the deny list, see the Upstash Ratelimit Dashboard\n   *    at https://console.upstash.com/ratelimit.\n   * - Is set to undefined if rate limit check had to use Redis. This happens in cases when `success` field in\n   *    the response is true. It can also happen the first time sucecss is false.\n   */\n  reason?: RatelimitResponseType;\n\n  /**\n   * The value which was in the deny list if reason: \"denyList\"\n   */\n  deniedValue?: DeniedValue\n};\n\nexport type Algorithm<TContext> = () => {\n  limit: (\n    ctx: TContext,\n    identifier: string,\n    rate?: number,\n    opts?: {\n      cache?: EphemeralCache;\n    },\n  ) => Promise<RatelimitResponse>;\n  getRemaining: (ctx: TContext, identifier: string) => Promise<{\n    remaining: number,\n    reset: number\n  }>;\n  resetTokens: (ctx: TContext, identifier: string) => Promise<void>;\n};\n\nexport type IsDenied = 0 | 1;\n\nexport type DeniedValue = string | undefined;\nexport type DenyListResponse = { deniedValue: DeniedValue, invalidIpDenyList: boolean }\n\nexport const DenyListExtension = \"denyList\" as const\nexport const IpDenyListKey = \"ipDenyList\" as const\nexport const IpDenyListStatusKey = \"ipDenyListStatus\" as const\n\nexport type LimitPayload = [RatelimitResponse, DenyListResponse];\nexport type LimitOptions = {\n  geo?: Geo,\n  rate?: number,\n  ip?: string,\n  userAgent?: string,\n  country?: string\n}\n\nexport type Redis = RedisCore\n","export const checkDenyListScript = `\n  -- Checks if values provideed in ARGV are present in the deny lists.\n  -- This is done using the allDenyListsKey below.\n\n  -- Additionally, checks the status of the ip deny list using the\n  -- ipDenyListStatusKey below. Here are the possible states of the\n  -- ipDenyListStatusKey key:\n  -- * status == -1: set to \"disabled\" with no TTL\n  -- * status == -2: not set, meaning that is was set before but expired\n  -- * status  >  0: set to \"valid\", with a TTL\n  --\n  -- In the case of status == -2, we set the status to \"pending\" with\n  -- 30 second ttl. During this time, the process which got status == -2\n  -- will update the ip deny list.\n\n  local allDenyListsKey     = KEYS[1]\n  local ipDenyListStatusKey = KEYS[2]\n\n  local results = redis.call('SMISMEMBER', allDenyListsKey, unpack(ARGV))\n  local status  = redis.call('TTL', ipDenyListStatusKey)\n  if status == -2 then\n    redis.call('SETEX', ipDenyListStatusKey, 30, \"pending\")\n  end\n\n  return { results, status }\n`","import type { Redis } from \"../types\";\nimport { DenyListExtension, IpDenyListKey, IpDenyListStatusKey } from \"../types\"\nimport { getIpListTTL } from \"./time\"\n\nconst baseUrl = \"https://raw.githubusercontent.com/stamparm/ipsum/master/levels\"\n\nexport class ThresholdError extends Error {\n  constructor(threshold: number) {\n    super(`Allowed threshold values are from 1 to 8, 1 and 8 included. Received: ${threshold}`);\n    this.name = \"ThresholdError\";\n  }\n}\n\n/**\n * Fetches the ips from the ipsum.txt at github\n * \n * In the repo we are using, 30+ ip lists are aggregated. The results are\n * stores in text files from 1 to 8.\n * https://github.com/stamparm/ipsum/tree/master/levels\n * \n * X.txt file holds ips which are in at least X of the lists.\n *\n * @param threshold ips with less than or equal to the threshold are not included\n * @returns list of ips\n */\nconst getIpDenyList = async (threshold: number) => {\n  if (typeof threshold !== \"number\" || threshold < 1 || threshold > 8) {\n    throw new ThresholdError(threshold)\n  }\n\n  try {\n    // Fetch data from the URL\n    const response = await fetch(`${baseUrl}/${threshold}.txt`)\n    if (!response.ok) {\n      throw new Error(`Error fetching data: ${response.statusText}`)\n    }\n    const data = await response.text()\n\n    // Process the data\n    const lines = data.split(\"\\n\")\n    return lines.filter((value) => value.length > 0) // remove empty values\n  } catch (error) {\n    throw new Error(`Failed to fetch ip deny list: ${error}`)\n  }\n}\n\n/**\n * Gets the list of ips from the github source which are not in the\n * deny list already\n * \n * First, gets the ip list from github using the threshold. Then, calls redis with\n * a transaction which does the following:\n * - subtract the current ip deny list from all\n * - delete current ip deny list\n * - recreate ip deny list with the ips from github. Ips already in the users own lists\n *   are excluded.\n * - status key is set to valid with ttl until next 2 AM UTC, which is a bit later than\n *   when the list is updated on github.\n *\n * @param redis redis instance\n * @param prefix ratelimit prefix\n * @param threshold ips with less than or equal to the threshold are not included\n * @param ttl time to live in milliseconds for the status flag. Optional. If not\n *  passed, ttl is infferred from current time.\n * @returns list of ips which are not in the deny list\n */\nexport const updateIpDenyList = async (\n  redis: Redis,\n  prefix: string,\n  threshold: number,\n  ttl?: number\n) => {\n  const allIps = await getIpDenyList(threshold)\n\n  const allDenyLists = [prefix, DenyListExtension, \"all\"].join(\":\")\n  const ipDenyList = [prefix, DenyListExtension, IpDenyListKey].join(\":\")\n  const statusKey = [prefix, IpDenyListStatusKey].join(\":\")\n\n  const transaction = redis.multi()\n\n  // remove the old ip deny list from the all set\n  transaction.sdiffstore(allDenyLists, allDenyLists, ipDenyList)\n\n  // delete the old ip deny list and create new one\n  transaction.del(ipDenyList)\n\n  transaction.sadd(ipDenyList, allIps.at(0), ...allIps.slice(1))\n\n  // make all deny list and ip deny list disjoint by removing duplicate\n  // ones from ip deny list\n  transaction.sdiffstore(ipDenyList, ipDenyList, allDenyLists)\n\n  // add remaining ips to all list\n  transaction.sunionstore(allDenyLists, allDenyLists, ipDenyList)\n\n  // set status key with ttl\n  transaction.set(statusKey, \"valid\", {px: ttl ?? getIpListTTL()})\n\n  return await transaction.exec()\n}\n\n/**\n * Disables the ip deny list by removing the ip deny list from the all\n * set and removing the ip deny list. Also sets the status key to disabled\n * with no ttl.\n * \n * @param redis redis instance\n * @param prefix ratelimit prefix\n * @returns \n */\nexport const disableIpDenyList = async (redis: Redis, prefix: string) => {\n  const allDenyListsKey = [prefix, DenyListExtension, \"all\"].join(\":\")\n  const ipDenyListKey = [prefix, DenyListExtension, IpDenyListKey].join(\":\")\n  const statusKey = [prefix, IpDenyListStatusKey].join(\":\")\n\n  const transaction = redis.multi()\n\n  // remove the old ip deny list from the all set\n  transaction.sdiffstore(allDenyListsKey, allDenyListsKey, ipDenyListKey)\n\n  // delete the old ip deny list\n  transaction.del(ipDenyListKey)\n\n  // set to disabled\n  // this way, the TTL command in checkDenyListScript will return -1.\n  transaction.set(statusKey, \"disabled\")\n\n  return await transaction.exec()\n}\n","\n// Number of milliseconds in one hour\nconst MILLISECONDS_IN_HOUR = 60 * 60 * 1000;\n\n// Number of milliseconds in one day\nconst MILLISECONDS_IN_DAY = 24 * MILLISECONDS_IN_HOUR;\n\n// Number of milliseconds from the current time to 2 AM UTC\nconst MILLISECONDS_TO_2AM = 2 * MILLISECONDS_IN_HOUR;\n\nexport const getIpListTTL = (time?: number) => {\n  const now = time || Date.now();\n\n  // Time since the last 2 AM UTC\n  const timeSinceLast2AM = (now - MILLISECONDS_TO_2AM) % MILLISECONDS_IN_DAY;\n\n  // Remaining time until the next 2 AM UTC\n  return MILLISECONDS_IN_DAY - timeSinceLast2AM;\n}\n  ","import type { DeniedValue, DenyListResponse, LimitPayload} from \"../types\";\nimport { DenyListExtension, IpDenyListStatusKey } from \"../types\"\nimport type { RatelimitResponse, Redis } from \"../types\"\nimport { Cache } from \"../cache\";\nimport { checkDenyListScript } from \"./scripts\";\nimport { updateIpDenyList } from \"./ip-deny-list\";\n\n\nconst denyListCache = new Cache(new Map());\n\n/**\n * Checks items in members list and returns the first denied member\n * in denyListCache if there are any.\n * \n * @param members list of values to check against the cache\n * @returns a member from the cache. If there is none, returns undefined\n */\nexport const checkDenyListCache = (members: string[]): DeniedValue => {\n  return members.find(\n    member => denyListCache.isBlocked(member).blocked\n  );\n}\n\n/**\n * Blocks a member for 1 minute.\n * \n * If there are more than 1000 elements in the cache, empties\n * it so that the cache doesn't grow in size indefinetely.\n * \n * @param member member to block\n */\nconst blockMember = (member: string) => {\n  if (denyListCache.size() > 1000) denyListCache.empty();\n  denyListCache.blockUntil(member, Date.now() + 60_000);\n}\n\n/**\n * Checks if identifier or any of the values are in any of\n * the denied lists in Redis.\n * \n * If some value is in a deny list, we block the identifier for a minute.\n * \n * @param redis redis client\n * @param prefix ratelimit prefix\n * @param members List of values (identifier, ip, user agent, country)\n * @returns true if a member is in deny list at Redis\n */\nexport const checkDenyList = async (\n  redis: Redis,\n  prefix: string,\n  members: string[]\n): Promise<DenyListResponse> => {\n  const [ deniedValues, ipDenyListStatus ] = await redis.eval(\n    checkDenyListScript,\n    [\n      [prefix, DenyListExtension, \"all\"].join(\":\"),\n      [prefix, IpDenyListStatusKey].join(\":\"),\n    ],\n    members\n  ) as [boolean[], number];\n\n  let deniedValue: DeniedValue = undefined;\n  deniedValues.map((memberDenied, index) => {\n    if (memberDenied) {\n      blockMember(members[index])\n      deniedValue = members[index]\n    }\n  })\n\n  return {\n    deniedValue,\n    invalidIpDenyList: ipDenyListStatus === -2\n  };\n};\n\n/**\n * Overrides the rate limit response if deny list\n * response indicates that value is in deny list.\n * \n * @param ratelimitResponse \n * @param denyListResponse \n * @returns \n */\nexport const resolveLimitPayload = (\n  redis: Redis,\n  prefix: string,\n  [ratelimitResponse, denyListResponse]: LimitPayload,\n  threshold: number\n): RatelimitResponse => {\n\n  if (denyListResponse.deniedValue) {\n    ratelimitResponse.success = false;\n    ratelimitResponse.remaining = 0;\n    ratelimitResponse.reason = \"denyList\";\n    ratelimitResponse.deniedValue = denyListResponse.deniedValue\n  }\n\n  if (denyListResponse.invalidIpDenyList) {\n    const updatePromise = updateIpDenyList(redis, prefix, threshold)\n    ratelimitResponse.pending = Promise.all([\n      ratelimitResponse.pending,\n      updatePromise\n    ])\n  }\n\n  return ratelimitResponse;\n};\n\n/**\n * \n * @returns Default response to return when some item\n *  is in deny list.\n */\nexport const defaultDeniedResponse = (deniedValue: string): RatelimitResponse => {\n  return {\n    success: false,\n    limit: 0,\n    remaining: 0,\n    reset: 0,\n    pending: Promise.resolve(),\n    reason: \"denyList\",\n    deniedValue: deniedValue\n  }\n}\n","import { Analytics } from \"./analytics\";\nimport { Cache } from \"./cache\";\nimport type { Algorithm, Context, LimitOptions, LimitPayload, RatelimitResponse, Redis } from \"./types\";\nimport { checkDenyList, checkDenyListCache, defaultDeniedResponse, resolveLimitPayload } from \"./deny-list/index\";\n\nexport class TimeoutError extends Error {\n  constructor() {\n    super(\"Timeout\");\n    this.name = \"TimeoutError\";\n  }\n}\nexport type RatelimitConfig<TContext> = {\n  /**\n   * The ratelimiter function to use.\n   *\n   * Choose one of the predefined ones or implement your own.\n   * Available algorithms are exposed via static methods:\n   * - Ratelimiter.fixedWindow\n   * - Ratelimiter.slidingWindow\n   * - Ratelimiter.tokenBucket\n   */\n\n  limiter: Algorithm<TContext>;\n\n  ctx: TContext;\n  /**\n   * All keys in redis are prefixed with this.\n   *\n   * @default `@upstash/ratelimit`\n   */\n  prefix?: string;\n\n  /**\n   * If enabled, the ratelimiter will keep a global cache of identifiers, that have\n   * exhausted their ratelimit. In serverless environments this is only possible if\n   * you create the ratelimiter instance outside of your handler function. While the\n   * function is still hot, the ratelimiter can block requests without having to\n   * request data from redis, thus saving time and money.\n   *\n   * Whenever an identifier has exceeded its limit, the ratelimiter will add it to an\n   * internal list together with its reset timestamp. If the same identifier makes a\n   * new request before it is reset, we can immediately reject it.\n   *\n   * Set to `false` to disable.\n   *\n   * If left undefined, a map is created automatically, but it can only work\n   * if the map or the  ratelimit instance is created outside your serverless function handler.\n   */\n  ephemeralCache?: Map<string, number> | false;\n\n  /**\n   * If set, the ratelimiter will allow requests to pass after this many milliseconds.\n   *\n   * Use this if you want to allow requests in case of network problems\n   *\n   * @default 5000\n   */\n  timeout?: number;\n\n  /**\n   * If enabled, the ratelimiter will store analytics data in redis, which you can check out at\n   * https://console.upstash.com/ratelimit\n   *\n   * @default false\n   */\n  analytics?: boolean;\n\n  /**\n   * Enables deny list. If set to true, requests with identifier or ip/user-agent/countrie\n   * in the deny list will be rejected automatically. To edit the deny list, check out the\n   * ratelimit dashboard at https://console.upstash.com/ratelimit\n   * \n   * @default false\n   */\n  enableProtection?: boolean\n\n  denyListThreshold?: number\n};\n\n/**\n * Ratelimiter using serverless redis from https://upstash.com/\n *\n * @example\n * ```ts\n * const { limit } = new Ratelimit({\n *    redis: Redis.fromEnv(),\n *    limiter: Ratelimit.slidingWindow(\n *      10,     // Allow 10 requests per window of 30 minutes\n *      \"30 m\", // interval of 30 minutes\n *    ),\n * })\n *\n * ```\n */\nexport abstract class Ratelimit<TContext extends Context> {\n  protected readonly limiter: Algorithm<TContext>;\n\n  protected readonly ctx: TContext;\n\n  protected readonly prefix: string;\n\n  protected readonly timeout: number;\n\n  protected readonly primaryRedis: Redis;\n\n  protected readonly analytics?: Analytics;\n\n  protected readonly enableProtection: boolean;\n\n  protected readonly denyListThreshold: number\n\n  constructor(config: RatelimitConfig<TContext>) {\n    this.ctx = config.ctx;\n    this.limiter = config.limiter;\n    this.timeout = config.timeout ?? 5000;\n    this.prefix = config.prefix ?? \"@upstash/ratelimit\";\n\n    this.enableProtection = config.enableProtection ?? false;\n    this.denyListThreshold = config.denyListThreshold ?? 6;\n\n    this.primaryRedis = (\"redis\" in this.ctx) ? this.ctx.redis : this.ctx.regionContexts[0].redis\n    this.analytics = config.analytics\n      ? new Analytics({\n        redis: this.primaryRedis,\n        prefix: this.prefix,\n      })\n      : undefined;\n\n    if (config.ephemeralCache instanceof Map) {\n      this.ctx.cache = new Cache(config.ephemeralCache);\n    } else if (config.ephemeralCache === undefined) {\n      this.ctx.cache = new Cache(new Map());\n    }\n  }\n\n  /**\n   * Determine if a request should pass or be rejected based on the identifier and previously chosen ratelimit.\n   *\n   * Use this if you want to reject all requests that you can not handle right now.\n   *\n   * @example\n   * ```ts\n   *  const ratelimit = new Ratelimit({\n   *    redis: Redis.fromEnv(),\n   *    limiter: Ratelimit.slidingWindow(10, \"10 s\")\n   *  })\n   *\n   *  const { success } = await ratelimit.limit(id)\n   *  if (!success){\n   *    return \"Nope\"\n   *  }\n   *  return \"Yes\"\n   * ```\n   *\n   * @param req.rate - The rate at which tokens will be added or consumed from the token bucket. A higher rate allows for more requests to be processed. Defaults to 1 token per interval if not specified.\n   *\n   * Usage with `req.rate`\n   * @example\n   * ```ts\n   *  const ratelimit = new Ratelimit({\n   *    redis: Redis.fromEnv(),\n   *    limiter: Ratelimit.slidingWindow(100, \"10 s\")\n   *  })\n   *\n   *  const { success } = await ratelimit.limit(id, {rate: 10})\n   *  if (!success){\n   *    return \"Nope\"\n   *  }\n   *  return \"Yes\"\n   * ```\n   */\n  public limit = async (\n    identifier: string,\n    req?: LimitOptions,\n  ): Promise<RatelimitResponse> => {\n\n    let timeoutId: any = null;\n    try {\n      const response = this.getRatelimitResponse(identifier, req);\n      const { responseArray, newTimeoutId } = this.applyTimeout(response);\n      timeoutId = newTimeoutId;\n\n      const timedResponse = await Promise.race(responseArray);\n      const finalResponse = this.submitAnalytics(timedResponse, identifier, req);\n      return finalResponse;\n    } finally {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    }\n  };\n\n  /**\n   * Block until the request may pass or timeout is reached.\n   *\n   * This method returns a promise that resolves as soon as the request may be processed\n   * or after the timeout has been reached.\n   *\n   * Use this if you want to delay the request until it is ready to get processed.\n   *\n   * @example\n   * ```ts\n   *  const ratelimit = new Ratelimit({\n   *    redis: Redis.fromEnv(),\n   *    limiter: Ratelimit.slidingWindow(10, \"10 s\")\n   *  })\n   *\n   *  const { success } = await ratelimit.blockUntilReady(id, 60_000)\n   *  if (!success){\n   *    return \"Nope\"\n   *  }\n   *  return \"Yes\"\n   * ```\n   */\n  public blockUntilReady = async (\n    /**\n     * An identifier per user or api.\n     * Choose a userID, or api token, or ip address.\n     *\n     * If you want to limit your api across all users, you can set a constant string.\n     */\n    identifier: string,\n    /**\n     * Maximum duration to wait in milliseconds.\n     * After this time the request will be denied.\n     */\n    timeout: number,\n  ): Promise<RatelimitResponse> => {\n    if (timeout <= 0) {\n      throw new Error(\"timeout must be positive\");\n    }\n    let res: RatelimitResponse;\n\n    const deadline = Date.now() + timeout;\n    while (true) {\n      res = await this.limit(identifier);\n      if (res.success) {\n        break;\n      }\n      if (res.reset === 0) {\n        throw new Error(\"This should not happen\");\n      }\n\n      const wait = Math.min(res.reset, deadline) - Date.now();\n      await new Promise((r) => setTimeout(r, wait));\n\n      if (Date.now() > deadline) {\n        break;\n      }\n    }\n    return res!;\n  };\n\n  public resetUsedTokens = async (identifier: string) => {\n    const pattern = [this.prefix, identifier].join(\":\");\n    await this.limiter().resetTokens(this.ctx, pattern);\n  };\n\n  /**\n   * Returns the remaining token count together with a reset timestamps\n   * \n   * @param identifier identifir to check\n   * @returns object with `remaining` and reset fields. `remaining` denotes\n   *          the remaining tokens and reset denotes the timestamp when the\n   *          tokens reset.\n   */\n  public getRemaining = async (identifier: string): Promise<{\n    remaining: number;\n    reset: number;\n  }> => {\n    const pattern = [this.prefix, identifier].join(\":\");\n\n    return await this.limiter().getRemaining(this.ctx, pattern);\n  };\n\n  /**\n   * Checks if the identifier or the values in req are in the deny list cache.\n   * If so, returns the default denied response.\n   * \n   * Otherwise, calls redis to check the rate limit and deny list. Returns after\n   * resolving the result. Resolving is overriding the rate limit result if\n   * the some value is in deny list.\n   * \n   * @param identifier identifier to block\n   * @param req options with ip, user agent, country, rate and geo info\n   * @returns rate limit response\n   */\n  private getRatelimitResponse = async (\n    identifier: string,\n    req?: LimitOptions\n  ): Promise<RatelimitResponse> => {\n    const key = this.getKey(identifier);\n    const definedMembers = this.getDefinedMembers(identifier, req);\n\n    const deniedValue = checkDenyListCache(definedMembers)\n\n    const result: LimitPayload = deniedValue ? [defaultDeniedResponse(deniedValue), { deniedValue, invalidIpDenyList: false }] : (await Promise.all([\n      this.limiter().limit(this.ctx, key, req?.rate),\n      this.enableProtection\n        ? checkDenyList(this.primaryRedis, this.prefix, definedMembers)\n        : { deniedValue: undefined, invalidIpDenyList: false }\n    ]));\n\n    return resolveLimitPayload(this.primaryRedis, this.prefix, result, this.denyListThreshold)\n  };\n\n  /**\n   * Creates an array with the original response promise and a timeout promise\n   * if this.timeout > 0.\n   * \n   * @param response Ratelimit response promise\n   * @returns array with the response and timeout promise. also includes the timeout id\n   */\n  private applyTimeout = (response: Promise<RatelimitResponse>) => {\n    let newTimeoutId: any = null;\n    const responseArray: Array<Promise<RatelimitResponse>> = [response];\n\n    if (this.timeout > 0) {\n      const timeoutResponse = new Promise<RatelimitResponse>((resolve) => {\n        newTimeoutId = setTimeout(() => {\n          resolve({\n            success: true,\n            limit: 0,\n            remaining: 0,\n            reset: 0,\n            pending: Promise.resolve(),\n            reason: \"timeout\"\n          });\n        }, this.timeout);\n      })\n      responseArray.push(timeoutResponse);\n    }\n\n    return {\n      responseArray,\n      newTimeoutId,\n    }\n  }\n\n  /**\n   * submits analytics if this.analytics is set\n   * \n   * @param ratelimitResponse final rate limit response\n   * @param identifier identifier to submit\n   * @param req limit options\n   * @returns rate limit response after updating the .pending field\n   */\n  private submitAnalytics = (\n    ratelimitResponse: RatelimitResponse,\n    identifier: string,\n    req?: Pick<LimitOptions, \"geo\">,\n  ) => {\n    if (this.analytics) {\n      try {\n        const geo = req ? this.analytics.extractGeo(req) : undefined;\n        const analyticsP = this.analytics\n          .record({\n            identifier: ratelimitResponse.reason === \"denyList\" // if in denyList, use denied value as identifier\n              ? ratelimitResponse.deniedValue!\n              : identifier,\n            time: Date.now(),\n            success: ratelimitResponse.reason === \"denyList\" // if in denyList, label success as \"denied\"\n              ? \"denied\"\n              : ratelimitResponse.success,\n            ...geo,\n          })\n          .catch((error) => {\n            let errorMessage = \"Failed to record analytics\"\n            if (`${error}`.includes(\"WRONGTYPE\")) {\n              errorMessage = `\n    Failed to record analytics. See the information below:\n\n    This can occur when you uprade to Ratelimit version 1.1.2\n    or later from an earlier version.\n\n    This occurs simply because the way we store analytics data\n    has changed. To avoid getting this error, disable analytics\n    for *an hour*, then simply enable it back.\\n\n    `\n            }\n            console.warn(errorMessage, error);\n          });\n        ratelimitResponse.pending = Promise.all([ratelimitResponse.pending, analyticsP]);\n      } catch (error) {\n        console.warn(\"Failed to record analytics\", error);\n      };\n    };\n    return ratelimitResponse;\n  }\n\n  private getKey = (identifier: string): string => {\n    return [this.prefix, identifier].join(\":\");\n  }\n\n  /**\n   * returns a list of defined values from\n   * [identifier, req.ip, req.userAgent, req.country]\n   * \n   * @param identifier identifier\n   * @param req limit options\n   * @returns list of defined values\n   */\n  private getDefinedMembers = (\n    identifier: string,\n    req?: Pick<LimitOptions, \"ip\" | \"userAgent\" | \"country\">\n  ): string[] => {\n    const members = [identifier, req?.ip, req?.userAgent, req?.country];\n    return (members as string[]).filter(Boolean);\n  }\n}\n","import { Cache } from \"./cache\";\nimport type { Duration } from \"./duration\";\nimport { ms } from \"./duration\";\nimport { safeEval } from \"./hash\";\nimport { RESET_SCRIPT, SCRIPTS } from \"./lua-scripts/hash\";\n\n\nimport { Ratelimit } from \"./ratelimit\";\nimport type { Algorithm, MultiRegionContext } from \"./types\";\n\nimport type { Redis } from \"./types\";\n\nfunction randomId(): string {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  const charactersLength = characters.length;\n  for (let i = 0; i < 16; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\nexport type MultiRegionRatelimitConfig = {\n  /**\n   * Instances of `@upstash/redis`\n   * @see https://github.com/upstash/upstash-redis#quick-start\n   */\n  redis: Redis[];\n  /**\n   * The ratelimiter function to use.\n   *\n   * Choose one of the predefined ones or implement your own.\n   * Available algorithms are exposed via static methods:\n   * - MultiRegionRatelimit.fixedWindow\n   */\n  limiter: Algorithm<MultiRegionContext>;\n  /**\n   * All keys in redis are prefixed with this.\n   *\n   * @default `@upstash/ratelimit`\n   */\n  prefix?: string;\n\n  /**\n   * If enabled, the ratelimiter will keep a global cache of identifiers, that have\n   * exhausted their ratelimit. In serverless environments this is only possible if\n   * you create the ratelimiter instance outside of your handler function. While the\n   * function is still hot, the ratelimiter can block requests without having to\n   * request data from redis, thus saving time and money.\n   *\n   * Whenever an identifier has exceeded its limit, the ratelimiter will add it to an\n   * internal list together with its reset timestamp. If the same identifier makes a\n   * new request before it is reset, we can immediately reject it.\n   *\n   * Set to `false` to disable.\n   *\n   * If left undefined, a map is created automatically, but it can only work\n   * if the map or the ratelimit instance is created outside your serverless function handler.\n   */\n  ephemeralCache?: Map<string, number> | false;\n\n  /**\n   * If set, the ratelimiter will allow requests to pass after this many milliseconds.\n   *\n   * Use this if you want to allow requests in case of network problems\n   */\n  timeout?: number;\n\n  /**\n   * If enabled, the ratelimiter will store analytics data in redis, which you can check out at\n   * https://console.upstash.com/ratelimit\n   *\n   * @default false\n   */\n  analytics?: boolean;\n\n  /**\n   * If enabled, lua scripts will be sent to Redis with SCRIPT LOAD durint the first request.\n   * In the subsequent requests, hash of the script will be used to invoke it\n   * \n   * @default true\n   */\n  cacheScripts?: boolean;\n};\n\n/**\n * Ratelimiter using serverless redis from https://upstash.com/\n *\n * @example\n * ```ts\n * const { limit } = new MultiRegionRatelimit({\n *    redis: Redis.fromEnv(),\n *    limiter: MultiRegionRatelimit.fixedWindow(\n *      10,     // Allow 10 requests per window of 30 minutes\n *      \"30 m\", // interval of 30 minutes\n *    )\n * })\n *\n * ```\n */\nexport class MultiRegionRatelimit extends Ratelimit<MultiRegionContext> {\n  /**\n   * Create a new Ratelimit instance by providing a `@upstash/redis` instance and the algorithn of your choice.\n   */\n  constructor(config: MultiRegionRatelimitConfig) {\n    super({\n      prefix: config.prefix,\n      limiter: config.limiter,\n      timeout: config.timeout,\n      analytics: config.analytics,\n      ctx: {\n        regionContexts: config.redis.map(redis => ({\n          redis: redis,\n        })),\n        cache: config.ephemeralCache ? new Cache(config.ephemeralCache) : undefined,\n      },\n    });\n  }\n\n  /**\n   * Each request inside a fixed time increases a counter.\n   * Once the counter reaches the maximum allowed number, all further requests are\n   * rejected.\n   *\n   * **Pro:**\n   *\n   * - Newer requests are not starved by old ones.\n   * - Low storage cost.\n   *\n   * **Con:**\n   *\n   * A burst of requests near the boundary of a window can result in a very\n   * high request rate because two windows will be filled with requests quickly.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - A fixed timeframe\n   */\n  static fixedWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<MultiRegionContext> {\n    const windowDuration = ms(window);\n\n    return () => ({\n      async limit(ctx: MultiRegionContext, identifier: string, rate?: number) {\n        if (ctx.cache) {\n          const { blocked, reset } = ctx.cache.isBlocked(identifier);\n          if (blocked) {\n            return {\n              success: false,\n              limit: tokens,\n              remaining: 0,\n              reset: reset,\n              pending: Promise.resolve(),\n              reason: \"cacheBlock\"\n            };\n          }\n        }\n\n        const requestId = randomId();\n        const bucket = Math.floor(Date.now() / windowDuration);\n        const key = [identifier, bucket].join(\":\");\n        const incrementBy = rate ? Math.max(1, rate) : 1;\n\n        const dbs: { redis: Redis; request: Promise<string[]> }[] = ctx.regionContexts.map((regionContext) => ({\n          redis: regionContext.redis,\n          request: safeEval(\n            regionContext,\n            SCRIPTS.multiRegion.fixedWindow.limit,\n            [key],\n            [requestId, windowDuration, incrementBy],\n          ) as Promise<string[]>,\n        }));\n\n        // The firstResponse is an array of string at every EVEN indexes and rate at which the tokens are used at every ODD indexes\n        const firstResponse = await Promise.any(dbs.map((s) => s.request));\n\n        const usedTokens = firstResponse.reduce((accTokens: number, usedToken, index) => {\n          let parsedToken = 0;\n          if (index % 2) {\n            parsedToken = Number.parseInt(usedToken);\n          }\n\n          return accTokens + parsedToken;\n        }, 0);\n\n        const remaining = tokens - usedTokens;\n\n        /**\n         * If the length between two databases does not match, we sync the two databases\n         */\n        async function sync() {\n          const individualIDs = await Promise.all(dbs.map((s) => s.request));\n\n          const allIDs = [...new Set(\n            individualIDs.flat()\n              .reduce((acc: string[], curr, index) => {\n                if (index % 2 === 0) {\n                  acc.push(curr);\n                }\n                return acc;\n              }, []),\n          ).values()];\n\n          for (const db of dbs) {\n            const usedDbTokensRequest = await db.request;\n            const usedDbTokens = usedDbTokensRequest.reduce(\n              (accTokens: number, usedToken, index) => {\n                let parsedToken = 0;\n                if (index % 2) {\n                  parsedToken = Number.parseInt(usedToken);\n                }\n\n                return accTokens + parsedToken;\n              },\n              0,\n            );\n\n            const dbIdsRequest = await db.request;\n            const dbIds = dbIdsRequest.reduce((ids: string[], currentId, index) => {\n              if (index % 2 === 0) {\n                ids.push(currentId);\n              }\n              return ids;\n            }, []);\n            /**\n             * If the bucket in this db is already full, it doesn't matter which ids it contains.\n             * So we do not have to sync.\n             */\n            if (usedDbTokens >= tokens) {\n              continue;\n            }\n            const diff = allIDs.filter((id) => !dbIds.includes(id));\n            /**\n             * Don't waste a request if there is nothing to send\n             */\n            if (diff.length === 0) {\n              continue;\n            }\n\n            for (const requestId of diff) {\n              await db.redis.hset(key, { [requestId]: incrementBy });\n            }\n          }\n        }\n\n        /**\n         * Do not await sync. This should not run in the critical path.\n         */\n\n        const success = remaining > 0;\n        const reset = (bucket + 1) * windowDuration;\n\n        if (ctx.cache && !success) {\n          ctx.cache.blockUntil(identifier, reset);\n        }\n        return {\n          success,\n          limit: tokens,\n          remaining,\n          reset,\n          pending: sync(),\n        };\n      },\n      async getRemaining(ctx: MultiRegionContext, identifier: string) {\n        const bucket = Math.floor(Date.now() / windowDuration);\n        const key = [identifier, bucket].join(\":\");\n\n        const dbs: { redis: Redis; request: Promise<string[]> }[] = ctx.regionContexts.map((regionContext) => ({\n          redis: regionContext.redis,\n          request: safeEval(\n            regionContext,\n            SCRIPTS.multiRegion.fixedWindow.getRemaining,\n            [key],\n            [null]\n          ) as Promise<string[]>,\n        }));\n\n        // The firstResponse is an array of string at every EVEN indexes and rate at which the tokens are used at every ODD indexes\n        const firstResponse = await Promise.any(dbs.map((s) => s.request));\n        const usedTokens = firstResponse.reduce((accTokens: number, usedToken, index) => {\n          let parsedToken = 0;\n          if (index % 2) {\n            parsedToken = Number.parseInt(usedToken);\n          }\n\n          return accTokens + parsedToken;\n        }, 0);\n\n        return {\n          remaining: Math.max(0, tokens - usedTokens),\n          reset: (bucket + 1) * windowDuration\n        };\n      },\n      async resetTokens(ctx: MultiRegionContext, identifier: string) {\n        const pattern = [identifier, \"*\"].join(\":\");\n        if (ctx.cache) {\n          ctx.cache.pop(identifier)\n        }\n\n        await Promise.all(ctx.regionContexts.map((regionContext) => {\n          safeEval(\n            regionContext,\n            RESET_SCRIPT,\n            [pattern],\n            [null]\n          );\n        }))\n      },\n    });\n  }\n\n  /**\n   * Combined approach of `slidingLogs` and `fixedWindow` with lower storage\n   * costs than `slidingLogs` and improved boundary behavior by calculating a\n   * weighted score between two windows.\n   *\n   * **Pro:**\n   *\n   * Good performance allows this to scale to very high loads.\n   *\n   * **Con:**\n   *\n   * Nothing major.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - The duration in which the user can max X requests.\n   */\n  static slidingWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<MultiRegionContext> {\n    const windowSize = ms(window);\n\n    const windowDuration = ms(window);\n\n    return () => ({\n      async limit(ctx: MultiRegionContext, identifier: string, rate?: number) {\n        if (ctx.cache) {\n          const { blocked, reset } = ctx.cache.isBlocked(identifier);\n          if (blocked) {\n            return {\n              success: false,\n              limit: tokens,\n              remaining: 0,\n              reset: reset,\n              pending: Promise.resolve(),\n              reason: \"cacheBlock\"\n            };\n          }\n        }\n\n        const requestId = randomId();\n        const now = Date.now();\n\n        const currentWindow = Math.floor(now / windowSize);\n        const currentKey = [identifier, currentWindow].join(\":\");\n        const previousWindow = currentWindow - 1;\n        const previousKey = [identifier, previousWindow].join(\":\");\n        const incrementBy = rate ? Math.max(1, rate) : 1;\n\n        const dbs = ctx.regionContexts.map((regionContext) => ({\n          redis: regionContext.redis,\n          request: safeEval(\n            regionContext,\n            SCRIPTS.multiRegion.slidingWindow.limit,\n            [currentKey, previousKey],\n            [tokens, now, windowDuration, requestId, incrementBy],\n            // lua seems to return `1` for true and `null` for false\n          ) as Promise<[string[], string[], 1 | null]>,\n        }));\n\n        const percentageInCurrent = (now % windowDuration) / windowDuration;\n        const [current, previous, success] = await Promise.any(dbs.map((s) => s.request));\n\n        // in the case of success, the new request is not included in the current array.\n        // add it manually\n        if (success) {\n          current.push(requestId, incrementBy.toString())\n        }\n\n        const previousUsedTokens = previous.reduce((accTokens: number, usedToken, index) => {\n          let parsedToken = 0;\n          if (index % 2) {\n            parsedToken = Number.parseInt(usedToken);\n          }\n\n          return accTokens + parsedToken;\n        }, 0);\n\n        const currentUsedTokens = current.reduce((accTokens: number, usedToken, index) => {\n          let parsedToken = 0;\n          if (index % 2) {\n            parsedToken = Number.parseInt(usedToken);\n          }\n\n          return accTokens + parsedToken;\n        }, 0);\n\n        const previousPartialUsed = Math.ceil(previousUsedTokens * (1 - percentageInCurrent));\n\n        const usedTokens = previousPartialUsed + currentUsedTokens;\n\n        const remaining = tokens - usedTokens;\n\n        /**\n         * If a database differs from the consensus, we sync it\n         */\n        async function sync() {\n          const res = await Promise.all(dbs.map((s) => s.request));\n\n          const allCurrentIds = [...new Set(\n            res\n              .flatMap(([current]) => current)\n              .reduce((acc: string[], curr, index) => {\n                if (index % 2 === 0) {\n                  acc.push(curr);\n                }\n                return acc;\n              }, []),\n          ).values()];\n\n          for (const db of dbs) {\n            const [current, _previous, _success] = await db.request;\n            const dbIds = current.reduce((ids: string[], currentId, index) => {\n              if (index % 2 === 0) {\n                ids.push(currentId);\n              }\n              return ids;\n            }, []);\n\n            const usedDbTokens = current.reduce((accTokens: number, usedToken, index) => {\n              let parsedToken = 0;\n              if (index % 2) {\n                parsedToken = Number.parseInt(usedToken);\n              }\n\n              return accTokens + parsedToken;\n            }, 0);\n            /**\n             * If the bucket in this db is already full, it doesn't matter which ids it contains.\n             * So we do not have to sync.\n             */\n            if (usedDbTokens >= tokens) {\n              continue;\n            }\n            const diff = allCurrentIds.filter((id) => !dbIds.includes(id));\n            /**\n             * Don't waste a request if there is nothing to send\n             */\n            if (diff.length === 0) {\n              continue;\n            }\n\n            for (const requestId of diff) {\n              await db.redis.hset(currentKey, { [requestId]: incrementBy });\n            }\n          }\n        }\n\n        // const success = remaining >= 0;\n        const reset = (currentWindow + 1) * windowDuration;\n        if (ctx.cache && !success) {\n          ctx.cache.blockUntil(identifier, reset);\n        }\n        return {\n          success: Boolean(success),\n          limit: tokens,\n          remaining: Math.max(0, remaining),\n          reset,\n          pending: sync(),\n        };\n      },\n      async getRemaining(ctx: MultiRegionContext, identifier: string) {\n        const now = Date.now();\n\n        const currentWindow = Math.floor(now / windowSize);\n        const currentKey = [identifier, currentWindow].join(\":\");\n        const previousWindow = currentWindow - 1;\n        const previousKey = [identifier, previousWindow].join(\":\");\n\n        const dbs = ctx.regionContexts.map((regionContext) => ({\n          redis: regionContext.redis,\n          request: safeEval(\n            regionContext,\n            SCRIPTS.multiRegion.slidingWindow.getRemaining,\n            [currentKey, previousKey],\n            [now, windowSize],\n            // lua seems to return `1` for true and `null` for false\n          ) as Promise<number>,\n        }));\n\n        const usedTokens = await Promise.any(dbs.map((s) => s.request));\n        return {\n          remaining: Math.max(0, tokens - usedTokens),\n          reset: (currentWindow + 1) * windowSize\n        };\n      },\n      async resetTokens(ctx: MultiRegionContext, identifier: string) {\n        const pattern = [identifier, \"*\"].join(\":\");\n        if (ctx.cache) {\n          ctx.cache.pop(identifier)\n        }\n\n\n        await Promise.all(ctx.regionContexts.map((regionContext) => {\n          safeEval(\n            regionContext,\n            RESET_SCRIPT,\n            [pattern],\n            [null]\n          );\n        }))\n      },\n    });\n  }\n}\n","import type { Duration } from \"./duration\";\nimport { ms } from \"./duration\";\nimport { safeEval } from \"./hash\";\nimport { RESET_SCRIPT, SCRIPTS } from \"./lua-scripts/hash\";\nimport { tokenBucketIdentifierNotFound } from \"./lua-scripts/single\";\n\nimport { Ratelimit } from \"./ratelimit\";\nimport type { Algorithm, RegionContext } from \"./types\";\nimport type { Redis as RedisCore } from \"./types\";\n\n// Fix for https://github.com/upstash/ratelimit-js/issues/125\ntype Redis = Pick<RedisCore, \"get\" | \"set\">\n\nexport type RegionRatelimitConfig = {\n  /**\n   * Instance of `@upstash/redis`\n   * @see https://github.com/upstash/upstash-redis#quick-start\n   */\n  redis: Redis;\n  /**\n   * The ratelimiter function to use.\n   *\n   * Choose one of the predefined ones or implement your own.\n   * Available algorithms are exposed via static methods:\n   * - Ratelimiter.fixedWindow\n   * - Ratelimiter.slidingWindow\n   * - Ratelimiter.tokenBucket\n   */\n  limiter: Algorithm<RegionContext>;\n  /**\n   * All keys in redis are prefixed with this.\n   *\n   * @default `@upstash/ratelimit`\n   */\n  prefix?: string;\n\n  /**\n   * If enabled, the ratelimiter will keep a global cache of identifiers, that have\n   * exhausted their ratelimit. In serverless environments this is only possible if\n   * you create the ratelimiter instance outside of your handler function. While the\n   * function is still hot, the ratelimiter can block requests without having to\n   * request data from redis, thus saving time and money.\n   *\n   * Whenever an identifier has exceeded its limit, the ratelimiter will add it to an\n   * internal list together with its reset timestamp. If the same identifier makes a\n   * new request before it is reset, we can immediately reject it.\n   *\n   * Set to `false` to disable.\n   *\n   * If left undefined, a map is created automatically, but it can only work\n   * if the map or the ratelimit instance is created outside your serverless function handler.\n   */\n  ephemeralCache?: Map<string, number> | false;\n\n  /**\n   * If set, the ratelimiter will allow requests to pass after this many milliseconds.\n   *\n   * Use this if you want to allow requests in case of network problems\n   */\n  timeout?: number;\n\n  /**\n   * If enabled, the ratelimiter will store analytics data in redis, which you can check out at\n   * https://console.upstash.com/ratelimit\n   *\n   * @default false\n   */\n  analytics?: boolean;\n\n  /**\n   * @deprecated Has no affect since v2.0.3. Instead, hash values of scripts are\n   * hardcoded in the sdk and it attempts to run the script using EVALSHA (with the hash).\n   * If it fails, runs script load.\n   * \n   * Previously, if enabled, lua scripts were sent to Redis with SCRIPT LOAD durint the first request.\n   * In the subsequent requests, hash of the script would be used to invoke the scripts\n   * \n   * @default true\n   */\n  cacheScripts?: boolean;\n\n  /**\n   * @default false\n   */\n  enableProtection?: boolean\n\n  /**\n   * @default 6\n   */\n  denyListThreshold?: number\n};\n\n/**\n * Ratelimiter using serverless redis from https://upstash.com/\n *\n * @example\n * ```ts\n * const { limit } = new Ratelimit({\n *    redis: Redis.fromEnv(),\n *    limiter: Ratelimit.slidingWindow(\n *      \"30 m\", // interval of 30 minutes\n *      10,     // Allow 10 requests per window of 30 minutes\n *    )\n * })\n *\n * ```\n */\nexport class RegionRatelimit extends Ratelimit<RegionContext> {\n  /**\n   * Create a new Ratelimit instance by providing a `@upstash/redis` instance and the algorithm of your choice.\n   */\n\n  constructor(config: RegionRatelimitConfig) {\n    super({\n      prefix: config.prefix,\n      limiter: config.limiter,\n      timeout: config.timeout,\n      analytics: config.analytics,\n      ctx: {\n        redis: config.redis as RedisCore,\n      },\n      ephemeralCache: config.ephemeralCache,\n      enableProtection: config.enableProtection,\n      denyListThreshold: config.denyListThreshold\n    });\n  }\n\n  /**\n   * Each request inside a fixed time increases a counter.\n   * Once the counter reaches the maximum allowed number, all further requests are\n   * rejected.\n   *\n   * **Pro:**\n   *\n   * - Newer requests are not starved by old ones.\n   * - Low storage cost.\n   *\n   * **Con:**\n   *\n   * A burst of requests near the boundary of a window can result in a very\n   * high request rate because two windows will be filled with requests quickly.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - A fixed timeframe\n   */\n  static fixedWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<RegionContext> {\n    const windowDuration = ms(window);\n    return () => ({\n      async limit(ctx: RegionContext, identifier: string, rate?: number) {\n        const bucket = Math.floor(Date.now() / windowDuration);\n        const key = [identifier, bucket].join(\":\");\n        if (ctx.cache) {\n          const { blocked, reset } = ctx.cache.isBlocked(identifier);\n          if (blocked) {\n            return {\n              success: false,\n              limit: tokens,\n              remaining: 0,\n              reset: reset,\n              pending: Promise.resolve(),\n              reason: \"cacheBlock\"\n            };\n          }\n        }\n\n        const incrementBy = rate ? Math.max(1, rate) : 1;\n\n        const usedTokensAfterUpdate = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.fixedWindow.limit,\n          [key],\n          [windowDuration, incrementBy],\n        ) as number;\n\n        const success = usedTokensAfterUpdate <= tokens;\n\n        const remainingTokens = Math.max(0, tokens - usedTokensAfterUpdate);\n\n        const reset = (bucket + 1) * windowDuration;\n        if (ctx.cache && !success) {\n          ctx.cache.blockUntil(identifier, reset);\n        }\n\n        return {\n          success,\n          limit: tokens,\n          remaining: remainingTokens,\n          reset,\n          pending: Promise.resolve(),\n        };\n      },\n      async getRemaining(ctx: RegionContext, identifier: string) {\n        const bucket = Math.floor(Date.now() / windowDuration);\n        const key = [identifier, bucket].join(\":\");\n\n        const usedTokens = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.fixedWindow.getRemaining,\n          [key],\n          [null],\n        ) as number;\n\n        return {\n          remaining: Math.max(0, tokens - usedTokens),\n          reset: (bucket + 1) * windowDuration\n        };\n      },\n      async resetTokens(ctx: RegionContext, identifier: string) {\n        const pattern = [identifier, \"*\"].join(\":\");\n        if (ctx.cache) {\n          ctx.cache.pop(identifier)\n        }\n\n        await safeEval(\n          ctx,\n          RESET_SCRIPT,\n          [pattern],\n          [null],\n        ) as number;\n      },\n    });\n  }\n\n  /**\n   * Combined approach of `slidingLogs` and `fixedWindow` with lower storage\n   * costs than `slidingLogs` and improved boundary behavior by calculating a\n   * weighted score between two windows.\n   *\n   * **Pro:**\n   *\n   * Good performance allows this to scale to very high loads.\n   *\n   * **Con:**\n   *\n   * Nothing major.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - The duration in which the user can max X requests.\n   */\n  static slidingWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<RegionContext> {\n    const windowSize = ms(window);\n    return () => ({\n      async limit(ctx: RegionContext, identifier: string, rate?: number) {\n        const now = Date.now();\n\n        const currentWindow = Math.floor(now / windowSize);\n        const currentKey = [identifier, currentWindow].join(\":\");\n        const previousWindow = currentWindow - 1;\n        const previousKey = [identifier, previousWindow].join(\":\");\n\n        if (ctx.cache) {\n          const { blocked, reset } = ctx.cache.isBlocked(identifier);\n          if (blocked) {\n            return {\n              success: false,\n              limit: tokens,\n              remaining: 0,\n              reset: reset,\n              pending: Promise.resolve(),\n              reason: \"cacheBlock\"\n            };\n          }\n        }\n\n        const incrementBy = rate ? Math.max(1, rate) : 1;\n\n        const remainingTokens = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.slidingWindow.limit,\n          [currentKey, previousKey],\n          [tokens, now, windowSize, incrementBy],\n        ) as number;\n\n        const success = remainingTokens >= 0;\n\n        const reset = (currentWindow + 1) * windowSize;\n        if (ctx.cache && !success) {\n          ctx.cache.blockUntil(identifier, reset);\n        }\n        return {\n          success,\n          limit: tokens,\n          remaining: Math.max(0, remainingTokens),\n          reset,\n          pending: Promise.resolve(),\n        };\n      },\n      async getRemaining(ctx: RegionContext, identifier: string) {\n        const now = Date.now();\n        const currentWindow = Math.floor(now / windowSize);\n        const currentKey = [identifier, currentWindow].join(\":\");\n        const previousWindow = currentWindow - 1;\n        const previousKey = [identifier, previousWindow].join(\":\");\n\n        const usedTokens = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.slidingWindow.getRemaining,\n          [currentKey, previousKey],\n          [now, windowSize],\n        ) as number;\n\n        return {\n          remaining: Math.max(0, tokens - usedTokens),\n          reset: (currentWindow + 1) * windowSize\n        }\n      },\n      async resetTokens(ctx: RegionContext, identifier: string) {\n        const pattern = [identifier, \"*\"].join(\":\");\n        if (ctx.cache) {\n          ctx.cache.pop(identifier)\n        }\n\n        await safeEval(\n          ctx,\n          RESET_SCRIPT,\n          [pattern],\n          [null],\n        ) as number;\n      },\n    });\n  }\n\n  /**\n   * You have a bucket filled with `{maxTokens}` tokens that refills constantly\n   * at `{refillRate}` per `{interval}`.\n   * Every request will remove one token from the bucket and if there is no\n   * token to take, the request is rejected.\n   *\n   * **Pro:**\n   *\n   * - Bursts of requests are smoothed out and you can process them at a constant\n   * rate.\n   * - Allows to set a higher initial burst limit by setting `maxTokens` higher\n   * than `refillRate`\n   */\n  static tokenBucket(\n    /**\n     * How many tokens are refilled per `interval`\n     *\n     * An interval of `10s` and refillRate of 5 will cause a new token to be added every 2 seconds.\n     */\n    refillRate: number,\n    /**\n     * The interval for the `refillRate`\n     */\n    interval: Duration,\n    /**\n     * Maximum number of tokens.\n     * A newly created bucket starts with this many tokens.\n     * Useful to allow higher burst limits.\n     */\n    maxTokens: number,\n  ): Algorithm<RegionContext> {\n    const intervalDuration = ms(interval);\n    return () => ({\n      async limit(ctx: RegionContext, identifier: string, rate?: number) {\n        if (ctx.cache) {\n          const { blocked, reset } = ctx.cache.isBlocked(identifier);\n          if (blocked) {\n            return {\n              success: false,\n              limit: maxTokens,\n              remaining: 0,\n              reset: reset,\n              pending: Promise.resolve(),\n              reason: \"cacheBlock\"\n            };\n          }\n        }\n\n        const now = Date.now();\n\n        const incrementBy = rate ? Math.max(1, rate) : 1;\n\n        const [remaining, reset] = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.tokenBucket.limit,\n          [identifier],\n          [maxTokens, intervalDuration, refillRate, now, incrementBy],\n        ) as [number, number];\n\n        const success = remaining >= 0;\n        if (ctx.cache && !success) {\n          ctx.cache.blockUntil(identifier, reset);\n        }\n\n        return {\n          success,\n          limit: maxTokens,\n          remaining,\n          reset,\n          pending: Promise.resolve(),\n        };\n      },\n      async getRemaining(ctx: RegionContext, identifier: string) {\n\n        const [remainingTokens, refilledAt] = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.tokenBucket.getRemaining,\n          [identifier],\n          [maxTokens],\n        ) as [number, number];\n\n        const freshRefillAt = Date.now() + intervalDuration\n        const identifierRefillsAt = refilledAt + intervalDuration\n\n        return {\n          remaining: remainingTokens,\n          reset: refilledAt === tokenBucketIdentifierNotFound ? freshRefillAt : identifierRefillsAt\n        };\n      },\n      async resetTokens(ctx: RegionContext, identifier: string) {\n        const pattern = identifier;\n        if (ctx.cache) {\n          ctx.cache.pop(identifier)\n        }\n\n        await safeEval(\n          ctx,\n          RESET_SCRIPT,\n          [pattern],\n          [null],\n        ) as number;\n      },\n    });\n  }\n  /**\n   * cachedFixedWindow first uses the local cache to decide if a request may pass and then updates\n   * it asynchronously.\n   * This is experimental and not yet recommended for production use.\n   *\n   * @experimental\n   *\n   * Each request inside a fixed time increases a counter.\n   * Once the counter reaches the maximum allowed number, all further requests are\n   * rejected.\n   *\n   * **Pro:**\n   *\n   * - Newer requests are not starved by old ones.\n   * - Low storage cost.\n   *\n   * **Con:**\n   *\n   * A burst of requests near the boundary of a window can result in a very\n   * high request rate because two windows will be filled with requests quickly.\n   *\n   * @param tokens - How many requests a user can make in each time window.\n   * @param window - A fixed timeframe\n   */\n  static cachedFixedWindow(\n    /**\n     * How many requests are allowed per window.\n     */\n    tokens: number,\n    /**\n     * The duration in which `tokens` requests are allowed.\n     */\n    window: Duration,\n  ): Algorithm<RegionContext> {\n    const windowDuration = ms(window);\n\n    return () => ({\n      async limit(ctx: RegionContext, identifier: string, rate?: number) {\n        if (!ctx.cache) {\n          throw new Error(\"This algorithm requires a cache\");\n        }\n        const bucket = Math.floor(Date.now() / windowDuration);\n        const key = [identifier, bucket].join(\":\");\n        const reset = (bucket + 1) * windowDuration;\n        const incrementBy = rate ? Math.max(1, rate) : 1;\n\n        const hit = typeof ctx.cache.get(key) === \"number\";\n        if (hit) {\n          const cachedTokensAfterUpdate = ctx.cache.incr(key);\n          const success = cachedTokensAfterUpdate < tokens;\n\n          const pending = success\n            ? safeEval(\n              ctx,\n              SCRIPTS.singleRegion.cachedFixedWindow.limit,\n              [key],\n              [windowDuration, incrementBy]\n            )\n            : Promise.resolve();\n\n          return {\n            success,\n            limit: tokens,\n            remaining: tokens - cachedTokensAfterUpdate,\n            reset: reset,\n            pending,\n          };\n        }\n\n        const usedTokensAfterUpdate = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.cachedFixedWindow.limit,\n          [key],\n          [windowDuration, incrementBy]\n        ) as number;\n        ctx.cache.set(key, usedTokensAfterUpdate);\n        const remaining = tokens - usedTokensAfterUpdate;\n\n        return {\n          success: remaining >= 0,\n          limit: tokens,\n          remaining,\n          reset: reset,\n          pending: Promise.resolve(),\n        };\n      },\n      async getRemaining(ctx: RegionContext, identifier: string) {\n        if (!ctx.cache) {\n          throw new Error(\"This algorithm requires a cache\");\n        }\n\n        const bucket = Math.floor(Date.now() / windowDuration);\n        const key = [identifier, bucket].join(\":\");\n\n        const hit = typeof ctx.cache.get(key) === \"number\";\n        if (hit) {\n          const cachedUsedTokens = ctx.cache.get(key) ?? 0;\n          return {\n            remaining: Math.max(0, tokens - cachedUsedTokens),\n            reset: (bucket + 1) * windowDuration\n          };\n        }\n\n        const usedTokens = await safeEval(\n          ctx,\n          SCRIPTS.singleRegion.cachedFixedWindow.getRemaining,\n          [key],\n          [null],\n        ) as number;\n        return {\n          remaining: Math.max(0, tokens - usedTokens),\n          reset: (bucket + 1) * windowDuration\n        };\n      },\n      async resetTokens(ctx: RegionContext, identifier: string) {\n        // Empty the cache\n        if (!ctx.cache) {\n          throw new Error(\"This algorithm requires a cache\");\n        }\n\n        const bucket = Math.floor(Date.now() / windowDuration);\n        const key = [identifier, bucket].join(\":\");\n        ctx.cache.pop(key)\n\n        const pattern = [identifier, \"*\"].join(\":\");\n\n        await safeEval(\n          ctx,\n          RESET_SCRIPT,\n          [pattern],\n          [null],\n        ) as number;\n      },\n    });\n  }\n}\n"],"names":["CoreAnalytics","fixedWindowLimitScript","fixedWindowRemainingTokensScript","slidingWindowLimitScript","slidingWindowRemainingTokensScript","fixedWindowLimitScript","fixedWindowRemainingTokensScript","slidingWindowLimitScript","slidingWindowRemainingTokensScript","reset","requestId","current","reset"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"debugId":null}},
    {"offset": {"line": 9301, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9307, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/node_modules/tslib/tslib.es6.mjs"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;8EAa8E,GAC9E,8DAA8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE9D,IAAI,gBAAgB,SAAS,CAAC,EAAE,CAAC;IAC/B,gBAAgB,OAAO,cAAc,IAChC,CAAA;QAAE,WAAW,EAAE;IAAC,CAAA,aAAa,SAAS,SAAU,CAAC,EAAE,CAAC;QAAI,EAAE,SAAS,GAAG;IAAG,KAC1E,SAAU,CAAC,EAAE,CAAC;QAAI,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IAAE;IACpG,OAAO,cAAc,GAAG;AAC1B;AAEO,SAAS,UAAU,CAAC,EAAE,CAAC;IAC5B,IAAI,OAAO,MAAM,cAAc,MAAM,MACjC,MAAM,IAAI,UAAU,yBAAyB,OAAO,KAAK;IAC7D,cAAc,GAAG;IACjB,SAAS;QAAO,IAAI,CAAC,WAAW,GAAG;IAAG;IACtC,EAAE,SAAS,GAAG,MAAM,OAAO,OAAO,MAAM,CAAC,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,SAAS,EAAE,IAAI,IAAI;AACrF;AAEO,IAAI,WAAW;IACpB,WAAW,OAAO,MAAM,IAAI,SAAS,SAAS,CAAC;QAC3C,IAAK,IAAI,GAAG,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAI,GAAG,IAAK;YACjD,IAAI,SAAS,CAAC,EAAE;YAChB,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QAChF;QACA,OAAO;IACX;IACA,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;AAC9B;AAEO,SAAS,OAAO,CAAC,EAAE,CAAC;IACzB,IAAI,IAAI,CAAC;IACT,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,MAAM,EAAE,OAAO,CAAC,KAAK,GAC9E,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACf,IAAI,KAAK,QAAQ,OAAO,OAAO,qBAAqB,KAAK,YACrD,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,qBAAqB,CAAC,IAAI,IAAI,EAAE,MAAM,EAAE,IAAK;QACpE,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,IAAI,KAAK,OAAO,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GACzE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACzB;IACJ,OAAO;AACT;AAEO,SAAS,WAAW,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IACtD,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAC9D;AAEO,SAAS,QAAQ,UAAU,EAAE,SAAS;IAC3C,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACtE;AAEO,SAAS,aAAa,IAAI,EAAE,YAAY,EAAE,UAAU,EAAE,SAAS,EAAE,YAAY,EAAE,iBAAiB;IACrG,SAAS,OAAO,CAAC;QAAI,IAAI,MAAM,KAAK,KAAK,OAAO,MAAM,YAAY,MAAM,IAAI,UAAU;QAAsB,OAAO;IAAG;IACtH,IAAI,OAAO,UAAU,IAAI,EAAE,MAAM,SAAS,WAAW,QAAQ,SAAS,WAAW,QAAQ;IACzF,IAAI,SAAS,CAAC,gBAAgB,OAAO,SAAS,CAAC,SAAS,GAAG,OAAO,KAAK,SAAS,GAAG;IACnF,IAAI,aAAa,gBAAgB,CAAC,SAAS,OAAO,wBAAwB,CAAC,QAAQ,UAAU,IAAI,IAAI,CAAC,CAAC;IACvG,IAAI,GAAG,OAAO;IACd,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;QAC7C,IAAI,UAAU,CAAC;QACf,IAAK,IAAI,KAAK,UAAW,OAAO,CAAC,EAAE,GAAG,MAAM,WAAW,CAAC,IAAI,SAAS,CAAC,EAAE;QACxE,IAAK,IAAI,KAAK,UAAU,MAAM,CAAE,QAAQ,MAAM,CAAC,EAAE,GAAG,UAAU,MAAM,CAAC,EAAE;QACvE,QAAQ,cAAc,GAAG,SAAU,CAAC;YAAI,IAAI,MAAM,MAAM,IAAI,UAAU;YAA2D,kBAAkB,IAAI,CAAC,OAAO,KAAK;QAAQ;QAC5K,IAAI,SAAS,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,SAAS,aAAa;YAAE,KAAK,WAAW,GAAG;YAAE,KAAK,WAAW,GAAG;QAAC,IAAI,UAAU,CAAC,IAAI,EAAE;QACtH,IAAI,SAAS,YAAY;YACrB,IAAI,WAAW,KAAK,GAAG;YACvB,IAAI,WAAW,QAAQ,OAAO,WAAW,UAAU,MAAM,IAAI,UAAU;YACvE,IAAI,IAAI,OAAO,OAAO,GAAG,GAAG,WAAW,GAAG,GAAG;YAC7C,IAAI,IAAI,OAAO,OAAO,GAAG,GAAG,WAAW,GAAG,GAAG;YAC7C,IAAI,IAAI,OAAO,OAAO,IAAI,GAAG,aAAa,OAAO,CAAC;QACtD,OACK,IAAI,IAAI,OAAO,SAAS;YACzB,IAAI,SAAS,SAAS,aAAa,OAAO,CAAC;iBACtC,UAAU,CAAC,IAAI,GAAG;QAC3B;IACJ;IACA,IAAI,QAAQ,OAAO,cAAc,CAAC,QAAQ,UAAU,IAAI,EAAE;IAC1D,OAAO;AACT;;AAEO,SAAS,kBAAkB,OAAO,EAAE,YAAY,EAAE,KAAK;IAC5D,IAAI,WAAW,UAAU,MAAM,GAAG;IAClC,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,MAAM,EAAE,IAAK;QAC1C,QAAQ,WAAW,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,SAAS,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC;IACnF;IACA,OAAO,WAAW,QAAQ,KAAK;AACjC;;AAEO,SAAS,UAAU,CAAC;IACzB,OAAO,OAAO,MAAM,WAAW,IAAI,GAAG,MAAM,CAAC;AAC/C;;AAEO,SAAS,kBAAkB,CAAC,EAAE,IAAI,EAAE,MAAM;IAC/C,IAAI,OAAO,SAAS,UAAU,OAAO,KAAK,WAAW,GAAG,IAAI,MAAM,CAAC,KAAK,WAAW,EAAE,OAAO;IAC5F,OAAO,OAAO,cAAc,CAAC,GAAG,QAAQ;QAAE,cAAc;QAAM,OAAO,SAAS,GAAG,MAAM,CAAC,QAAQ,KAAK,QAAQ;IAAK;AACpH;;AAEO,SAAS,WAAW,WAAW,EAAE,aAAa;IACnD,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,OAAO,QAAQ,QAAQ,CAAC,aAAa;AAClH;AAEO,SAAS,UAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;IACzD,SAAS,MAAM,KAAK;QAAI,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO;YAAI,QAAQ;QAAQ;IAAI;IAC3G,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,EAAE,SAAU,OAAO,EAAE,MAAM;QACrD,SAAS,UAAU,KAAK;YAAI,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK;YAAI,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM;YAAI,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW;QAAW;QAC7G,KAAK,CAAC,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAC,EAAE,IAAI;IACtE;AACF;AAEO,SAAS,YAAY,OAAO,EAAE,IAAI;IACvC,IAAI,IAAI;QAAE,OAAO;QAAG,MAAM;YAAa,IAAI,CAAC,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,CAAC,EAAE;YAAE,OAAO,CAAC,CAAC,EAAE;QAAE;QAAG,MAAM,EAAE;QAAE,KAAK,EAAE;IAAC,GAAG,GAAG,GAAG,GAAG,IAAI,OAAO,MAAM,CAAC,CAAC,OAAO,aAAa,aAAa,WAAW,MAAM,EAAE,SAAS;IAC/L,OAAO,EAAE,IAAI,GAAG,KAAK,IAAI,CAAC,CAAC,QAAQ,GAAG,KAAK,IAAI,CAAC,CAAC,SAAS,GAAG,KAAK,IAAI,OAAO,WAAW,cAAc,CAAC,CAAC,CAAC,OAAO,QAAQ,CAAC,GAAG;QAAa,OAAO,IAAI;IAAE,CAAC,GAAG;;IAC1J,SAAS,KAAK,CAAC;QAAI,OAAO,SAAU,CAAC;YAAI,OAAO,KAAK;gBAAC;gBAAG;aAAE;QAAG;IAAG;IACjE,SAAS,KAAK,EAAE;QACZ,IAAI,GAAG,MAAM,IAAI,UAAU;QAC3B,MAAO,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAG,IAAI;YAC1C,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,OAAO;YAC3J,IAAI,IAAI,GAAG,GAAG,KAAK;gBAAC,EAAE,CAAC,EAAE,GAAG;gBAAG,EAAE,KAAK;aAAC;YACvC,OAAQ,EAAE,CAAC,EAAE;gBACT,KAAK;gBAAG,KAAK;oBAAG,IAAI;oBAAI;gBACxB,KAAK;oBAAG,EAAE,KAAK;oBAAI,OAAO;wBAAE,OAAO,EAAE,CAAC,EAAE;wBAAE,MAAM;oBAAM;gBACtD,KAAK;oBAAG,EAAE,KAAK;oBAAI,IAAI,EAAE,CAAC,EAAE;oBAAE,KAAK;wBAAC;qBAAE;oBAAE;gBACxC,KAAK;oBAAG,KAAK,EAAE,GAAG,CAAC,GAAG;oBAAI,EAAE,IAAI,CAAC,GAAG;oBAAI;gBACxC;oBACI,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,GAAG;wBAAE,IAAI;wBAAG;oBAAU;oBAC3G,IAAI,EAAE,CAAC,EAAE,KAAK,KAAK,CAAC,CAAC,KAAM,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,AAAC,GAAG;wBAAE,EAAE,KAAK,GAAG,EAAE,CAAC,EAAE;wBAAE;oBAAO;oBACrF,IAAI,EAAE,CAAC,EAAE,KAAK,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE;wBAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;wBAAE,IAAI;wBAAI;oBAAO;oBACpE,IAAI,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE;wBAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;wBAAE,EAAE,GAAG,CAAC,IAAI,CAAC;wBAAK;oBAAO;oBAClE,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,GAAG;oBACnB,EAAE,IAAI,CAAC,GAAG;oBAAI;YACtB;YACA,KAAK,KAAK,IAAI,CAAC,SAAS;QAC5B,EAAE,OAAO,GAAG;YAAE,KAAK;gBAAC;gBAAG;aAAE;YAAE,IAAI;QAAG,SAAU;YAAE,IAAI,IAAI;QAAG;QACzD,IAAI,EAAE,CAAC,EAAE,GAAG,GAAG,MAAM,EAAE,CAAC,EAAE;QAAE,OAAO;YAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,KAAK;YAAG,MAAM;QAAK;IACnF;AACF;AAEO,IAAI,kBAAkB,OAAO,MAAM,GAAI,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IAChE,IAAI,OAAO,WAAW,KAAK;IAC3B,IAAI,OAAO,OAAO,wBAAwB,CAAC,GAAG;IAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,OAAO,CAAC,EAAE,UAAU,GAAG,KAAK,QAAQ,IAAI,KAAK,YAAY,GAAG;QAC/E,OAAO;YAAE,YAAY;YAAM,KAAK;gBAAa,OAAO,CAAC,CAAC,EAAE;YAAE;QAAE;IAChE;IACA,OAAO,cAAc,CAAC,GAAG,IAAI;AAC/B,IAAM,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IACxB,IAAI,OAAO,WAAW,KAAK;IAC3B,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE;AACd;AAEO,SAAS,aAAa,CAAC,EAAE,CAAC;IAC/B,IAAK,IAAI,KAAK,EAAG,IAAI,MAAM,aAAa,CAAC,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,gBAAgB,GAAG,GAAG;AAC7G;AAEO,SAAS,SAAS,CAAC;IACxB,IAAI,IAAI,OAAO,WAAW,cAAc,OAAO,QAAQ,EAAE,IAAI,KAAK,CAAC,CAAC,EAAE,EAAE,IAAI;IAC5E,IAAI,GAAG,OAAO,EAAE,IAAI,CAAC;IACrB,IAAI,KAAK,OAAO,EAAE,MAAM,KAAK,UAAU,OAAO;QAC1C,MAAM;YACF,IAAI,KAAK,KAAK,EAAE,MAAM,EAAE,IAAI,KAAK;YACjC,OAAO;gBAAE,OAAO,KAAK,CAAC,CAAC,IAAI;gBAAE,MAAM,CAAC;YAAE;QAC1C;IACJ;IACA,MAAM,IAAI,UAAU,IAAI,4BAA4B;AACtD;AAEO,SAAS,OAAO,CAAC,EAAE,CAAC;IACzB,IAAI,IAAI,OAAO,WAAW,cAAc,CAAC,CAAC,OAAO,QAAQ,CAAC;IAC1D,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,KAAK,EAAE,EAAE;IAC/B,IAAI;QACA,MAAO,CAAC,MAAM,KAAK,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,CAAE,GAAG,IAAI,CAAC,EAAE,KAAK;IAC7E,EACA,OAAO,OAAO;QAAE,IAAI;YAAE,OAAO;QAAM;IAAG,SAC9B;QACJ,IAAI;YACA,IAAI,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,GAAG,EAAE,IAAI,CAAC;QAClD,SACQ;YAAE,IAAI,GAAG,MAAM,EAAE,KAAK;QAAE;IACpC;IACA,OAAO;AACT;AAGO,SAAS;IACd,IAAK,IAAI,KAAK,EAAE,EAAE,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAC3C,KAAK,GAAG,MAAM,CAAC,OAAO,SAAS,CAAC,EAAE;IACtC,OAAO;AACT;AAGO,SAAS;IACd,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,UAAU,MAAM,EAAE,IAAI,IAAI,IAAK,KAAK,SAAS,CAAC,EAAE,CAAC,MAAM;IACnF,IAAK,IAAI,IAAI,MAAM,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IACzC,IAAK,IAAI,IAAI,SAAS,CAAC,EAAE,EAAE,IAAI,GAAG,KAAK,EAAE,MAAM,EAAE,IAAI,IAAI,KAAK,IAC1D,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnB,OAAO;AACT;AAEO,SAAS,cAAc,EAAE,EAAE,IAAI,EAAE,IAAI;IAC1C,IAAI,QAAQ,UAAU,MAAM,KAAK,GAAG,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAI,IAAI,GAAG,IAAK;QACjF,IAAI,MAAM,CAAC,CAAC,KAAK,IAAI,GAAG;YACpB,IAAI,CAAC,IAAI,KAAK,MAAM,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG;YAClD,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE;QACnB;IACJ;IACA,OAAO,GAAG,MAAM,CAAC,MAAM,MAAM,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;AACpD;AAEO,SAAS,QAAQ,CAAC;IACvB,OAAO,IAAI,YAAY,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,IAAI,QAAQ;AACpE;AAEO,SAAS,iBAAiB,OAAO,EAAE,UAAU,EAAE,SAAS;IAC7D,IAAI,CAAC,OAAO,aAAa,EAAE,MAAM,IAAI,UAAU;IAC/C,IAAI,IAAI,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,GAAG,GAAG,IAAI,EAAE;IAC7D,OAAO,IAAI,OAAO,MAAM,CAAC,CAAC,OAAO,kBAAkB,aAAa,gBAAgB,MAAM,EAAE,SAAS,GAAG,KAAK,SAAS,KAAK,UAAU,KAAK,UAAU,cAAc,CAAC,CAAC,OAAO,aAAa,CAAC,GAAG;QAAc,OAAO,IAAI;IAAE,GAAG;;IACtN,SAAS,YAAY,CAAC;QAAI,OAAO,SAAU,CAAC;YAAI,OAAO,QAAQ,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG;QAAS;IAAG;IAC9F,SAAS,KAAK,CAAC,EAAE,CAAC;QAAI,IAAI,CAAC,CAAC,EAAE,EAAE;YAAE,CAAC,CAAC,EAAE,GAAG,SAAU,CAAC;gBAAI,OAAO,IAAI,QAAQ,SAAU,CAAC,EAAE,CAAC;oBAAI,EAAE,IAAI,CAAC;wBAAC;wBAAG;wBAAG;wBAAG;qBAAE,IAAI,KAAK,OAAO,GAAG;gBAAI;YAAI;YAAG,IAAI,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE;QAAG;IAAE;IACvK,SAAS,OAAO,CAAC,EAAE,CAAC;QAAI,IAAI;YAAE,KAAK,CAAC,CAAC,EAAE,CAAC;QAAK,EAAE,OAAO,GAAG;YAAE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QAAI;IAAE;IACjF,SAAS,KAAK,CAAC;QAAI,EAAE,KAAK,YAAY,UAAU,QAAQ,OAAO,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,UAAU,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;IAAI;IACvH,SAAS,QAAQ,KAAK;QAAI,OAAO,QAAQ;IAAQ;IACjD,SAAS,OAAO,KAAK;QAAI,OAAO,SAAS;IAAQ;IACjD,SAAS,OAAO,CAAC,EAAE,CAAC;QAAI,IAAI,EAAE,IAAI,EAAE,KAAK,IAAI,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IAAG;AACnF;AAEO,SAAS,iBAAiB,CAAC;IAChC,IAAI,GAAG;IACP,OAAO,IAAI,CAAC,GAAG,KAAK,SAAS,KAAK,SAAS,SAAU,CAAC;QAAI,MAAM;IAAG,IAAI,KAAK,WAAW,CAAC,CAAC,OAAO,QAAQ,CAAC,GAAG;QAAc,OAAO,IAAI;IAAE,GAAG;;IAC1I,SAAS,KAAK,CAAC,EAAE,CAAC;QAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,SAAU,CAAC;YAAI,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI;gBAAE,OAAO,QAAQ,CAAC,CAAC,EAAE,CAAC;gBAAK,MAAM;YAAM,IAAI,IAAI,EAAE,KAAK;QAAG,IAAI;IAAG;AACvI;AAEO,SAAS,cAAc,CAAC;IAC7B,IAAI,CAAC,OAAO,aAAa,EAAE,MAAM,IAAI,UAAU;IAC/C,IAAI,IAAI,CAAC,CAAC,OAAO,aAAa,CAAC,EAAE;IACjC,OAAO,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,aAAa,aAAa,SAAS,KAAK,CAAC,CAAC,OAAO,QAAQ,CAAC,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,KAAK,UAAU,KAAK,WAAW,CAAC,CAAC,OAAO,aAAa,CAAC,GAAG;QAAc,OAAO,IAAI;IAAE,GAAG,CAAC;;IAC/M,SAAS,KAAK,CAAC;QAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,IAAI,SAAU,CAAC;YAAI,OAAO,IAAI,QAAQ,SAAU,OAAO,EAAE,MAAM;gBAAI,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,OAAO,SAAS,QAAQ,EAAE,IAAI,EAAE,EAAE,KAAK;YAAG;QAAI;IAAG;IAC/J,SAAS,OAAO,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;QAAI,QAAQ,OAAO,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;YAAI,QAAQ;gBAAE,OAAO;gBAAG,MAAM;YAAE;QAAI,GAAG;IAAS;AAC7H;AAEO,SAAS,qBAAqB,MAAM,EAAE,GAAG;IAC9C,IAAI,OAAO,cAAc,EAAE;QAAE,OAAO,cAAc,CAAC,QAAQ,OAAO;YAAE,OAAO;QAAI;IAAI,OAAO;QAAE,OAAO,GAAG,GAAG;IAAK;IAC9G,OAAO;AACT;;AAEA,IAAI,qBAAqB,OAAO,MAAM,GAAI,SAAS,CAAC,EAAE,CAAC;IACrD,OAAO,cAAc,CAAC,GAAG,WAAW;QAAE,YAAY;QAAM,OAAO;IAAE;AACnE,IAAK,SAAS,CAAC,EAAE,CAAC;IAChB,CAAC,CAAC,UAAU,GAAG;AACjB;AAEO,SAAS,aAAa,GAAG;IAC9B,IAAI,OAAO,IAAI,UAAU,EAAE,OAAO;IAClC,IAAI,SAAS,CAAC;IACd,IAAI,OAAO,MAAM;QAAA,IAAK,IAAI,KAAK,IAAK,IAAI,MAAM,aAAa,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,IAAI,gBAAgB,QAAQ,KAAK;IAAE;IACxI,mBAAmB,QAAQ;IAC3B,OAAO;AACT;AAEO,SAAS,gBAAgB,GAAG;IACjC,OAAO,AAAC,OAAO,IAAI,UAAU,GAAI,MAAM;QAAE,SAAS;IAAI;AACxD;AAEO,SAAS,uBAAuB,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;IAC7D,IAAI,SAAS,OAAO,CAAC,GAAG,MAAM,IAAI,UAAU;IAC5C,IAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,WAAW,MAAM,IAAI,UAAU;IACvG,OAAO,SAAS,MAAM,IAAI,SAAS,MAAM,EAAE,IAAI,CAAC,YAAY,IAAI,EAAE,KAAK,GAAG,MAAM,GAAG,CAAC;AACtF;AAEO,SAAS,uBAAuB,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;IACpE,IAAI,SAAS,KAAK,MAAM,IAAI,UAAU;IACtC,IAAI,SAAS,OAAO,CAAC,GAAG,MAAM,IAAI,UAAU;IAC5C,IAAI,OAAO,UAAU,aAAa,aAAa,SAAS,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,WAAW,MAAM,IAAI,UAAU;IACvG,OAAO,AAAC,SAAS,MAAM,EAAE,IAAI,CAAC,UAAU,SAAS,IAAI,EAAE,KAAK,GAAG,QAAQ,MAAM,GAAG,CAAC,UAAU,QAAS;AACtG;AAEO,SAAS,sBAAsB,KAAK,EAAE,QAAQ;IACnD,IAAI,aAAa,QAAS,OAAO,aAAa,YAAY,OAAO,aAAa,YAAa,MAAM,IAAI,UAAU;IAC/G,OAAO,OAAO,UAAU,aAAa,aAAa,QAAQ,MAAM,GAAG,CAAC;AACtE;AAEO,SAAS,wBAAwB,GAAG,EAAE,KAAK,EAAE,KAAK;IACvD,IAAI,UAAU,QAAQ,UAAU,KAAK,GAAG;QACtC,IAAI,OAAO,UAAU,YAAY,OAAO,UAAU,YAAY,MAAM,IAAI,UAAU;QAClF,IAAI,SAAS;QACb,IAAI,OAAO;YACT,IAAI,CAAC,OAAO,YAAY,EAAE,MAAM,IAAI,UAAU;YAC9C,UAAU,KAAK,CAAC,OAAO,YAAY,CAAC;QACtC;QACA,IAAI,YAAY,KAAK,GAAG;YACtB,IAAI,CAAC,OAAO,OAAO,EAAE,MAAM,IAAI,UAAU;YACzC,UAAU,KAAK,CAAC,OAAO,OAAO,CAAC;YAC/B,IAAI,OAAO,QAAQ;QACrB;QACA,IAAI,OAAO,YAAY,YAAY,MAAM,IAAI,UAAU;QACvD,IAAI,OAAO,UAAU;YAAa,IAAI;gBAAE,MAAM,IAAI,CAAC,IAAI;YAAG,EAAE,OAAO,GAAG;gBAAE,OAAO,QAAQ,MAAM,CAAC;YAAI;QAAE;QACpG,IAAI,KAAK,CAAC,IAAI,CAAC;YAAE,OAAO;YAAO,SAAS;YAAS,OAAO;QAAM;IAChE,OACK,IAAI,OAAO;QACd,IAAI,KAAK,CAAC,IAAI,CAAC;YAAE,OAAO;QAAK;IAC/B;IACA,OAAO;AACT;AAEA,IAAI,mBAAmB,OAAO,oBAAoB,aAAa,kBAAkB,SAAU,KAAK,EAAE,UAAU,EAAE,OAAO;IACnH,IAAI,IAAI,IAAI,MAAM;IAClB,OAAO,EAAE,IAAI,GAAG,mBAAmB,EAAE,KAAK,GAAG,OAAO,EAAE,UAAU,GAAG,YAAY;AACjF;AAEO,SAAS,mBAAmB,GAAG;IACpC,SAAS,KAAK,CAAC;QACb,IAAI,KAAK,GAAG,IAAI,QAAQ,GAAG,IAAI,iBAAiB,GAAG,IAAI,KAAK,EAAE,8CAA8C;QAC5G,IAAI,QAAQ,GAAG;IACjB;IACA,IAAI,GAAG,IAAI;IACX,SAAS;QACP,MAAO,IAAI,IAAI,KAAK,CAAC,GAAG,GAAI;YAC1B,IAAI;gBACF,IAAI,CAAC,EAAE,KAAK,IAAI,MAAM,GAAG,OAAO,IAAI,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,QAAQ,OAAO,GAAG,IAAI,CAAC;gBACjF,IAAI,EAAE,OAAO,EAAE;oBACb,IAAI,SAAS,EAAE,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK;oBACnC,IAAI,EAAE,KAAK,EAAE,OAAO,KAAK,GAAG,QAAQ,OAAO,CAAC,QAAQ,IAAI,CAAC,MAAM,SAAS,CAAC;wBAAI,KAAK;wBAAI,OAAO;oBAAQ;gBACvG,OACK,KAAK;YACZ,EACA,OAAO,GAAG;gBACR,KAAK;YACP;QACF;QACA,IAAI,MAAM,GAAG,OAAO,IAAI,QAAQ,GAAG,QAAQ,MAAM,CAAC,IAAI,KAAK,IAAI,QAAQ,OAAO;QAC9E,IAAI,IAAI,QAAQ,EAAE,MAAM,IAAI,KAAK;IACnC;IACA,OAAO;AACT;AAEO,SAAS,iCAAiC,IAAI,EAAE,WAAW;IAChE,IAAI,OAAO,SAAS,YAAY,WAAW,IAAI,CAAC,OAAO;QACnD,OAAO,KAAK,OAAO,CAAC,oDAAoD,SAAU,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE;YAChG,OAAO,MAAM,cAAc,SAAS,QAAQ,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,IAAI,IAAK,IAAI,MAAM,MAAM,GAAG,WAAW,KAAK;QAC7G;IACJ;IACA,OAAO;AACT;uCAEe;IACb;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9893, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}