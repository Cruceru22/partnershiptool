{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 8, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/api/src/trpc.ts"],"sourcesContent":["/**\n * YOU PROBABLY DON'T NEED TO EDIT THIS FILE, UNLESS:\n * 1. You want to modify request context (see Part 1)\n * 2. You want to create a new middleware or type of procedure (see Part 3)\n *\n * tl;dr - this is where all the tRPC server stuff is created and plugged in.\n * The pieces you will need to use are documented accordingly near the end\n */\nimport { initTRPC, TRPCError } from \"@trpc/server\";\nimport superjson from \"superjson\";\nimport { ZodError } from \"zod\";\nimport { db } from \"@acme/db/client\";\nimport { auth } from \"@acme/auth\";\n\n/**\n * 1. CONTEXT\n *\n * This section defines the \"contexts\" that are available in the backend API.\n *\n * These allow you to access things when processing a request, like the database, the session, etc.\n *\n * This helper generates the \"internals\" for a tRPC context. The API handler and RSC clients each\n * wrap this and provides the required context.\n *\n * @see https://trpc.io/docs/server/context\n */\nexport const createTRPCContext = async (opts: {\n  headers: Headers;\n}) => {\n  const session = await auth.api.getSession({\n    headers: opts.headers,\n  })\n  return {\n    session,\n    db,\n  };\n};\n\n/**\n * 2. INITIALIZATION\n *\n * This is where the trpc api is initialized, connecting the context and\n * transformer\n */\nconst t = initTRPC.context<typeof createTRPCContext>().create({\n  transformer: superjson,\n  errorFormatter: ({ shape, error }) => ({\n    ...shape,\n    data: {\n      ...shape.data,\n      zodError: error.cause instanceof ZodError ? error.cause.flatten() : null,\n    },\n  }),\n});\n\n/**\n * Create a server-side caller\n * @see https://trpc.io/docs/server/server-side-calls\n */\nexport const createCallerFactory = t.createCallerFactory;\n\n/**\n * 3. ROUTER & PROCEDURE (THE IMPORTANT BIT)\n *\n * These are the pieces you use to build your tRPC API. You should import these\n * a lot in the /src/server/api/routers folder\n */\n\n/**\n * This is how you create new routers and subrouters in your tRPC API\n * @see https://trpc.io/docs/router\n */\nexport const createTRPCRouter = t.router;\n\n/**\n * Middleware for timing procedure execution and adding an articifial delay in development.\n *\n * You can remove this if you don't like it, but it can help catch unwanted waterfalls by simulating\n * network latency that would occur in production but not in local development.\n */\nconst timingMiddleware = t.middleware(async ({ next, path }) => {\n  const start = Date.now();\n\n  if (t._config.isDev) {\n    // artificial delay in dev 100-500ms\n    const waitMs = Math.floor(Math.random() * 400) + 100;\n    await new Promise((resolve) => setTimeout(resolve, waitMs));\n  }\n\n  const result = await next();\n\n  const end = Date.now();\n  console.log(`[TRPC] ${path} took ${end - start}ms to execute`);\n\n  return result;\n});\n\n/**\n * Public (unauthed) procedure\n *\n * This is the base piece you use to build new queries and mutations on your\n * tRPC API. It does not guarantee that a user querying is authorized, but you\n * can still access user session data if they are logged in\n */\nexport const publicProcedure = t.procedure.use(timingMiddleware);\n\n/**\n * Protected (authenticated) procedure\n *\n * If you want a query or mutation to ONLY be accessible to logged in users, use this. It verifies\n * the session is valid and guarantees `ctx.session.user` is not null.\n *\n * @see https://trpc.io/docs/procedures\n */\nexport const protectedProcedure = t.procedure\n  .use(timingMiddleware)\n  .use(({ ctx, next }) => {\n    if (!ctx.session?.user) {\n      throw new TRPCError({ code: \"UNAUTHORIZED\" });\n    }\n    return next({\n      ctx: {\n        // infers the `session` as non-nullable\n        session: { ...ctx.session, user: ctx.session.user },\n      },\n    });\n  });\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;;;AACD;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;AAcO,MAAM,oBAAoB,OAAO;IAGtC,MAAM,UAAU,MAAM,+HAAA,CAAA,OAAI,CAAC,GAAG,CAAC,UAAU,CAAC;QACxC,SAAS,KAAK,OAAO;IACvB;IACA,OAAO;QACL;QACA,IAAA,+HAAA,CAAA,KAAE;IACJ;AACF;AAEA;;;;;CAKC,GACD,MAAM,IAAI,gMAAA,CAAA,WAAQ,CAAC,OAAO,GAA6B,MAAM,CAAC;IAC5D,aAAa,0IAAA,CAAA,UAAS;IACtB,gBAAgB,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,GAAK,CAAC;YACrC,GAAG,KAAK;YACR,MAAM;gBACJ,GAAG,MAAM,IAAI;gBACb,UAAU,MAAM,KAAK,YAAY,oIAAA,CAAA,WAAQ,GAAG,MAAM,KAAK,CAAC,OAAO,KAAK;YACtE;QACF,CAAC;AACH;AAMO,MAAM,sBAAsB,EAAE,mBAAmB;AAajD,MAAM,mBAAmB,EAAE,MAAM;AAExC;;;;;CAKC,GACD,MAAM,mBAAmB,EAAE,UAAU,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE;IACzD,MAAM,QAAQ,KAAK,GAAG;IAEtB,IAAI,EAAE,OAAO,CAAC,KAAK,EAAE;QACnB,oCAAoC;QACpC,MAAM,SAAS,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO;QACjD,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACrD;IAEA,MAAM,SAAS,MAAM;IAErB,MAAM,MAAM,KAAK,GAAG;IACpB,QAAQ,GAAG,CAAC,CAAC,OAAO,EAAE,KAAK,MAAM,EAAE,MAAM,MAAM,aAAa,CAAC;IAE7D,OAAO;AACT;AASO,MAAM,kBAAkB,EAAE,SAAS,CAAC,GAAG,CAAC;AAUxC,MAAM,qBAAqB,EAAE,SAAS,CAC1C,GAAG,CAAC,kBACJ,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE;IACjB,IAAI,CAAC,IAAI,OAAO,EAAE,MAAM;QACtB,MAAM,IAAI,0MAAA,CAAA,YAAS,CAAC;YAAE,MAAM;QAAe;IAC7C;IACA,OAAO,KAAK;QACV,KAAK;YACH,uCAAuC;YACvC,SAAS;gBAAE,GAAG,IAAI,OAAO;gBAAE,MAAM,IAAI,OAAO,CAAC,IAAI;YAAC;QACpD;IACF;AACF","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/api/src/router/auth.ts"],"sourcesContent":["import type { TRPCRouterRecord } from \"@trpc/server\";\nimport { protectedProcedure, publicProcedure } from \"../trpc\";\n\nexport const authRouter = {\n  getSession: publicProcedure.query(({ ctx }) => {\n    return ctx.session;\n  }),\n  getSecretMessage: protectedProcedure.query(() => {\n    return \"you can see this secret message!\";\n  }),\n} satisfies TRPCRouterRecord;\n"],"names":[],"mappings":";;;AACA;;AAEO,MAAM,aAAa;IACxB,YAAY,8HAAA,CAAA,kBAAe,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,EAAE;QACxC,OAAO,IAAI,OAAO;IACpB;IACA,kBAAkB,8HAAA,CAAA,qBAAkB,CAAC,KAAK,CAAC;QACzC,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/validators/src/limits.ts"],"sourcesContent":["import { Redis } from \"@upstash/redis\";\nimport { differenceInSeconds, endOfDay, endOfMonth } from \"date-fns\";\nimport { match } from \"ts-pattern\";\n\ntype Plan = \"FREE\" | \"PRO\" | \"TEAM\";\n\n//upload limit in MB\nexport const getUploadSizeLimit = (plan: Plan) =>\n  match(plan)\n    .with(\"FREE\", () => 500)\n    .with(\"PRO\", () => 30 * 1024 * 1024)\n    .with(\"TEAM\", () => 60 * 1024 * 1024)\n    .exhaustive();\n\nexport const getUploadSizeLimitKey = (userId: string) =>\n  `user:${userId}:uploadSize`;\n\nexport const getImportLimitKey = (userId: string) => `user:${userId}:import`;\n\nexport const getEndOfMonthDuration = () => {\n  const now = new Date();\n  const endOfCurrentMonth = endOfMonth(now);\n\n  // Calculate the difference in seconds between now and the end of the month\n  const expiryTime = differenceInSeconds(endOfCurrentMonth, now);\n  return expiryTime;\n};\n\nexport const getEndOfDayDuration = () => {\n  const now = new Date();\n  const endOfCurrentDay = endOfDay(now);\n\n  // Calculate the difference in seconds between now and the end of the day\n  const expiryTime = differenceInSeconds(endOfCurrentDay, now);\n  return expiryTime;\n};\n\nconst redis = Redis.fromEnv();\n\nexport const checkUploadLimit = async (\n  plan: Plan,\n  userId: string,\n  size: number,\n) => {\n  const uploadSizeKey = getUploadSizeLimitKey(userId);\n  const importCountKey = getImportLimitKey(userId);\n\n  const limits = getUploadSizeLimit(plan);\n\n  const uploadSize = await redis.incrby(uploadSizeKey, size);\n  const importCount = await redis.incrby(importCountKey, 1);\n\n  const endOfMonth = getEndOfMonthDuration();\n\n  if (importCount === 1 && uploadSize) {\n    await redis.expire(uploadSizeKey, endOfMonth);\n    await redis.expire(importCountKey, endOfMonth);\n  }\n  if (limits && uploadSize > limits) return true;\n\n  return false;\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;;AAKO,MAAM,qBAAqB,CAAC,OACjC,CAAA,GAAA,8IAAA,CAAA,QAAK,AAAD,EAAE,MACH,IAAI,CAAC,QAAQ,IAAM,KACnB,IAAI,CAAC,OAAO,IAAM,KAAK,OAAO,MAC9B,IAAI,CAAC,QAAQ,IAAM,KAAK,OAAO,MAC/B,UAAU;AAER,MAAM,wBAAwB,CAAC,SACpC,CAAC,KAAK,EAAE,OAAO,WAAW,CAAC;AAEtB,MAAM,oBAAoB,CAAC,SAAmB,CAAC,KAAK,EAAE,OAAO,OAAO,CAAC;AAErE,MAAM,wBAAwB;IACnC,MAAM,MAAM,IAAI;IAChB,MAAM,oBAAoB,CAAA,GAAA,yIAAA,CAAA,aAAU,AAAD,EAAE;IAErC,2EAA2E;IAC3E,MAAM,aAAa,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,mBAAmB;IAC1D,OAAO;AACT;AAEO,MAAM,sBAAsB;IACjC,MAAM,MAAM,IAAI;IAChB,MAAM,kBAAkB,CAAA,GAAA,uIAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,yEAAyE;IACzE,MAAM,aAAa,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,iBAAiB;IACxD,OAAO;AACT;AAEA,MAAM,QAAQ,6JAAA,CAAA,QAAK,CAAC,OAAO;AAEpB,MAAM,mBAAmB,OAC9B,MACA,QACA;IAEA,MAAM,gBAAgB,sBAAsB;IAC5C,MAAM,iBAAiB,kBAAkB;IAEzC,MAAM,SAAS,mBAAmB;IAElC,MAAM,aAAa,MAAM,MAAM,MAAM,CAAC,eAAe;IACrD,MAAM,cAAc,MAAM,MAAM,MAAM,CAAC,gBAAgB;IAEvD,MAAM,aAAa;IAEnB,IAAI,gBAAgB,KAAK,YAAY;QACnC,MAAM,MAAM,MAAM,CAAC,eAAe;QAClC,MAAM,MAAM,MAAM,CAAC,gBAAgB;IACrC;IACA,IAAI,UAAU,aAAa,QAAQ,OAAO;IAE1C,OAAO;AACT","debugId":null}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/api/src/router/aws.ts"],"sourcesContent":["import type { TRPCRouterRecord } from \"@trpc/server\";\nimport {\n  AbortMultipartUploadCommand,\n  CompleteMultipartUploadCommand,\n  CreateMultipartUploadCommand,\n  S3Client,\n  UploadPartCommand,\n} from \"@aws-sdk/client-s3\";\nimport { getSignedUrl } from \"@aws-sdk/s3-request-presigner\";\nimport { TRPCError } from \"@trpc/server\";\nimport { z } from \"zod\";\n\nimport { eq } from \"@acme/db\";\nimport { Video } from \"@acme/db/schema\";\nimport { checkUploadLimit } from \"@acme/validators/limits\";\n\nimport { protectedProcedure } from \"../trpc\";\n\nconst bucketName = process.env.AWS_BUCKET_NAME;\nconst maxMB = 700;\n\nexport const awsRouter = {\n  initiateMultipartUpload: protectedProcedure\n    .input(\n      z.object({\n        videoId: z.string(),\n        parts: z.number(),\n        contentLength: z.number(),\n        fileExtension: z.string(),\n      }),\n    )\n    .mutation(async ({ ctx, input }) => {\n      // Check upload limit for the user\n      // TODO: Replace with actual user plan when available in the user object\n      const userPlan = \"FREE\"; // Default to FREE plan\n      const limitExceeded = await checkUploadLimit(\n        userPlan,\n        ctx.session.user.id,\n        input.contentLength,\n      );\n\n      if (limitExceeded) {\n        throw new TRPCError({\n          code: \"FORBIDDEN\",\n          message: \"You have reached your upload limit\",\n        });\n      }\n\n      const key = `${input.videoId}/video.${input.fileExtension}`;\n\n      if (input.contentLength > maxMB * 1024 * 1024) {\n        throw new TRPCError({\n          code: \"PRECONDITION_FAILED\",\n          message: \"File is too large\",\n        });\n      }\n\n      const client = new S3Client({\n        useAccelerateEndpoint: true,\n      });\n\n      const createCommand = new CreateMultipartUploadCommand({\n        Bucket: bucketName,\n        Key: key,\n        Metadata: {\n          videoid: input.videoId,\n          userid: ctx.session.user.id,\n        },\n      });\n\n      const { UploadId } = await client.send(createCommand);\n      if (!UploadId) throw new Error(\"Failed to initiate multipart upload\");\n\n      const signedUrls = await Promise.all(\n        Array.from({ length: input.parts }, async (_, index) => {\n          const uploadPartCommand = new UploadPartCommand({\n            Bucket: bucketName,\n            Key: key,\n            UploadId,\n            PartNumber: index + 1,\n          });\n\n          const signedUrl = await getSignedUrl(client, uploadPartCommand, {\n            expiresIn: 3600,\n          });\n          return { url: signedUrl, partNumber: index + 1 };\n        }),\n      );\n\n      return {\n        uploadId: UploadId,\n        signedUrls,\n      };\n    }),\n  completeMultipartUpload: protectedProcedure\n    .input(\n      z.object({\n        videoId: z.string(),\n        uploadId: z.string(),\n        parts: z.array(\n          z.object({\n            ETag: z.string(),\n            PartNumber: z.number(),\n          }),\n        ),\n        fileExtension: z.string(),\n      }),\n    )\n    .mutation(async ({ ctx, input }) => {\n      const key = `${input.videoId}/video.${input.fileExtension}`;\n\n      const client = new S3Client({\n        useAccelerateEndpoint: true,\n      });\n\n      try {\n        const command = new CompleteMultipartUploadCommand({\n          Bucket: bucketName,\n          Key: key,\n          UploadId: input.uploadId,\n          MultipartUpload: {\n            Parts: input.parts,\n          },\n        });\n\n        await client.send(command);\n\n        const videoUrl = `https://${bucketName}.s3.amazonaws.com/${key}`;\n\n        await ctx.db\n          .update(Video)\n          .set({ url: videoUrl })\n          .where(eq(Video.id, input.videoId));\n\n        return { success: true, videoUrl };\n      } catch (_error) {\n        await client.send(\n          new AbortMultipartUploadCommand({\n            Bucket: bucketName,\n            Key: key,\n            UploadId: input.uploadId,\n          }),\n        );\n        // Sentry.captureException(_error);\n\n        throw new TRPCError({\n          code: \"INTERNAL_SERVER_ERROR\",\n          message: \"Failed to complete multipart upload\",\n        });\n      }\n    }),\n} satisfies TRPCRouterRecord;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 401, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/api/src/router/comment.ts"],"sourcesContent":["import { TRPCRouterRecord } from \"@trpc/server\";\nimport { z } from \"zod\";\n\nimport { eq } from \"@acme/db\";\nimport { VideoComment } from \"@acme/db/schema\";\n\nimport { protectedProcedure } from \"../trpc\";\n\nexport const commentRouter = {\n  byVideoId: protectedProcedure\n    .input(\n      z.object({\n        videoId: z.string(),\n      }),\n    )\n    .query(async ({ ctx, input }) => {\n      const comments = await ctx.db.query.VideoComment.findMany({\n        where: eq(VideoComment.videoId, input.videoId),\n        orderBy: (videoComment, { desc }) => [desc(videoComment.createdAt)],\n        with: {\n          user: {\n            columns: {\n              id: true,\n              name: true,\n              image: true,\n            },\n          },\n        },\n      });\n\n      const sortedComments = comments.sort((a, b) => {\n        return (a.startTime ?? 0) - (b.startTime ?? 0);\n      });\n\n      return sortedComments;\n    }),\n\n  create: protectedProcedure\n    .input(\n      z.object({\n        videoId: z.string(),\n        content: z.string(),\n        startTime: z.number(),\n        endTime: z.number().optional(),\n      }),\n    )\n    .mutation(async ({ ctx, input }) => {\n      return ctx.db\n        .insert(VideoComment)\n        .values({\n          videoId: input.videoId,\n          content: input.content,\n          userId: ctx.session.user.id,\n          startTime: input.startTime,\n          endTime: input.endTime,\n        })\n        .returning({ id: VideoComment.id });\n    }),\n\n  delete: protectedProcedure\n    .input(z.string())\n    .mutation(async ({ ctx, input }) => {\n      return ctx.db.delete(VideoComment).where(eq(VideoComment.id, input));\n    }),\n} satisfies TRPCRouterRecord;\n"],"names":[],"mappings":";;;AACA;AAEA;AAAA;AACA;AAAA;AAEA;;;;;AAEO,MAAM,gBAAgB;IAC3B,WAAW,8HAAA,CAAA,qBAAkB,CAC1B,KAAK,CACJ,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACP,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM;IACnB,IAED,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE;QAC1B,MAAM,WAAW,MAAM,IAAI,EAAE,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC;YACxD,OAAO,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,+IAAA,CAAA,eAAY,CAAC,OAAO,EAAE,MAAM,OAAO;YAC7C,SAAS,CAAC,cAAc,EAAE,IAAI,EAAE,GAAK;oBAAC,KAAK,aAAa,SAAS;iBAAE;YACnE,MAAM;gBACJ,MAAM;oBACJ,SAAS;wBACP,IAAI;wBACJ,MAAM;wBACN,OAAO;oBACT;gBACF;YACF;QACF;QAEA,MAAM,iBAAiB,SAAS,IAAI,CAAC,CAAC,GAAG;YACvC,OAAO,CAAC,EAAE,SAAS,IAAI,CAAC,IAAI,CAAC,EAAE,SAAS,IAAI,CAAC;QAC/C;QAEA,OAAO;IACT;IAEF,QAAQ,8HAAA,CAAA,qBAAkB,CACvB,KAAK,CACJ,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACP,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM;QACjB,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM;QACjB,WAAW,oIAAA,CAAA,IAAC,CAAC,MAAM;QACnB,SAAS,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC9B,IAED,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE;QAC7B,OAAO,IAAI,EAAE,CACV,MAAM,CAAC,+IAAA,CAAA,eAAY,EACnB,MAAM,CAAC;YACN,SAAS,MAAM,OAAO;YACtB,SAAS,MAAM,OAAO;YACtB,QAAQ,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;YAC3B,WAAW,MAAM,SAAS;YAC1B,SAAS,MAAM,OAAO;QACxB,GACC,SAAS,CAAC;YAAE,IAAI,+IAAA,CAAA,eAAY,CAAC,EAAE;QAAC;IACrC;IAEF,QAAQ,8HAAA,CAAA,qBAAkB,CACvB,KAAK,CAAC,oIAAA,CAAA,IAAC,CAAC,MAAM,IACd,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE;QAC7B,OAAO,IAAI,EAAE,CAAC,MAAM,CAAC,+IAAA,CAAA,eAAY,EAAE,KAAK,CAAC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,+IAAA,CAAA,eAAY,CAAC,EAAE,EAAE;IAC/D;AACJ","debugId":null}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/api/src/router/video.ts"],"sourcesContent":["import { TRPCRouterRecord } from \"@trpc/server\";\nimport { z } from \"zod\";\n\nimport { eq } from \"@acme/db\";\nimport { Video } from \"@acme/db/schema\";\n\nimport { protectedProcedure } from \"../trpc\";\n\nexport const videoRouter = {\n  create: protectedProcedure\n    .input(\n      z.object({\n        title: z.string(),\n      }),\n    )\n    .mutation(async ({ ctx, input }) => {\n      return ctx.db\n        .insert(Video)\n        .values({\n          title: input.title,\n          userId: ctx.session.user.id,\n        })\n        .returning({ id: Video.id });\n    }),\n  all: protectedProcedure.query(async ({ ctx }) => {\n    return ctx.db.query.Video.findMany({\n      where: eq(Video.userId, ctx.session.user.id),\n    });\n  }),\n  delete: protectedProcedure\n    .input(z.string())\n    .mutation(async ({ ctx, input }) => {\n      return ctx.db.delete(Video).where(eq(Video.id, input));\n    }),\n  rename: protectedProcedure\n    .input(\n      z.object({\n        id: z.string(),\n        title: z.string(),\n      }),\n    )\n    .mutation(async ({ ctx, input }) => {\n      return ctx.db\n        .update(Video)\n        .set({ title: input.title })\n        .where(eq(Video.id, input.id))\n        .returning({ id: Video.id });\n    }),\n  byId: protectedProcedure.input(z.string()).query(async ({ ctx, input }) => {\n    return ctx.db.query.Video.findFirst({\n      where: eq(Video.id, input),\n    });\n  }),\n} satisfies TRPCRouterRecord;\n"],"names":[],"mappings":";;;AACA;AAEA;AAAA;AACA;AAAA;AAEA;;;;;AAEO,MAAM,cAAc;IACzB,QAAQ,8HAAA,CAAA,qBAAkB,CACvB,KAAK,CACJ,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACP,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM;IACjB,IAED,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE;QAC7B,OAAO,IAAI,EAAE,CACV,MAAM,CAAC,+IAAA,CAAA,QAAK,EACZ,MAAM,CAAC;YACN,OAAO,MAAM,KAAK;YAClB,QAAQ,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;QAC7B,GACC,SAAS,CAAC;YAAE,IAAI,+IAAA,CAAA,QAAK,CAAC,EAAE;QAAC;IAC9B;IACF,KAAK,8HAAA,CAAA,qBAAkB,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE;QAC1C,OAAO,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC;YACjC,OAAO,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,+IAAA,CAAA,QAAK,CAAC,MAAM,EAAE,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;QAC7C;IACF;IACA,QAAQ,8HAAA,CAAA,qBAAkB,CACvB,KAAK,CAAC,oIAAA,CAAA,IAAC,CAAC,MAAM,IACd,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE;QAC7B,OAAO,IAAI,EAAE,CAAC,MAAM,CAAC,+IAAA,CAAA,QAAK,EAAE,KAAK,CAAC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,+IAAA,CAAA,QAAK,CAAC,EAAE,EAAE;IACjD;IACF,QAAQ,8HAAA,CAAA,qBAAkB,CACvB,KAAK,CACJ,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACP,IAAI,oIAAA,CAAA,IAAC,CAAC,MAAM;QACZ,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM;IACjB,IAED,QAAQ,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE;QAC7B,OAAO,IAAI,EAAE,CACV,MAAM,CAAC,+IAAA,CAAA,QAAK,EACZ,GAAG,CAAC;YAAE,OAAO,MAAM,KAAK;QAAC,GACzB,KAAK,CAAC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,+IAAA,CAAA,QAAK,CAAC,EAAE,EAAE,MAAM,EAAE,GAC3B,SAAS,CAAC;YAAE,IAAI,+IAAA,CAAA,QAAK,CAAC,EAAE;QAAC;IAC9B;IACF,MAAM,8HAAA,CAAA,qBAAkB,CAAC,KAAK,CAAC,oIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,EAAE;QACpE,OAAO,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC;YAClC,OAAO,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,+IAAA,CAAA,QAAK,CAAC,EAAE,EAAE;QACtB;IACF;AACF","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/api/src/root.ts"],"sourcesContent":["import { authRouter } from \"./router/auth\";\nimport { awsRouter } from \"./router/aws\";\nimport { commentRouter } from \"./router/comment\";\nimport { videoRouter } from \"./router/video\";\nimport { createTRPCRouter } from \"./trpc\";\n\nexport const appRouter = createTRPCRouter({\n  auth: authRouter,\n  aws: awsRouter,\n  video: videoRouter,\n  comment: commentRouter,\n});\n\n// export type definition of API\nexport type AppRouter = typeof appRouter;\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,YAAY,CAAA,GAAA,8HAAA,CAAA,mBAAgB,AAAD,EAAE;IACxC,MAAM,wIAAA,CAAA,aAAU;IAChB,KAAK,uIAAA,CAAA,YAAS;IACd,OAAO,yIAAA,CAAA,cAAW;IAClB,SAAS,2IAAA,CAAA,gBAAa;AACxB","debugId":null}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/packages/api/src/index.ts"],"sourcesContent":["import type { inferRouterInputs, inferRouterOutputs } from \"@trpc/server\";\n\nimport type { AppRouter } from \"./root\";\nimport { appRouter } from \"./root\";\nimport { createCallerFactory, createTRPCContext } from \"./trpc\";\n\n/**\n * Create a server-side caller for the tRPC API\n * @example\n * const trpc = createCaller(createContext);\n * const res = await trpc.post.all();\n *       ^? Post[]\n */\nconst createCaller = createCallerFactory(appRouter);\n\n/**\n * Inference helpers for input types\n * @example\n * type PostByIdInput = RouterInputs['post']['byId']\n *      ^? { id: number }\n **/\ntype RouterInputs = inferRouterInputs<AppRouter>;\n\n/**\n * Inference helpers for output types\n * @example\n * type AllPostsOutput = RouterOutputs['post']['all']\n *      ^? Post[]\n **/\ntype RouterOutputs = inferRouterOutputs<AppRouter>;\n\nexport { createTRPCContext, appRouter, createCaller };\nexport type { AppRouter, RouterInputs, RouterOutputs };\n"],"names":[],"mappings":";;;AAGA;AACA;;;AAEA;;;;;;CAMC,GACD,MAAM,eAAe,CAAA,GAAA,8HAAA,CAAA,sBAAmB,AAAD,EAAE,8HAAA,CAAA,YAAS","debugId":null}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/trpc/query-client.ts"],"sourcesContent":["import {\n  defaultShouldDehydrateQuery,\n  QueryClient,\n} from \"@tanstack/react-query\";\nimport SuperJSON from \"superjson\";\n\nexport const createQueryClient = () =>\n  new QueryClient({\n    defaultOptions: {\n      queries: {\n        // With SSR, we usually want to set some default staleTime\n        // above 0 to avoid refetching immediately on the client\n        staleTime: 30 * 1000,\n      },\n      dehydrate: {\n        serializeData: SuperJSON.serialize,\n        shouldDehydrateQuery: (query) =>\n          defaultShouldDehydrateQuery(query) ||\n          query.state.status === \"pending\",\n        shouldRedactErrors: () => {\n          // We should not catch Next.js server errors\n          // as that's how Next.js detects dynamic pages\n          // so we cannot redact them.\n          // Next.js also automatically redacts errors for us\n          // with better digests.\n          return false;\n        },\n      },\n      hydrate: {\n        deserializeData: SuperJSON.deserialize,\n      },\n    },\n  });\n"],"names":[],"mappings":";;;AAAA;AAAA;AAIA;;;AAEO,MAAM,oBAAoB,IAC/B,IAAI,6KAAA,CAAA,cAAW,CAAC;QACd,gBAAgB;YACd,SAAS;gBACP,0DAA0D;gBAC1D,wDAAwD;gBACxD,WAAW,KAAK;YAClB;YACA,WAAW;gBACT,eAAe,0IAAA,CAAA,UAAS,CAAC,SAAS;gBAClC,sBAAsB,CAAC,QACrB,CAAA,GAAA,2KAAA,CAAA,8BAA2B,AAAD,EAAE,UAC5B,MAAM,KAAK,CAAC,MAAM,KAAK;gBACzB,oBAAoB;oBAClB,4CAA4C;oBAC5C,8CAA8C;oBAC9C,4BAA4B;oBAC5B,mDAAmD;oBACnD,uBAAuB;oBACvB,OAAO;gBACT;YACF;YACA,SAAS;gBACP,iBAAiB,0IAAA,CAAA,UAAS,CAAC,WAAW;YACxC;QACF;IACF","debugId":null}},
    {"offset": {"line": 606, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/trpc/server.tsx"],"sourcesContent":["import type { TRPCQueryOptions } from \"@trpc/tanstack-react-query\";\nimport { cache } from \"react\";\nimport { headers } from \"next/headers\";\nimport { dehydrate, HydrationBoundary } from \"@tanstack/react-query\";\nimport { createTRPCOptionsProxy } from \"@trpc/tanstack-react-query\";\n\nimport type { AppRouter } from \"@acme/api\";\nimport { appRouter, createTRPCContext } from \"@acme/api\";\n\nimport { createQueryClient } from \"./query-client\";\n\n/**\n * This wraps the `createTRPCContext` helper and provides the required context for the tRPC API when\n * handling a tRPC call from a React Server Component.\n */\nconst createContext = cache(async () => {\n  const heads = new Headers(await headers());\n  heads.set(\"x-trpc-source\", \"rsc\");\n\n  return createTRPCContext({\n    headers: heads,\n  });\n});\n\nexport const getQueryClient = cache(createQueryClient);\n\nexport const trpc = createTRPCOptionsProxy<AppRouter>({\n  router: appRouter,\n  ctx: createContext,\n  queryClient: getQueryClient,\n});\n\nexport function HydrateClient(props: { children: React.ReactNode }) {\n  const queryClient = getQueryClient();\n  return (\n    <HydrationBoundary state={dehydrate(queryClient)}>\n      {props.children}\n    </HydrationBoundary>\n  );\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function prefetch<T extends ReturnType<TRPCQueryOptions<any>>>(\n  queryOptions: T,\n) {\n  const queryClient = getQueryClient();\n  if (queryOptions.queryKey[1]?.type === \"infinite\") {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-explicit-any\n    void queryClient.prefetchInfiniteQuery(queryOptions as any);\n  } else {\n    void queryClient.prefetchQuery(queryOptions);\n  }\n}\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAEA;;;;;;;;AAEA;;;CAGC,GACD,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,QAAK,AAAD,EAAE;IAC1B,MAAM,QAAQ,IAAI,QAAQ,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACtC,MAAM,GAAG,CAAC,iBAAiB;IAE3B,OAAO,CAAA,GAAA,8HAAA,CAAA,oBAAiB,AAAD,EAAE;QACvB,SAAS;IACX;AACF;AAEO,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,QAAK,AAAD,EAAE,gJAAA,CAAA,oBAAiB;AAE9C,MAAM,OAAO,CAAA,GAAA,gMAAA,CAAA,yBAAsB,AAAD,EAAa;IACpD,QAAQ,8HAAA,CAAA,YAAS;IACjB,KAAK;IACL,aAAa;AACf;AAEO,SAAS,cAAc,KAAoC;IAChE,MAAM,cAAc;IACpB,qBACE,8OAAC,oLAAA,CAAA,oBAAiB;QAAC,OAAO,CAAA,GAAA,2KAAA,CAAA,YAAS,AAAD,EAAE;kBACjC,MAAM,QAAQ;;;;;;AAGrB;AAEO,SAAS,SACd,YAAe;IAEf,MAAM,cAAc;IACpB,IAAI,aAAa,QAAQ,CAAC,EAAE,EAAE,SAAS,YAAY;QACjD,qGAAqG;QACrG,KAAK,YAAY,qBAAqB,CAAC;IACzC,OAAO;QACL,KAAK,YAAY,aAAa,CAAC;IACjC;AACF","debugId":null}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 678, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/_components/video-dropzone.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VideoDropzone = registerClientReference(\n    function() { throw new Error(\"Attempted to call VideoDropzone() from the server but VideoDropzone is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/nextjs/src/app/(dashboard)/_components/video-dropzone.tsx <module evaluation>\",\n    \"VideoDropzone\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,gBAAgB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,gGACA","debugId":null}},
    {"offset": {"line": 686, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/_components/video-dropzone.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VideoDropzone = registerClientReference(\n    function() { throw new Error(\"Attempted to call VideoDropzone() from the server but VideoDropzone is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/nextjs/src/app/(dashboard)/_components/video-dropzone.tsx\",\n    \"VideoDropzone\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,gBAAgB,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,4EACA","debugId":null}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/_components/video-list/video-list.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VideoList = registerClientReference(\n    function() { throw new Error(\"Attempted to call VideoList() from the server but VideoList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/nextjs/src/app/(dashboard)/_components/video-list/video-list.tsx <module evaluation>\",\n    \"VideoList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,uGACA","debugId":null}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 730, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/_components/video-list/video-list.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VideoList = registerClientReference(\n    function() { throw new Error(\"Attempted to call VideoList() from the server but VideoList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/nextjs/src/app/(dashboard)/_components/video-list/video-list.tsx\",\n    \"VideoList\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,mFACA","debugId":null}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 748, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 754, "column": 0}, "map": {"version":3,"sources":["file:///Users/andreicruceru/comment.video/apps/nextjs/src/app/%28dashboard%29/page.tsx"],"sourcesContent":["import { HydrateClient, prefetch, trpc } from \"~/trpc/server\";\nimport { VideoDropzone } from \"./_components/video-dropzone\";\nimport { VideoList } from \"./_components/video-list/video-list\";\n\nexport default function HomePage() {\n  // You can await this here if you don't want to show Suspense fallback below\n  prefetch(trpc.video.all.queryOptions());\n\n  return (\n    <HydrateClient>\n      <div className=\"flex flex-col gap-4\">\n        <VideoDropzone />\n        {/* <AuthShowcase /> */}\n\n        <VideoList />\n      </div>\n    </HydrateClient>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACtB,4EAA4E;IAC5E,CAAA,GAAA,wIAAA,CAAA,WAAQ,AAAD,EAAE,wIAAA,CAAA,OAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY;IAEpC,qBACE,8OAAC,wIAAA,CAAA,gBAAa;kBACZ,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,kLAAA,CAAA,gBAAa;;;;;8BAGd,8OAAC,+LAAA,CAAA,YAAS;;;;;;;;;;;;;;;;AAIlB","debugId":null}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}